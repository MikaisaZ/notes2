# JSé«˜çº§(å°šç¡…è°·)

è¯¾ç¨‹é“¾æŽ¥:https://www.bilibili.com/video/BV14s411E7qf

###  â… -åŸºæœ¬(å€¼)ç±»åž‹

> 1. String: ä»»æ„å­—ç¬¦ä¸²
> 2. Number: ä»»æ„çš„æ•°å­—
> 3. boolean: true/false
> 4. undefined: undefined
> 5. null: null -->ä½¿ç”¨`typeof`æ—¶è¿”å›ž`object`
> 6. [symbol](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FGlossary%2FSymbol) ([ECMAScript](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FGlossary%2FECMAScript) 2016æ–°å¢ž)ã€‚ -->Symbol æ˜¯ [åŸºæœ¬æ•°æ®ç±»åž‹](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FGlossary%2FPrimitive) çš„ä¸€ç§ï¼Œ[`Symbol`](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FSymbol) å¯¹è±¡æ˜¯ SymbolåŽŸå§‹å€¼çš„[å°è£… (en-US)](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FGlossary%2FWrapper) ã€‚
> 7. [bigint](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FGlossary%2FBigInt)ï¼Œ -->**BigInt** æ˜¯ä¸€ç§æ•°å­—ç±»åž‹çš„æ•°æ®ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦æ ¼å¼çš„æ•´æ•°ã€‚

### â…¡-å¯¹è±¡(å¼•ç”¨)ç±»åž‹

> 1. Object: ä»»æ„å¯¹è±¡
> 2. Function: ä¸€ç§ç‰¹åˆ«çš„`å¯¹è±¡`(å¯ä»¥æ‰§è¡Œ) --å†…éƒ¨åŒ…å«å¯è¿è¡Œçš„ä»£ç 
> 3. Array: ä¸€ç§ç‰¹åˆ«çš„`å¯¹è±¡`(`key`ä¸ºæ•°å€¼ä¸‹æ ‡å±žæ€§, å†…éƒ¨æ•°æ®æ˜¯æœ‰åºçš„)

### â…¢-åˆ¤æ–­æ–¹æ³•

#### â‘ *` typeof`*

> **`typeof`** æ“ä½œç¬¦è¿”å›žä¸€ä¸ª`å­—ç¬¦ä¸²`ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»åž‹ã€‚
>
> - å¯ä»¥åˆ¤æ–­: undefined/ æ•°å€¼ / å­—ç¬¦ä¸² / å¸ƒå°”å€¼ / function
> - ä¸èƒ½åˆ¤æ–­: nullä¸Žobject objectä¸Žarray
> - `æ³¨æ„`: è¿è¡Œ`console.log(typeof undefined)`æ—¶,å¾—åˆ°çš„çš„ä¹Ÿæ˜¯ä¸€ä¸ª`å­—ç¬¦ä¸²,åŒæ—¶ä¸ºå°å†™!!`--> `'undefined'`
> - ä»£ç ç¤ºä¾‹

```js
  // typeofè¿”å›žæ•°æ®ç±»åž‹çš„å­—ç¬¦ä¸²è¡¨è¾¾
  var a
  
  //æ³¨æ„:typeofè¿”å›žçš„æ˜¯å­—ç¬¦ä¸²
  console.log(a, typeof a, typeof a==='undefined',a===undefined )  // undefined 'undefined' true true
  console.log(undefined === 'undefined') //false
  a = 4
  console.log(typeof a==='number') //true
  a = 'hongjilin'
  console.log(typeof a==='string') //true
  console.log(typeof a==='String') //false  -->æ³¨æ„,è¿”å›žçš„ç±»åž‹ä¸ºå°å†™
  a = true
  console.log(typeof a==='boolean') //true
  a = null
  console.log(typeof a, a===null) // 'object'  true
 let b={}
  console.log(typeof b,typeof null, '-------') // 'object' 'object'  -->æ‰€ä»¥Typeofä¸èƒ½åˆ¤æ–­nullä¸Žobject
```

####  â‘¡*`instanceof`*(åˆ¤æ–­å®žä¾‹æ–¹æ³•)

> - `ä¸“é—¨åˆ¤æ–­å¯¹è±¡`çš„å…·ä½“ç±»åž‹
> - **`instanceof`** **è¿ç®—ç¬¦**ç”¨äºŽæ£€æµ‹æž„é€ å‡½æ•°çš„ `prototype` å±žæ€§æ˜¯å¦å‡ºçŽ°åœ¨æŸä¸ªå®žä¾‹å¯¹è±¡çš„åŽŸåž‹é“¾ä¸Šã€‚
> - ä»£ç ç¤ºä¾‹:
>
> ```js
>   var b1 = {
>     b2: [1, 'abc', console.log],
>  //å¯ä»¥ç®€åŒ–æˆ b3:()=>()=> 'hongjilin'  -->é«˜é˜¶å‡½æ•°ç›¸å…³çŸ¥è¯†
>     b3: function () {
>       return  () =>{  return   'hongjilin'}
>     }
>   }
>  /**ä½¿ç”¨instanceofè¿›è¡Œå¯¹è±¡åˆ¤æ–­*/
>   console.log(b1 instanceof Object, b1 instanceof Array) // true  false
>   console.log(b1.b2 instanceof Array, b1.b2 instanceof Object) // true true
>   console.log(b1.b3 instanceof Function, b1.b3 instanceof Object) // true true
> 
>   /**ä½¿ç”¨typeofè¿›è¡Œå¯¹è±¡ä¸­æŸå±žæ€§çš„åˆ¤æ–­*/
>  console.log(typeof b1.b2, typeof null) // 'object' 'object'  
>   console.log(typeof b1.b3==='function') // true
>   console.log(typeof b1.b2[2]==='function') //true
> 
>   /**è°ƒç”¨å¯¹è±¡ä¸Žæ•°ç»„ä¸­æŸå‡½æ•°ç¤ºä¾‹*/
>   b1.b2[2]('è°ƒç”¨console.logæ‰“å°hongjilin')    //è°ƒç”¨console.logæ‰“å°hongjilin
>   console.log(b1.b3()()) // hongjilin
> ```

####  â‘¢*`===`*

> å…·ä½“å¯ä»¥çœ‹ MDNçš„[JavaScriptä¸­çš„ç›¸ç­‰æ€§åˆ¤æ–­](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FEquality_comparisons_and_sameness)
>
> å¯ä»¥åˆ¤æ–­: undefined, null
>
> ç®€è€Œè¨€ä¹‹ï¼Œåœ¨æ¯”è¾ƒä¸¤ä»¶äº‹æƒ…æ—¶ï¼Œ`åŒç­‰å·å°†æ‰§è¡Œç±»åž‹è½¬æ¢`;` ä¸‰ç­‰å·å°†è¿›è¡Œç›¸åŒçš„æ¯”è¾ƒï¼Œè€Œä¸è¿›è¡Œç±»åž‹è½¬æ¢` (å¦‚æžœç±»åž‹ä¸åŒ, åªæ˜¯æ€»ä¼šè¿”å›ž false )

### â…£-ç›¸å…³é—®é¢˜å¼•å‡º

#### â‘  *undefinedä¸Žnullçš„åŒºåˆ«?*

> - undefinedä»£è¡¨å®šä¹‰æœªèµ‹å€¼
> - nulllå®šä¹‰å¹¶èµ‹å€¼äº†, åªæ˜¯å€¼ä¸ºnull
> - ä»£ç ç¤ºä¾‹
>
> ```js
>   var a
>   console.log(a)  // undefined
>   a = null
>   console.log(a) // null
> ```

#### â‘¡ *ä»€ä¹ˆæ—¶å€™ç»™å˜é‡èµ‹å€¼ä¸ºnullå‘¢?*

> - åˆå§‹èµ‹å€¼, è¡¨æ˜Žå°†è¦èµ‹å€¼ä¸ºå¯¹è±¡,`å¯ä»¥ç”¨åšçº¦å®šä¿—æˆçš„å ä½ç¬¦`
> - ç»“æŸå‰, è®©å¯¹è±¡æˆä¸ºåžƒåœ¾å¯¹è±¡(è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶)
> - ä»£ç ç¤ºä¾‹
>
> ```js
>   //èµ·å§‹,å¯ä»¥ç”¨åšçº¦å®šä¿—æˆçš„å ä½ç¬¦
>   var b = null  // åˆå§‹èµ‹å€¼ä¸ºnull, è¡¨æ˜Žå°†è¦èµ‹å€¼ä¸ºå¯¹è±¡
>   //ç¡®å®šå¯¹è±¡å°±èµ‹å€¼
>   b = ['atguigu', 12]
>   //æœ€åŽåœ¨ä¸ä½¿ç”¨çš„æ—¶å€™,å°†å…¶å¼•ç”¨ç½®ç©º,å°±å¯ä»¥é‡Šæ”¾bè¿™ä¸ªå¯¹è±¡å ç”¨çš„å†…å­˜      ---å½“æ²¡æœ‰å¼•ç”¨æŒ‡å‘å®ƒçš„å¯¹è±¡ç§°ä¸ºåžƒåœ¾å¯¹è±¡
>   b = null // è®©bæŒ‡å‘çš„å¯¹è±¡æˆä¸ºåžƒåœ¾å¯¹è±¡(è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶)
> ```

#### â‘¢ *ä¸¥æ ¼åŒºåˆ«å˜é‡ç±»åž‹ä¸Žæ•°æ®ç±»åž‹?*

> - æ•°æ®çš„ç±»åž‹
> - åŸºæœ¬ç±»åž‹
> - å¯¹è±¡ç±»åž‹
> - å˜é‡çš„ç±»åž‹(å˜é‡å†…å­˜å€¼çš„ç±»åž‹)
> - åŸºæœ¬ç±»åž‹: ä¿å­˜å°±æ˜¯`åŸºæœ¬ç±»åž‹`çš„æ•°æ®
> - å¼•ç”¨ç±»åž‹: ä¿å­˜çš„æ˜¯åœ°å€å€¼(å¯¹è±¡ç±»åž‹)

## 2ã€æ•°æ®,å˜é‡, å†…å­˜çš„ç†è§£

### â… -ä»€ä¹ˆæ˜¯æ•°æ®?

> 1. å­˜å‚¨åœ¨å†…å­˜ä¸­ä»£è¡¨ç‰¹å®šä¿¡æ¯çš„'ä¸œè¥¿', æœ¬è´¨ä¸Šæ˜¯0101...
> 2. æ•°æ®çš„ç‰¹ç‚¹: `å¯ä¼ é€’`, `å¯è¿ç®—` -->let a=0;b=a ðŸ”œä½“çŽ°å¯ä¼ é€’
> 3. ä¸€åˆ‡çš†æ•°æ®
> 4. å†…å­˜ä¸­æ‰€æœ‰æ“ä½œçš„ç›®æ ‡: æ•°æ®
>
> - ç®—æœ¯è¿ç®—
> - é€»è¾‘è¿ç®—
> - èµ‹å€¼
> - è¿è¡Œå‡½æ•°

### â…¡-ä»€ä¹ˆæ˜¯å†…å­˜?

> 1. å†…å­˜æ¡é€šç”µåŽäº§ç”Ÿçš„å¯å‚¨å­˜æ•°æ®çš„ç©ºé—´(ä¸´æ—¶çš„)
>
> ![image-20210630191828124](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210630191828124.png)
>
> 1. å†…å­˜äº§ç”Ÿå’Œæ­»äº¡: å†…å­˜æ¡(ç”µè·¯ç‰ˆ)==>é€šç”µ==>äº§ç”Ÿå†…å­˜ç©ºé—´==>å­˜å‚¨æ•°æ®==>å¤„ç†æ•°æ®==>æ–­ç”µ==>å†…å­˜ç©ºé—´å’Œæ•°æ®éƒ½æ¶ˆå¤±
> 2. ä¸€å—å°å†…å­˜çš„2ä¸ªæ•°æ®
>
> - å†…éƒ¨å­˜å‚¨çš„æ•°æ®
> - åœ°å€å€¼
>
> 1. å†…å­˜åˆ†ç±»
>
> - æ ˆ: å…¨å±€å˜é‡/å±€éƒ¨å˜é‡
> - å †: å¯¹è±¡
> - ![image-20210630192130518](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210630192130518.png)

### â…¢-ä»€ä¹ˆæ˜¯å˜é‡?

> - å¯å˜åŒ–çš„é‡, ç”±å˜é‡åå’Œå˜é‡å€¼ç»„æˆ
> - æ¯ä¸ªå˜é‡éƒ½å¯¹åº”çš„ä¸€å—å°å†…å­˜, å˜é‡åç”¨æ¥æŸ¥æ‰¾å¯¹åº”çš„å†…å­˜, å˜é‡å€¼å°±æ˜¯å†…å­˜ä¸­ä¿å­˜çš„æ•°æ®
>
> ps:å˜é‡`obj.xx`-->`.`ç›¸å½“äºŽæ‹¿ç€åœ°å€æ‰¾åˆ°åŽé¢å¯¹åº”çš„å†…å­˜,æ‰€ä»¥åªæœ‰å½“æˆ‘å˜é‡ä¸­å­˜çš„æ˜¯åœ°å€,æ‰å¯ä»¥ç”¨`.`

### â…£-å†…å­˜,æ•°æ®, å˜é‡ä¸‰è€…ä¹‹é—´çš„å…³ç³»

> - å†…å­˜ç”¨æ¥å­˜å‚¨æ•°æ®çš„ç©ºé—´
> - å˜é‡æ˜¯å†…å­˜çš„æ ‡è¯†

### â…¤-ç›¸å…³é—®é¢˜å¼•å‡º

#### â‘  *å…³äºŽèµ‹å€¼å’Œå†…å­˜çš„é—®é¢˜*

> let a = xxx, aå†…å­˜ä¸­åˆ°åº•ä¿å­˜çš„æ˜¯ä»€ä¹ˆ?
>
> - xxxæ˜¯åŸºæœ¬æ•°æ®, ä¿å­˜çš„å°±æ˜¯è¿™ä¸ªæ•°æ®
> - xxxæ˜¯å¯¹è±¡, ä¿å­˜çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼
> - xxxæ˜¯ä¸€ä¸ªå˜é‡, ä¿å­˜çš„xxxçš„å†…å­˜å†…å®¹(å¯èƒ½æ˜¯åŸºæœ¬æ•°æ®, ä¹Ÿå¯èƒ½æ˜¯åœ°å€å€¼)

#### â‘¡ *å…³äºŽå¼•ç”¨å˜é‡èµ‹å€¼é—®é¢˜*

> - 2ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, é€šè¿‡ä¸€ä¸ªå˜é‡ä¿®æ”¹å¯¹è±¡å†…éƒ¨æ•°æ®, å¦ä¸€ä¸ªå˜é‡çœ‹åˆ°çš„æ˜¯ä¿®æ”¹ä¹‹åŽçš„æ•°æ®
> - 2ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, è®©å…¶ä¸­ä¸€ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡, å¦ä¸€å¼•ç”¨å˜é‡ä¾ç„¶æŒ‡å‘å‰ä¸€ä¸ªå¯¹è±¡
> - ä»£ç ç¤ºä¾‹:
>
> ```js
> //å®žä¾‹1
> var obj1 = {name:"tom"}
> var obj2 = obj1
> obj2.age = 12
> console.log(obj1.age)//æ‰“å°12
> function fn(obj){
>     obj.name = "A"
> }
> fn(obj1)
> console.log(obj2.name)//æ‰“å°A
> ```
>
> ```js
> //å®žä¾‹2  
>   var a = {age: 12}
>   
> //æ­¤æ—¶æ˜¯å°†aæŒ‡å‘çš„åœ°å€å€¼èµ‹å€¼ç»™b,æ‰€ä»¥bæ­¤æ—¶ä¹ŸæŒ‡å‘{age:12}è¿™ä¸ªå†…å­˜
>   var b = a
>   
> //æ­¤æ—¶é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªå†…å­˜å¹¶è®©aæŒ‡å‘å®ƒ,æ‰€ä»¥æ­¤å¤„aæŒ‡å‘çš„æ˜¯{name:'hong',age:13},è€ŒbæŒ‡å‘ä»æ˜¯åˆšå¼€å§‹çš„æŒ‡å‘{age:12}
>   a = {name: 'Bob',age:13}
> 
> //æ­¤æ—¶aä¸ŽbæŒ‡å‘çš„å†…å­˜å·²ç»ä¸ä¸€æ ·äº†,æ‰€ä»¥ä¿®æ”¹äº’ä¸å½±å“
>   b.age = 14
>   console.log(b.age, a.name, a.age) // 14 Bob undefined
>   //æ­¤æ—¶å…¶å®žå·²ç»é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªå†…å­˜{age:15},å¹¶ä¸”å°†å…¶åœ°å€èµ‹å€¼è¦†ç›–ç»™a
> 
> //å‚æ•°å…¶å®žå°±ç›¸å½“äºŽåœ¨å‡½æ•°ä½œç”¨åŸŸé‡Œå£°æ˜Žäº†ä¸€ä¸ªå˜é‡ï¼ŒæŠŠaä¼ è¿›åŽ»ä¹Ÿå°±æ˜¯æŠŠaèƒŒåŽçš„åœ°å€å€¼å¤åˆ¶ç»™äº†objï¼Œä½ æŠŠobjçš„æŒ‡å‘æ”¹äº†ï¼Œå¹¶ä¸å½±å“åŽŸæ¥çš„a
>   function fn2=(obj) => obj = {age: 15}
>   fn2(a)
>   console.log(a.age) //13
> ```

#### â‘¢ *åœ¨jsè°ƒç”¨å‡½æ•°æ—¶ä¼ é€’å˜é‡å‚æ•°æ—¶, æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’*

> - ç†è§£1: éƒ½æ˜¯å€¼(åŸºæœ¬/åœ°å€å€¼)ä¼ é€’
> - æ‰€ä»¥å®žé™…ä¸Šä¼ è¿›functionä¸­çš„å‚æ•°ä¹Ÿæ˜¯æ‹¿ç€å…¶å­˜ç€çš„åœ°å€å€¼æ‰¾å†…å­˜
>
> ```js
> var a = 3
> //è¿˜æ˜¯é‚£ä¸ªé—®é¢˜ï¼Œå‡½æ•°çš„å‚æ•°ç›¸å½“äºŽåœ¨å‡½æ•°ä½œç”¨åŸŸé‡Œæ–°å»ºäº†ä¸€ä¸ªå˜é‡ï¼Œç„¶åŽæŠŠaçš„å€¼ä¹Ÿå°±æ˜¯3å¤åˆ¶ç»™äº†å®ƒã€‚ä¸¤ä¸ªaåªæ˜¯åå­—ä¸€æ ·ç½¢äº†ï¼Œä½ æ”¹å‡½æ•°é‡Œé¢çš„aå¹¶ä¸å½±å“å…¨å±€ä½œç”¨åŸŸé‡Œçš„a
> function fn(a){
>     a = a+1
> }
> console.log(a)//æ‰“å°çš„æ˜¯3
> 
> //ä¼ è¿›æ¥çš„objå­˜å‚¨çš„æ˜¯aä¸­å­˜çš„åœ°å€å€¼,æ‰€ä»¥obj==a(å› ä¸ºä»–ä»¬åœ°å€å€¼ä¸€è‡´,æŒ‡å‘ä¸€è‡´)
> //å‚æ•°å…¶å®žå°±ç›¸å½“äºŽåœ¨å‡½æ•°ä½œç”¨åŸŸé‡Œå£°æ˜Žäº†ä¸€ä¸ªå˜é‡ï¼ŒæŠŠaä¼ è¿›åŽ»ä¹Ÿå°±æ˜¯æŠŠaèƒŒåŽçš„åœ°å€å€¼å¤åˆ¶ç»™äº†objï¼Œä½ æŠŠobjçš„æŒ‡å‘æ”¹äº†ï¼Œå¹¶ä¸å½±å“åŽŸæ¥çš„a
>   var a = {age:13}
>   function fn2=(obj) => obj.age= 15
>   fn2(a)
>   console.log(a.age) //13
> ```
>
> - ç†è§£2: å¯èƒ½æ˜¯å€¼ä¼ é€’, ä¹Ÿå¯èƒ½æ˜¯å¼•ç”¨ä¼ é€’(åœ°å€å€¼)

#### â‘£ *JSå¼•æ“Žå¦‚ä½•ç®¡ç†å†…å­˜?*

> 1. å†…å­˜ç”Ÿå‘½å‘¨æœŸ
>
> - åˆ†é…å°å†…å­˜ç©ºé—´, å¾—åˆ°å®ƒçš„ä½¿ç”¨æƒ
> - å­˜å‚¨æ•°æ®, å¯ä»¥åå¤è¿›è¡Œæ“ä½œ
> - é‡Šæ”¾å°å†…å­˜ç©ºé—´
>
> 1. é‡Šæ”¾å†…å­˜
>
> - å±€éƒ¨å˜é‡: å‡½æ•°æ‰§è¡Œå®Œè‡ªåŠ¨é‡Šæ”¾
> - å¯¹è±¡: æˆä¸ºåžƒåœ¾å¯¹è±¡==>åžƒåœ¾å›žæ”¶å™¨å›žæ”¶
>
> ```js
>  var a = 3
>  var obj = {}
>  obj = undefined ||null  //æ­¤æ—¶,objæ²¡æœ‰è¢«é‡Šæ”¾,ä½†æ˜¯ä¹‹å‰å£°æ˜Žçš„`{name:"hong"}`ç”±äºŽæ²¡æœ‰äººæŒ‡å‘å®ƒ,ä¼šåœ¨åŽé¢ä½ æŸä¸ªæ—¶åˆ»è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶
> 
> function fn () { var b = {}}
>  fn() // bæ˜¯è‡ªåŠ¨é‡Šæ”¾, bæ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯åœ¨åŽé¢çš„æŸä¸ªæ—¶åˆ»ç”±åžƒåœ¾å›žæ”¶å™¨å›žæ”¶
> ```

## 3ã€å¯¹è±¡

### â… -å¯¹è±¡çš„æ¦‚å¿µ

#### â‘  *ä»€ä¹ˆæ˜¯å¯¹è±¡?*

> - å¤šä¸ªæ•°æ®çš„å°è£…ä½“
> - ç”¨æ¥ä¿å­˜å¤šä¸ªæ•°æ®çš„å®¹å™¨
> - ä¸€ä¸ªå¯¹è±¡ä»£è¡¨çŽ°å®žä¸­çš„ä¸€ä¸ªäº‹ç‰©

#### â‘¡ *ä¸ºä»€ä¹ˆè¦ç”¨å¯¹è±¡?*

> - ç»Ÿä¸€ç®¡ç†å¤šä¸ªæ•°æ®

#### â‘¢ *å¯¹è±¡çš„ç»„æˆ*

> - å±žæ€§: å±žæ€§å(å­—ç¬¦ä¸²)å’Œå±žæ€§å€¼(ä»»æ„)ç»„æˆ
> - æ–¹æ³•: ä¸€ç§ç‰¹åˆ«çš„å±žæ€§(å±žæ€§å€¼æ˜¯å‡½æ•°)

### â…¡-å¦‚ä½•è®¿é—®å¯¹è±¡å†…éƒ¨æ•°æ®?

> - `.å±žæ€§å`: ç¼–ç ç®€å•, æœ‰æ—¶ä¸èƒ½ç”¨
> - `['å±žæ€§å']`: ç¼–ç éº»çƒ¦, èƒ½é€šç”¨
>
> ```js
> var p = {
> 	name:"Tom",
> 	age:12,
> 	setName:function(name){
> 		this.name = name
> 	},
> 	setAge:function(age){
> 		this.age = age
> 	}
> }
> p.setName("Bob")
> p['setAge'](23)
> console.log(p.name,p['age']);//Bob	23
> ```
>
> 

### â…¢-ä»€ä¹ˆæ—¶å€™å¿…é¡»ä½¿ç”¨`['å±žæ€§å']`çš„æ–¹å¼?

> 1. å±žæ€§ååŒ…å«ç‰¹æ®Šå­—ç¬¦: `-` `ç©ºæ ¼`
> 2. å±žæ€§åä¸ç¡®å®š
> 2. å±žæ€§åå¾ˆåˆé’»æ¯”å¦‚"@#!@#"
>
> ```js
>  var p = {}
>  //1. ç»™på¯¹è±¡æ·»åŠ ä¸€ä¸ªå±žæ€§: content type: text/json
>  // å¦‚æžœåƒè¿™æ ·å†™ï¼šp.content-type = 'text/json' ä¼šæŠ¥é”™ï¼Œå› ä¸º"-"å±žäºŽç‰¹æ®Šå­—ç¬¦
>  //æ‰€ä»¥å¿…é¡»åƒä¸‹é¢è¿™æ ·å†™æ‰å¯ä»¥
>  p['content-type'] = 'text/json'
>  console.log(p['content-type'])//åŒæ ·è¯»å–çš„æ—¶å€™ä¹Ÿè¦è¿™æ ·å†™
> 
>  //2. å±žæ€§åä¸ç¡®å®š
>  var propName = 'myAge'
>  var value = 18
>  // p.propName = value //ä¸èƒ½ç”¨ï¼Œå› ä¸ºpä¼šæŠŠpropNameæœ¬èº«å½“åšå±žæ€§åï¼Œè€Œä¸æ˜¯'myAge'
>  p[propName] = value
>  console.log(p[propName])
> ```

## 4ã€å‡½æ•°

### â… -å‡½æ•°çš„æ¦‚å¿µ

#### â‘  *ä»€ä¹ˆæ˜¯å‡½æ•°*

> - å®žçŽ°ç‰¹å®šåŠŸèƒ½çš„næ¡è¯­å¥çš„å°è£…ä½“
> - åªæœ‰å‡½æ•°æ˜¯å¯ä»¥æ‰§è¡Œçš„, å…¶å®ƒç±»åž‹çš„æ•°æ®ä¸èƒ½æ‰§è¡Œ
>
> ```js
> //ç¼–å†™ä¸€ä¸ªé€šè¿‡å¹´é¾„çš„åˆ¤æ–­åŽ»è¾“å‡ºä¸åŒè¯­å¥çš„å‡½æ•°
> function showInfo(age){
> 	if(age>60){
> 		console.log("ç®—äº†å§")
> 	}else if(age<18){
> 		console.log("æœªæˆå¹´ï¼Œå†ç­‰ç­‰")
> 	}else{
> 		console.log("æ¬¢è¿Ž")
> 	}
> }
> ```

#### â‘¡ *ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°?*

> - æé«˜ä»£ç å¤ç”¨
> - ä¾¿äºŽé˜…è¯»äº¤æµ

#### â‘¢ *å¦‚ä½•å®šä¹‰å‡½æ•°?*

> - å‡½æ•°å£°æ˜Ž
> - è¡¨è¾¾å¼
>
> ```js
>   //åŒºåˆ«åœ¨äºŽå‘½åæå‡
> 
>   function fn1 () { console.log('fn1()' )//å‡½æ•°å£°æ˜Žï¼Œè¿™ç§æ–¹å¼çš„å¯ä»¥å‘½åæå‡
> 
>   const fn2 = ()=> console.log('fn2()')  //è¡¨è¾¾å¼
> ```

### â…¡-å¦‚ä½•è°ƒç”¨(æ‰§è¡Œ)å‡½æ•°

> 1. test(): ç›´æŽ¥è°ƒç”¨
> 2. obj.test(): é€šè¿‡å¯¹è±¡è°ƒç”¨
> 3. new test(): newè°ƒç”¨
> 4. `test.call/apply(obj)`: ä¸´æ—¶è®©testæˆä¸ºobjçš„æ–¹æ³•è¿›è¡Œè°ƒç”¨
>
> - ![image-20210705185535337](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210705185535337.png)
>
> ä»£ç ç¤ºä¾‹
>
> ```js
>   var obj = {}
>   //æ­¤å¤„ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°,å› ä¸ºç®­å¤´å‡½æ•°ä¼šæ”¹å˜thisæŒ‡å‘
>   function test2 () {
>     this.xxx = 'hzj'
>   }
>   // obj.test2()  ä¸èƒ½ç›´æŽ¥, æ ¹æœ¬å°±æ²¡æœ‰
>   test2.call(obj)  // å¯ä»¥è®©ä¸€ä¸ªå‡½æ•°æˆä¸ºæŒ‡å®šä»»æ„å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨
>   console.log(obj.xxx)//hzj
>   
> ```

### â…¢-å›žè°ƒå‡½æ•°

#### â‘  *ä»€ä¹ˆå‡½æ•°æ‰æ˜¯å›žè°ƒå‡½æ•°?*

> - ä½ å®šä¹‰çš„
> - ä½ æ²¡æœ‰è°ƒ
> - ä½†æœ€ç»ˆå®ƒæ‰§è¡Œäº†(åœ¨æŸä¸ªæ—¶åˆ»æˆ–æŸä¸ªæ¡ä»¶ä¸‹)

#### â‘¡ *å¸¸è§çš„å›žè°ƒå‡½æ•°?*

> - domäº‹ä»¶å›žè°ƒå‡½æ•° ==>å‘ç”Ÿäº‹ä»¶çš„domå…ƒç´ 
> - å®šæ—¶å™¨å›žè°ƒå‡½æ•° ===>window
> - ajaxè¯·æ±‚å›žè°ƒå‡½æ•°(åŽé¢è®²)
> - ç”Ÿå‘½å‘¨æœŸå›žè°ƒå‡½æ•°(åŽé¢è®²)
>
> ```js
>   // domäº‹ä»¶å›žè°ƒå‡½æ•°
>  document.getElementById('btn').onclick = function () {alert(this.innerHTML)}
>  /*
>  	ä¹Ÿè®¸ä½ ä¼šå¥½å¥‡ä¸Šé¢çš„thisä¸ºä»€ä¹ˆä¼šæŒ‡å‘å¾—åˆ°çš„å…ƒç´ ï¼Œä½ æƒ³å•Š,ä¸Šé¢çš„ä»£ç æ˜¯ä¸æ˜¯å°±ç›¸å½“äºŽ
>     var btn = document.getElementById("btn")
>     btn.onclick = function(){
>     	alert(this.innerHTML)
>     }
>     ä¹Ÿå°±æ˜¯è¯´åœ¨èŽ·å–åˆ°çš„btnæ˜¯ä¸æ˜¯å°±æ˜¯æˆ‘ä»¬å¾—åˆ°çš„å…ƒç´ å¯¹è±¡ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯ç»™ä»–çš„onclickå±žæ€§èµ‹å€¼ä¸ºäº†æ–¹æ³•
>     åŽé¢æœ‰äººç‚¹å‡»æŒ‰é’®ï¼Œå°±ç›¸å½“äºŽæ‰§è¡Œbtn.onclick(),æˆ‘ä»¬è¯´è¿‡ï¼Œå½“å‡½æ•°ä»¥æ–¹æ³•çš„å½¢å¼è¢«è°ƒç”¨ï¼Œthiså°±
>     æŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚æ˜¯ä¸æ˜¯å°±æŒ‡å‘btnäº†å‘¢ï¼Ÿ
>  */
> 
> 
>  // å®šæ—¶å™¨å›žè°ƒå‡½æ•°
>  setTimeout(function () {   alert('åˆ°ç‚¹äº†'+this)}, 2000)
> ```

### â…£-IIFE (è‡ªè°ƒç”¨å‡½æ•°)

> 1. å…¨ç§°: `Immediately-Invoked Function Expression` è‡ªè°ƒç”¨å‡½æ•°
> 2. ä½œç”¨:
>    - éšè—å®žçŽ°
>    - ä¸ä¼šæ±¡æŸ“å¤–éƒ¨(ä¸€èˆ¬æŒ‡å…¨å±€)å‘½åç©ºé—´
>    - ç”¨å®ƒæ¥ç¼–ç jsæ¨¡å—
> 3. ä»£ç ç¤ºä¾‹
>
> ```js
>   (function () { //åŒ¿åå‡½æ•°è‡ªè°ƒç”¨
>     var a = 3
>     console.log(a + 3)
>   })()
>   console.log(a) // a is not defined	
>   
>   //æ­¤å¤„å‰æ–¹ä¸ºä½•è¦ä¸€ä¸ª`;`-->å› ä¸ºè‡ªè°ƒç”¨å‡½æ•°å¤–éƒ¨æœ‰ä¸€ä¸ª()åŒ…è£¹,å¯èƒ½ä¸Žå‰æ–¹ä»¥()ç»“å°¾çš„ä»£ç è¢«ä¸€èµ·è®¤ä¸ºæ˜¯å‡½æ•°è°ƒç”¨
>   //ä¸åŠ åˆ†å·å¯èƒ½ä¼šè¢«è®¤ä¸ºè¿™æ · console.log(a)(IIFE)
>   ;(function () {//ä¸ä¼šæ±¡æŸ“å¤–éƒ¨(å…¨å±€)å‘½åç©ºé—´-->ä¸¾ä¾‹
>     let a = 1;
>     function test () { console.log(++a) } //å£°æ˜Žä¸€ä¸ªå±€éƒ¨å‡½æ•°test
>     window.$ = function () {  return {test: test} }// å‘å¤–æš´éœ²ä¸€ä¸ªå…¨å±€å‡½æ•°
>   })()
>  test ()  //test is not defined
>   $().test() // 1. $æ˜¯ä¸€ä¸ªå‡½æ•° 2. $æ‰§è¡ŒåŽè¿”å›žçš„æ˜¯ä¸€ä¸ªå¯¹è±¡
> ```

### â…¤-å‡½æ•°ä¸­çš„this

#### â‘  *thisæ˜¯ä»€ä¹ˆ?*

> - ä»»ä½•å‡½æ•°æœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡æŸä¸ªå¯¹è±¡æ¥è°ƒç”¨çš„,å¦‚æžœæ²¡æœ‰ç›´æŽ¥æŒ‡å®šå°±æ˜¯window
> - æ‰€æœ‰å‡½æ•°å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªå˜é‡this
> - å®ƒçš„å€¼æ˜¯`è°ƒç”¨å‡½æ•°çš„å½“å‰å¯¹è±¡`

#### â‘¡ *å¦‚ä½•ç¡®å®šthisçš„å€¼?*

> - test(): window
> - p.test(): p
> - new test(): æ–°åˆ›å»ºçš„å¯¹è±¡
> - p.call(obj): obj

#### â‘¢ *ä»£ç ä¸¾ä¾‹è¯¦è§£*

> ```js
>  function Person(color) {
>    console.log(this)
>    this.color = color;
>    this.getColor = function () {
>      console.log(this)
>      return this.color;
>    };
>    this.setColor = function (color) {
>      console.log(this)
>      this.color = color;
>    };
>  }
> 
>  Person("red"); //thisæ˜¯è°? window
> 
>  var p = new Person("yello"); //thisæ˜¯è°? p
> 
>  p.getColor(); //thisæ˜¯è°? p
> 
>  var obj = {};
>  //è°ƒç”¨callä¼šæ”¹å˜thisæŒ‡å‘-->è®©æˆ‘çš„på‡½æ•°æˆä¸º`obj`çš„ä¸´æ—¶æ–¹æ³•è¿›è¡Œè°ƒç”¨
>  p.setColor.call(obj, "black"); //thisæ˜¯è°? obj
> 
>  var test = p.setColor;
>  test(); //thisæ˜¯è°? window  -->å› ä¸ºç›´æŽ¥è°ƒç”¨äº†
> 
>  function fun1() {
>    function fun2() {  console.log(this); }
>    fun2(); //thisæ˜¯è°? window
>  }
> fun1();//è°ƒç”¨fun1
> ```

## 5ã€å…³äºŽè¯­å¥åˆ†å·

> 1. jsä¸€æ¡è¯­å¥çš„åŽé¢å¯ä»¥ä¸åŠ åˆ†å·
> 2. æ˜¯å¦åŠ åˆ†å·æ˜¯ç¼–ç é£Žæ ¼é—®é¢˜, æ²¡æœ‰åº”è¯¥ä¸åº”è¯¥ï¼Œåªæœ‰ä½ è‡ªå·±å–œæ¬¢ä¸å–œæ¬¢
> 3. åœ¨ä¸‹é¢2ç§æƒ…å†µä¸‹ä¸åŠ åˆ†å·ä¼šæœ‰é—®é¢˜
>
> - `å°æ‹¬å·å¼€å¤´çš„å‰ä¸€æ¡è¯­å¥`
> - `ä¸­æ–¹æ‹¬å·å¼€å¤´çš„å‰ä¸€æ¡è¯­å¥`
>
> 1. è§£å†³åŠžæ³•: åœ¨è¡Œé¦–åŠ åˆ†å·
> 2. å¼ºæœ‰åŠ›çš„ä¾‹å­: vue.jsåº“
> 3. çŸ¥ä¹Žçƒ­è®®: [https://www.zhihu.com/question/20298345](https://gitee.com/link?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F20298345)

------

# äºŒã€å‡½æ•°é«˜çº§

## 1ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾

### â… -åŽŸåž‹ [prototype]

> 1. å‡½æ•°çš„`prototype`å±žæ€§
>
> - æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±žæ€§, å®ƒé»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(å³ç§°ä¸º: åŽŸåž‹å¯¹è±¡)
> - åŽŸåž‹å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±žæ€§constructor, å®ƒæŒ‡å‘å‡½æ•°å¯¹è±¡
> - ![image-20220401150635676](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220401150635676.png)
> - ![image-20210714201049312](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210714201049312.png)
>
> 1. ç»™åŽŸåž‹å¯¹è±¡æ·»åŠ å±žæ€§(`ä¸€èˆ¬éƒ½æ˜¯æ–¹æ³•`)
>
> - ä½œç”¨: å‡½æ•°çš„æ‰€æœ‰å®žä¾‹å¯¹è±¡è‡ªåŠ¨æ‹¥æœ‰åŽŸåž‹ä¸­çš„å±žæ€§(æ–¹æ³•)
>
> 1. ä»£ç ç¤ºä¾‹
>
> ```js
>   // æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±žæ€§, å®ƒé»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(å³ç§°ä¸º: åŽŸåž‹å¯¹è±¡)
>   console.log(Date.prototype, typeof Date.prototype)
>   function Fun () { }
>   console.log(Fun.prototype)  // é»˜è®¤æŒ‡å‘ä¸€ä¸ªObjectç©ºå¯¹è±¡(æ²¡æœ‰æˆ‘ä»¬çš„å±žæ€§)
> 
>   // åŽŸåž‹å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±žæ€§constructor, å®ƒæŒ‡å‘å‡½æ•°å¯¹è±¡
>   console.log(Date.prototype.constructor===Date)//true
>   console.log(Fun.prototype.constructor===Fun)//true
> 
>   //ç»™åŽŸåž‹å¯¹è±¡æ·»åŠ å±žæ€§(ä¸€èˆ¬æ˜¯æ–¹æ³•) ===>å®žä¾‹å¯¹è±¡å¯ä»¥è®¿é—®
>   Fun.prototype.test = function () { console.log('test()') }
>   var fun = new Fun()
>   fun.test()
> ```

### â…¡-æ˜¾å¼åŽŸåž‹ä¸Žéšå¼åŽŸåž‹

> 1. æ¯ä¸ªå‡½æ•°functionéƒ½æœ‰ä¸€ä¸ª`prototype`ï¼Œå³`æ˜¾å¼`åŽŸåž‹(å±žæ€§)
> 2. æ¯ä¸ªå®žä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª[`__ proto __`]ï¼Œå¯ç§°ä¸º`éšå¼`åŽŸåž‹(å±žæ€§)
> 3. å¯¹è±¡çš„éšå¼åŽŸåž‹çš„å€¼ä¸ºå…¶å¯¹åº”æž„é€ å‡½æ•°çš„æ˜¾å¼åŽŸåž‹çš„å€¼
> 4. å†…å­˜ç»“æž„
>
> ![image-20210714203043314](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210714203043314.png)
>
> 1. æ€»ç»“:
>
> - å‡½æ•°çš„[`prototype`]å±žæ€§: åœ¨å®šä¹‰å‡½æ•°æ—¶è‡ªåŠ¨æ·»åŠ çš„, é»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºObjectå¯¹è±¡
> - å¯¹è±¡çš„[`__ proto __`]å±žæ€§: åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨æ·»åŠ çš„, `é»˜è®¤å€¼ä¸ºæž„é€ å‡½æ•°çš„prototypeå±žæ€§å€¼`
> - ç¨‹åºå‘˜èƒ½ç›´æŽ¥æ“ä½œæ˜¾å¼åŽŸåž‹, ä½†ä¸èƒ½ç›´æŽ¥æ“ä½œéšå¼åŽŸåž‹(ES6ä¹‹å‰)
>
> 1. ä»£ç ç¤ºä¾‹:
>
> ```js
>   //å®šä¹‰æž„é€ å‡½æ•°
>   function Fn() {
>    // å†…éƒ¨é»˜è®¤æ‰§è¡Œè¯­å¥: this.prototype = {}
>   }
>   // 1. æ¯ä¸ªå‡½æ•°functionéƒ½æœ‰ä¸€ä¸ªprototypeï¼Œå³æ˜¾å¼åŽŸåž‹å±žæ€§, é»˜è®¤æŒ‡å‘ä¸€ä¸ªç©ºçš„Objectå¯¹è±¡
>   console.log(Fn.prototype)
>   // 2. æ¯ä¸ªå®žä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª__proto__ï¼Œå¯ç§°ä¸ºéšå¼åŽŸåž‹
>   //åˆ›å»ºå®žä¾‹å¯¹è±¡
>   var fn = new Fn()  // å†…éƒ¨é»˜è®¤æ‰§è¡Œè¯­å¥: this.__proto__ = Fn.prototype
>   console.log(fn.__proto__)
>   // 3. å¯¹è±¡çš„éšå¼åŽŸåž‹çš„å€¼ä¸ºå…¶å¯¹åº”æž„é€ å‡½æ•°çš„æ˜¾å¼åŽŸåž‹çš„å€¼
>   console.log(Fn.prototype===fn.__proto__) // true
>   //ç»™åŽŸåž‹æ·»åŠ æ–¹æ³•
>   Fn.prototype.test = function () {
>     console.log('test()')
>   }
>   //é€šè¿‡å®žä¾‹è°ƒç”¨åŽŸåž‹çš„æ–¹æ³•
>   fn.test()
> ```

### â…¢-åŽŸåž‹é“¾

#### â‘  *åŽŸåž‹é“¾*

> 1. åŽŸåž‹é“¾
>
> - è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§æ—¶ï¼Œ
>   - å…ˆåœ¨è‡ªèº«å±žæ€§ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°è¿”å›ž
>   - å¦‚æžœæ²¡æœ‰, å†æ²¿ç€[`__ proto __`]è¿™æ¡é“¾å‘ä¸ŠæŸ¥æ‰¾, æ‰¾åˆ°è¿”å›ž
>   - å¦‚æžœæœ€ç»ˆæ²¡æ‰¾åˆ°, è¿”å›žundefined
>   - ![image-20220401161259780](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220401161259780.png)
>   - ![image-20210714210912653](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210714210912653.png)
> - åˆ«å: éšå¼åŽŸåž‹é“¾
> - ä½œç”¨: æŸ¥æ‰¾å¯¹è±¡çš„å±žæ€§(æ–¹æ³•)

#### â‘¡*æž„é€ å‡½æ•°/åŽŸåž‹/å®žä¾‹å¯¹è±¡çš„å…³ç³»(å›¾è§£)*

> 1. ```js
>     var o1 = new Object();
>     var o2 = {};
>    ```
>
> ![image-20210714212928432](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210714212928432.png)
>
> 1. ```js
>     function Foo(){  }
>                         
>    /*
>    	å®žä¾‹å¯¹è±¡çš„éšå¼åŽŸåž‹ç­‰äºŽå®ƒçš„æž„é€ å‡½æ•°çš„æ˜¾ç¤ºåŽŸåž‹ã€‚
>    	æˆ‘ä»¬çŸ¥é“å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„ä¸¥æ ¼å†™æ³•æ˜¯var Foo = new Function();
>    	Fooçš„æž„é€ å‡½æ•°æ˜¯Functionï¼Œæ‰€ä»¥Fooçš„__proto__ç­‰äºŽFunctionçš„prototype
>    	ä½†æ˜¯æœ‰è¶£çš„æ˜¯ï¼ŒFunctionåˆæ˜¯è‡ªå·±çš„å®žä¾‹å¯¹è±¡ï¼Œå³Function = new Funcion()
>    	å› æ­¤ï¼ŒFunctionçš„__proto__ç­‰äºŽFunctionä¹Ÿå°±æ˜¯è‡ªå·±çš„prototype
>    	æ›´æœ‰è¶£çš„æ¥äº†ï¼ŒObject()ä¹Ÿæ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œé‡ç‚¹æ˜¯å®ƒæ˜¯ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆä»–ä¹Ÿæ˜¯Functionçš„å®žä¾‹å¯¹è±¡
>    	æ‰€ä»¥Objectçš„__proto__ç­‰äºŽFunctionçš„prototype
>    	è€ŒFunctionçš„prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªObjectçš„å®žä¾‹å¯¹è±¡
>    	æ‰€ä»¥Function.prototype.__proto__===Object.prototype
>    */
>                         
>    ```
>
> ![image-20210714212945164](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210714212945164.png)
>
> ```js
> /*
> 	1.å‡½æ•°çš„æ˜¾ç¤ºåŽŸåž‹é“¾æŒ‡å‘çš„å¯¹è±¡é»˜è®¤æ˜¯ç©ºçš„Objectå®žä¾‹å¯¹è±¡ï¼Œä½†è¿™ç‚¹å¯¹äºŽObjectå¹¶ä¸æ»¡è¶³
> */
> console.log(Object.prototype instanceof Object)//false
> console.log(Function.prototype instanceof Object)//true
> 
> /*
> 	2.æ‰€æœ‰å‡½æ•°éƒ½æ˜¯Functionçš„å®žä¾‹ï¼ˆåŒ…æ‹¬Functionï¼‰
> */
> console.log(Function.__proto__ === Function.prototype)//true
> 
> /*
> 	3.Objectçš„åŽŸåž‹å¯¹è±¡æ˜¯åŽŸåž‹é“¾çš„å°½å¤´
> */
> console.log(Object.prototype.__proto__)//null
> ```
>
> ps:æ‰€æœ‰å‡½æ•°çš„[`__ proto __`]éƒ½æ˜¯ä¸€æ ·çš„

#### â‘¢ *å±žæ€§é—®é¢˜*

> - è¯»å–å¯¹è±¡çš„å±žæ€§å€¼æ—¶: ä¼šè‡ªåŠ¨åˆ°åŽŸåž‹é“¾ä¸­æŸ¥æ‰¾
> - è®¾ç½®å¯¹è±¡çš„å±žæ€§å€¼æ—¶: ä¸ä¼šæŸ¥æ‰¾åŽŸåž‹é“¾, å¦‚æžœå½“å‰å¯¹è±¡ä¸­æ²¡æœ‰æ­¤å±žæ€§, ç›´æŽ¥æ·»åŠ æ­¤å±žæ€§å¹¶è®¾ç½®å…¶å€¼
> - æ–¹æ³•ä¸€èˆ¬å®šä¹‰åœ¨åŽŸåž‹ä¸­, å±žæ€§ä¸€èˆ¬é€šè¿‡æž„é€ å‡½æ•°å®šä¹‰åœ¨å¯¹è±¡æœ¬èº«ä¸Š
> - ä»£ç ç¤ºä¾‹
>
> ```js
>   function Fn() { }
>   Fn.prototype.a = 'xxx'
>   var fn1 = new Fn()
>   console.log(fn1.a, fn1) //xxx Fn{}
> 
>   var fn2 = new Fn()
>   fn2.a = 'yyy'
>   console.log(fn1.a, fn2.a, fn2) //xxx yyy  Fn{a: "yyy"}
> 
>   function Person(name, age) {
>     this.name = name
>     this.age = age
>   }
>   Person.prototype.setName = function (name) {
>     this.name = name
>   }
>   var p1 = new Person('Tom', 12)
>   p1.setName('Bob')
>   console.log(p1)  //Person {name: "Bob", age: 12}
> 
>   var p2 = new Person('Jack', 12)
>   p2.setName('Cat')
>   console.log(p2) //Person {name: "Cat", age: 12}
>   console.log(p1.__proto__===p2.__proto__) // true   -->æ‰€ä»¥æ–¹æ³•ä¸€èˆ¬å®šä¹‰åœ¨åŽŸåž‹ä¸­
> ```

### â…£-instanceof

> 1. instanceofæ˜¯å¦‚ä½•åˆ¤æ–­çš„?
>
> - è¡¨è¾¾å¼: A instanceof B
> - å¦‚æžœBå‡½æ•°çš„æ˜¾å¼åŽŸåž‹å¯¹è±¡åœ¨Aå¯¹è±¡çš„åŽŸåž‹é“¾ä¸Š, è¿”å›žtrue, å¦åˆ™è¿”å›žfalse
> - ![image-20220401192406532](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220401192406532.png)
> - ![img](https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.pianshen.com%2Fimages%2F775%2F0dd3fd2ca1868fddd639d3d7b63ead1f.png&refer=http%3A%2F%2Fwww.pianshen.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1651405112&t=65c1cb312a0c3c91f4a8276528bf1c8e)
>
> 1. Functionæ˜¯é€šè¿‡newè‡ªå·±äº§ç”Ÿçš„å®žä¾‹
>
> ```js
>  /*
>  æ¡ˆä¾‹1
>   */
>  function Foo() {  }
>  var f1 = new Foo()
>  console.log(f1 instanceof Foo) // true
>  console.log(f1 instanceof Object) // true
>  console.log(f1 instanceof Function) //false
>  /*
>  æ¡ˆä¾‹2
>   */
>  console.log(Object instanceof Function) // true
>  console.log(Object instanceof Object) // true
>  console.log(Function instanceof Function) // true
>  console.log(Function instanceof Object) // true
> 
>  function Foo() {}
>  console.log(Object instanceof  Foo) // false
> ```

### â…¤-ç›¸å…³é¢è¯•é¢˜

> æµ‹è¯•é¢˜1:
>
> ```js
> /*
> æµ‹è¯•é¢˜1
> */
> function A () {}
> A.prototype.n = 1
> let b = new A()
> A.prototype = { n: 2, m: 3}
> let c = new A()
> console.log(b.n, b.m, c.n, c.m) // 1 undefined 2 3
> 
> /*
> 	è§£æžï¼šé¦–å…ˆï¼ŒAæ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œå®ƒåœ¨å †å†…å­˜ä¸­æ‹¥æœ‰äº†ä¸€å—åŒºåŸŸï¼Œæˆ‘ä»¬è¯´è¿‡ã€‚æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototype
> 	     å±žæ€§æŒ‡å‘ä¸€ä¸ªç©ºçš„Objectçš„å®žä¾‹å¯¹è±¡ï¼ŒçŽ°åœ¨ç¬¬äºŒè¡Œä»£ç åœ¨A.prototypeä¸­æ·»åŠ äº†ä¸€ä¸ªnå±žæ€§ï¼Œå€¼ä¸º1
> 	     ç´§æŽ¥ç€ç¬¬ä¸‰è¡Œä¸ºæž„é€ å‡½æ•°Aå£°æ˜Žäº†ä¸€ä¸ªå®žä¾‹å¯¹è±¡bï¼Œæˆ‘ä»¬è¯´è¿‡ï¼Œå®žä¾‹å¯¹è±¡çš„__proto__å’Œä»–çš„æž„é€ å‡½æ•°
> 	     çš„prototypeç›¸åŒï¼Œæ‰€ä»¥b.__proto__æ­¤æ—¶å°±æ˜¯A.prototypeã€‚æ‰€ä»¥æ­¤æ—¶çš„b.nè‡ªç„¶æ˜¯1.
> 	     ä½†æ˜¯åŽé¢é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬æŠŠA.prototypeè¿™ä¸ªå±žæ€§æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œ{n:1,m:3}ï¼Œä½†æ˜¯è¦æ³¨æ„äº†
> 	     æˆ‘ä»¬æŠŠA.prototypeçš„å¼•ç”¨åœ°å€å˜äº†ï¼Œè¿™å¹¶ä¸å½±å“b.__proto__ï¼Œæˆ‘ä»¬å‰é¢è®²è¿‡jså¼•æ“Žä¼šåœ¨å®žä¾‹åŒ–
> 	     å¯¹è±¡æ—¶æ‰§è¡Œä¸€å¥this.__proto__=A.prototypeï¼ŒçŽ°åœ¨ä½ æŠŠA.prototypeå˜äº†ï¼Œå¹¶ä¸å½±å“bä»€ä¹ˆã€‚
> 	     ç„¶åŽæˆ‘ä»¬åˆç»™æž„é€ å‡½æ•°Aå£°æ˜Žäº†ä¸€ä¸ªå®žä¾‹å¯¹è±¡cï¼Œè¦æ³¨æ„ï¼Œæˆ‘ä»¬åˆšæ‰è¯´äº†ï¼Œå®žä¾‹åŒ–å¯¹è±¡æ—¶ä¼šæ‰§è¡Œä¸€å¥
> 	     this.__proto__=A.prototypeã€‚åœ¨cåˆ›å»ºä¹‹å‰ï¼ŒA.prototypeå·²ç»å˜äº†ï¼ŒæŒ‡å‘äº†{n:2,m:3}ï¼Œ
> 	     æ‰€ä»¥c.__proto__è‡ªç„¶ä¹Ÿå°±æŒ‡å‘äº†è¿™ä¸ªæ–°çš„å¯¹è±¡ã€‚æ‰€ä»¥æŽ¥ä¸‹æ¥ä½ åœ¨æ‰“å°c.nå’Œc.mæ—¶ï¼Œä»–ä»¬ä¸¤ä¸ªå°±ä¼šæ˜¯
> 	     2,3ï¼Œä½†æ˜¯bæˆ‘ä»¬åˆšæ‰è¯´äº†å®ƒä¸å—A.prototypeæ”¹å˜å¸¦æ¥çš„å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬b.nè¿˜æ˜¯åŽŸæ¥çš„1å¹¶ä¸”b.næ˜¯
> 	     ä¸å­˜åœ¨çš„ã€‚
> */
> ```
>
> æµ‹è¯•é¢˜2:åŽŸç†çœ‹[â‘¡*æž„é€ å‡½æ•°/åŽŸåž‹/å®žä¾‹å¯¹è±¡çš„å…³ç³»(å›¾è§£)*](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#â‘¡*æž„é€ å‡½æ•°/åŽŸåž‹/å®žä¾‹å¯¹è±¡çš„å…³ç³»(å›¾è§£)*)
>
> ```js
> /*
> æµ‹è¯•é¢˜2
> */
> function F (){}
> Object.prototype.a = function(){
> console.log('a()')
> }
> Function.prototype.b = function(){
> console.log('b()')
> }
> 
> var f = new F()
> f.a() //a()
> f.b() //f.b is not a function -->æ‰¾ä¸åˆ°
> F.a() //a()
> F.b() //b()
> 
> console.log(f)
> console.log(Object.prototype)
> console.log(Function.prototype)
> 
> /*
> 	è§£æžï¼šf.a():å› ä¸ºfæ˜¯Fçš„ä¸€ä¸ªå®žä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥f.__proto__ç­‰äºŽF.prototypeã€‚æŽ¥ç€æˆ‘ä»¬è¯´è¿‡
> 	           F.prototypeä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥F.prototypeæ˜¯Objectçš„ä¸€ä¸ªå®žä¾‹å¯¹è±¡ã€‚æ‰€ä»¥æœ‰
> 	           F.prototype.__proto__ç­‰äºŽObject.prototypeã€‚æ‰€ä»¥fçš„éšå¼åŽŸåž‹é“¾æ˜¯å¯ä»¥æ‰¾åˆ°açš„
> 	     f.b():æ€è·¯ä¸Žä¸Šé¢ä¸€æ ·ï¼ŒObject.prototypeå°±æ˜¯åŽŸåž‹é“¾çš„å°½å¤´äº†ï¼Œæˆ‘ä»¬åˆ°å°½å¤´éƒ½æ²¡æ‰¾åˆ°
> 	     	   Function.prototypeã€‚æ‰€ä»¥æ‰¾ä¸åˆ°b
> 	     F.a():Fæ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œæˆ‘ä»¬è¯´è¿‡ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯Functionçš„å®žä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥æœ‰
> 	     	   F.__proto__ç­‰äºŽFunction.prototypeã€‚è€Œæˆ‘ä»¬ä¹Ÿè¯´è¿‡ï¼ŒFunction.prototype
> 	     	   ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥Function.prototypeæ˜¯Objectçš„ä¸€ä¸ªå®žåŠ›å¯¹è±¡ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°
> 	     	   Function.prototype.__proto__ç­‰äºŽObject.prototypeã€‚æ‰€ä»¥æ‰¾åˆ°äº†a
> 	     F.b():æ€è·¯ä¸Žä¸Šé¢ä¸€æ ·äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†å¯ä»¥æ‰¾åˆ°Function.prototypeæ‰€ä»¥è‡ªç„¶èƒ½æ‰¾åˆ°b
> */
> ```
>
> ç»“æžœå›¾ä¾‹
>
> ![image-20210723173855550](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210723173855550.png)

## 2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ

> > å½“ä»£ç åœ¨ JavaScript ä¸­è¿è¡Œæ—¶ï¼Œæ‰§è¡Œä»£ç çš„çŽ¯å¢ƒéžå¸¸é‡è¦ï¼Œå¹¶å°†æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š
> >
> > **å…¨å±€ä»£ç **â€”â€”ç¬¬ä¸€æ¬¡æ‰§è¡Œä»£ç çš„é»˜è®¤çŽ¯å¢ƒã€‚
> >
> > **å‡½æ•°ä»£ç **â€”â€”å½“æ‰§è¡Œæµè¿›å…¥å‡½æ•°ä½“æ—¶ã€‚
> >
> > (â€¦) â€”â€” æˆ‘ä»¬å½“ä½œ æ‰§è¡Œä¸Šä¸‹æ–‡ æ˜¯å½“å‰ä»£ç æ‰§è¡Œçš„ä¸€ä¸ªçŽ¯å¢ƒä¸ŽèŒƒå›´ã€‚
>
> æ¢å¥è¯è¯´ï¼Œå½“æˆ‘ä»¬å¯åŠ¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬ä»Žå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¼€å§‹ã€‚ä¸€äº›å˜é‡æ˜¯åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žçš„ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºå…¨å±€å˜é‡ã€‚å½“ç¨‹åºè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆ?
>
> ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š
>
> - JavaScript åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å«ä½œæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚
> - è¿™ä¸ªæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡å°†æœ‰å®ƒè‡ªå·±çš„ä¸€ç»„å˜é‡ï¼Œè¿™äº›å˜é‡å°†æ˜¯è¿™ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„æœ¬åœ°å˜é‡ã€‚
> - æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æŽ¨åˆ°åˆ°æ‰§è¡Œå †æ ˆä¸­ã€‚å¯ä»¥å°†æ‰§è¡Œå †æ ˆçœ‹ä½œæ˜¯ä¸€ç§ä¿å­˜ç¨‹åºåœ¨å…¶æ‰§è¡Œä¸­çš„ä½ç½®çš„å®¹å™¨ã€‚
>
> å‡½æ•°ä»€ä¹ˆæ—¶å€™ç»“æŸ?å½“å®ƒé‡åˆ°ä¸€ä¸ª return è¯­å¥æˆ–ä¸€ä¸ªç»“æŸæ‹¬å·}ã€‚
>
> å½“ä¸€ä¸ªå‡½æ•°ç»“æŸæ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µ:
>
> - è¿™ä¸ªæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä»Žæ‰§è¡Œå †æ ˆä¸­å¼¹å‡ºã€‚
> - å‡½æ•°å°†è¿”å›žå€¼è¿”å›žè°ƒç”¨ä¸Šä¸‹æ–‡ã€‚è°ƒç”¨ä¸Šä¸‹æ–‡æ˜¯è°ƒç”¨è¿™ä¸ªæœ¬åœ°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒå¯ä»¥æ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦å¤–ä¸€ä¸ªæœ¬åœ°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚è¿™å–å†³äºŽè°ƒç”¨æ‰§è¡Œä¸Šä¸‹æ–‡æ¥å¤„ç†æ­¤æ—¶çš„è¿”å›žå€¼ï¼Œè¿”å›žçš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€ä¸€ä¸ªæ•°ç»„ã€ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå¸ƒå°”å€¼ç­‰ç­‰ï¼Œå¦‚æžœå‡½æ•°æ²¡æœ‰ return è¯­å¥ï¼Œåˆ™è¿”å›ž undefinedã€‚
> - è¿™ä¸ªæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯ï¼Œé”€æ¯æ˜¯å¾ˆé‡è¦ï¼Œè¿™ä¸ªæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žçš„æ‰€æœ‰å˜é‡éƒ½å°†è¢«åˆ é™¤ï¼Œä¸åœ¨æœ‰å˜é‡ï¼Œè¿™ä¸ªå°±æ˜¯ä¸ºä»€ä¹ˆ ç§°ä¸ºæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è‡ªæœ‰çš„å˜é‡ã€‚
>
> æ­¤å›¾å‡ºäºŽCSDNçš„[Free Joe](https://gitee.com/link?target=https%3A%2F%2Fblog.csdn.net%2Fwangfeijiu)

### â… -å˜é‡æå‡ä¸Žå‡½æ•°æå‡

> 1. å˜é‡å£°æ˜Žæå‡
>
> - é€šè¿‡varå®šä¹‰(å£°æ˜Ž)çš„å˜é‡, åœ¨å®šä¹‰è¯­å¥ä¹‹å‰å°±å¯ä»¥è®¿é—®åˆ°
> - å€¼: undefined
>
> 1. å‡½æ•°å£°æ˜Žæå‡
>
> - é€šè¿‡functionå£°æ˜Žçš„å‡½æ•°, åœ¨ä¹‹å‰å°±å¯ä»¥ç›´æŽ¥è°ƒç”¨
> - å€¼: å‡½æ•°å®šä¹‰(å¯¹è±¡)
>
> 1. å¼•å‡ºä¸€ä¸ªé—®é¢˜: å˜é‡æå‡å’Œå‡½æ•°æå‡æ˜¯å¦‚ä½•äº§ç”Ÿçš„?
>
> ```js
> /*
>  é¢è¯•é¢˜ : è¾“å‡º undefined
>   */
>  var a = 3
>  function fn () {
>    console.log(a)
>    var a = 4 //å˜é‡æå‡
>  }
>  fn()  //undefined
> '--------------------------------------------'
>  console.log(b) //undefined  å˜é‡æå‡
>  fn2() //å¯è°ƒç”¨  å‡½æ•°æå‡
>  fn3() //ä¸èƒ½  å˜é‡æå‡
>  var b = 3
>  function fn2() {  console.log('fn2()') }
>  var fn3 = function () { console.log('fn3()') }
> ```

### â…¡-æ‰§è¡Œä¸Šä¸‹æ–‡

> 1. ä»£ç åˆ†ç±»(ä½ç½®)
>
> - å…¨å±€ä»£ç 
> - å‡½æ•°(å±€éƒ¨)ä»£ç 
>
> 1. å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡
>
> - åœ¨æ‰§è¡Œå…¨å±€ä»£ç å‰å°†windowç¡®å®šä¸ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡
> - å¯¹å…¨å±€æ•°æ®è¿›è¡Œé¢„å¤„ç†
>   - varå®šä¹‰çš„å…¨å±€å˜é‡==>undefined, æ·»åŠ ä¸ºwindowçš„å±žæ€§
>   - functionå£°æ˜Žçš„å…¨å±€å‡½æ•°==>èµ‹å€¼(fun), æ·»åŠ ä¸ºwindowçš„æ–¹æ³•
>   - this==>èµ‹å€¼(window)
> - å¼€å§‹æ‰§è¡Œå…¨å±€ä»£ç 
>
> 1. å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡
>
> - åœ¨è°ƒç”¨å‡½æ•°, å‡†å¤‡æ‰§è¡Œå‡½æ•°ä½“ä¹‹å‰, åˆ›å»ºå¯¹åº”çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡(è™šæ‹Ÿçš„, å­˜åœ¨äºŽæ ˆä¸­)
> - å¯¹å±€éƒ¨æ•°æ®è¿›è¡Œé¢„å¤„ç†
>   - å½¢å‚å˜é‡==>èµ‹å€¼(å®žå‚)==>æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±žæ€§
>   - `arguments`==>èµ‹å€¼(å®žå‚åˆ—è¡¨), æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±žæ€§ -->[ä¸æ‡‚çš„åŒå­¦çœ‹è¿™é‡Œ](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2Forphaned%2FWeb%2FJavaScript%2FReference%2FFunctions%2Farguments)
>   - varå®šä¹‰çš„å±€éƒ¨å˜é‡==>undefined, æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„å±žæ€§
>   - functionå£°æ˜Žçš„å‡½æ•° ==>èµ‹å€¼(fun), æ·»åŠ ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„æ–¹æ³•
>   - this==>èµ‹å€¼(è°ƒç”¨å‡½æ•°çš„å¯¹è±¡)
> - å¼€å§‹æ‰§è¡Œå‡½æ•°ä½“ä»£ç 

### â…¢-æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ

> 1. åœ¨å…¨å±€ä»£ç æ‰§è¡Œå‰, JSå¼•æ“Žå°±ä¼šåˆ›å»ºä¸€ä¸ªæ ˆæ¥å­˜å‚¨ç®¡ç†æ‰€æœ‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡
> 2. åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡(window)ç¡®å®šåŽ, å°†å…¶æ·»åŠ åˆ°æ ˆä¸­(åŽ‹æ ˆ)-->`æ‰€ä»¥æ ˆåº•ç™¾åˆ†ç™¾æ˜¯[window]`
> 3. åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºåŽ, å°†å…¶æ·»åŠ åˆ°æ ˆä¸­(åŽ‹æ ˆ)
> 4. åœ¨å½“å‰å‡½æ•°æ‰§è¡Œå®ŒåŽ,å°†æ ˆé¡¶çš„å¯¹è±¡ç§»é™¤(å‡ºæ ˆ)
> 5. å½“æ‰€æœ‰çš„ä»£ç æ‰§è¡Œå®ŒåŽ, æ ˆä¸­åªå‰©ä¸‹window
> 6. `ä¸Šä¸‹æ–‡æ ˆæ•°==å‡½æ•°è°ƒç”¨æ•°+1`
>
> ```js
> //1. è¿›å…¥å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡
> var a = 10
> var bar = function (x) {
>   var b = 5
>   foo(x + b)   //3. è¿›å…¥fooæ‰§è¡Œä¸Šä¸‹æ–‡           
> }
> var foo = function (y) {
>   var c = 5
>   console.log(a + c + y)
> }
> bar(10) //2. è¿›å…¥barå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡
> ```
>
> ![image-20210723183046182](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210723183046182.png)
>
> æ­¤å¤„ç”¨ä¸€ä¸ªåŠ¨æ€å›¾æ¥å±•ç¤º:
>
> ![img](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/%E6%89%A7%E8%A1%8C%E6%A0%88%E4%B8%8E%E4%BA%8B%E4%BB%B6%E9%98%9F%E5%88%97.gif)
>
> ä¸¾ä¸ªæ —å­:
>
> ```html
> //æ —å­
> <!--
> 1. ä¾æ¬¡è¾“å‡ºä»€ä¹ˆ?
> gb: undefined
> fb: 1
> fb: 2
> fb: 3
> fe: 3
> fe: 2
> fe: 1
> ge: 1
> 2. æ•´ä¸ªè¿‡ç¨‹ä¸­äº§ç”Ÿäº†å‡ ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡?  5
> -->
> <script type="text/javascript">
> console.log('gb: '+ i)
> var i = 1
> foo(1)
> function foo(i) {
>   if (i == 4) {
>     return
>   }
>   console.log('fb:' + i)
>   foo(i + 1) //é€’å½’è°ƒç”¨: åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªå·±
>   console.log('fe:' + i) //å‡ºæ ˆ æ‰€ä»¥ä¼š 3 2 1è¿™æ ·çš„ç»“æžœ
> }
> console.log('ge: ' + i)
> </script>
> ```

### â…£-ç›¸å…³é¢è¯•é¢˜

> ```js
> å‡½æ•°æå‡ä¼˜å…ˆçº§é«˜äºŽå˜é‡æå‡,ä¸”ä¸ä¼šè¢«å˜é‡å£°æ˜Žè¦†ç›–,ä½†æ˜¯ä¼šè¢«å˜é‡èµ‹å€¼è¦†ç›–
> /*
> 	æµ‹è¯•é¢˜1:  å…ˆæ‰§è¡Œå˜é‡æå‡, å†æ‰§è¡Œå‡½æ•°æå‡
> */
> function a() {}
> var a
> console.log(typeof a) // 'function'
> 
> /*
> 	æµ‹è¯•é¢˜2:
> */
> if (!(b in window)) {
> 	var b = 1  //å“ªæ€•æ˜¯åœ¨ifï¼Œelseé‡Œé¢ï¼Œä¹Ÿä¼šæœ‰å˜é‡æå‡ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ifè¯­å¥æ‰§è¡Œå‰ï¼Œbå°±å·²ç»è¢«å£°æ˜Žäº†
> }
> console.log(b) // undefined
> 
> /*
> 	æµ‹è¯•é¢˜3:
> 		è¿™é“é¢˜å‡ºçš„å¾ˆå¦™ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•é¢˜1é‡Œè¯´è¿‡ï¼Œå…ˆæ‰§è¡Œå˜é‡æå‡ï¼Œå†æ‰§è¡Œå‡½æ•°æå‡ã€‚é‚£ä¹ˆæœ‰è¶£çš„æ¥äº†ï¼Œæˆ‘ä»¬æ¥
> 		åˆ†æžï¼Œå…ˆæ‰§è¡Œå˜é‡æå‡var c;å†æ‰§è¡Œfunction c(){}ï¼Œæ­¤æ—¶cæ˜¯æ–¹æ³•ã€‚ä½†æ˜¯é‡ç‚¹æ¥äº†ï¼Œ
> 		var c;å’Œfunction cè¿™æ®µä»£ç æ—©åœ¨ç¨‹åºè¿è¡Œå‰å°±æ‰§è¡Œå®Œäº†ï¼Œä½†æ˜¯c = 1è¿™ä¸ªèµ‹å€¼è¯­å¥ä¼šåœ¨ç¨‹åºæ‰§è¡Œæ—¶
> 		æ‰æ‰§è¡Œæ‰€ä»¥ä½ æŽ¥ä¸‹æ¥è®¿é—®c(2)ä¼šæŠ¥é”™è¯´cä¸æ˜¯ä¸€ä¸ªæ–¹æ³•
> */
> var c = 1
> function c(c) {
> console.log(c)
> var c = 3 //ä¸Žæ­¤è¡Œæ— å…³
> }
> c(2) // æŠ¥é”™  c is not a function
> ```

## 3ã€ä½œç”¨åŸŸä¸Žä½œç”¨åŸŸé“¾

### â… -ä½œç”¨åŸŸ

> 1. ç†è§£
>
> - å°±æ˜¯ä¸€å—"åœ°ç›˜", ä¸€ä¸ªä»£ç æ®µæ‰€åœ¨çš„åŒºåŸŸ
> - å®ƒæ˜¯é™æ€çš„(ç›¸å¯¹äºŽä¸Šä¸‹æ–‡å¯¹è±¡), åœ¨ç¼–å†™ä»£ç æ—¶å°±ç¡®å®šäº†
>
> 1. åˆ†ç±»
>
> - å…¨å±€ä½œç”¨åŸŸ
> - å‡½æ•°ä½œç”¨åŸŸ
> - æ²¡æœ‰å—ä½œç”¨åŸŸ(ES6æœ‰äº†) -->(javaè¯­è¨€ä¹Ÿæœ‰)
>
> 1. ä½œç”¨
>
> - éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çª
>
> ```js
> /*  //jsåœ¨ES6ä¹‹å‰æ²¡å—ä½œç”¨åŸŸ
>  if(true) { var c = 3 }
>  console.log(c)
>  */
>  var a = 10,
>    b = 20
>  function fn(x) {
>    var a = 100, c = 300;
>    console.log('fn()', a, b, c, x) //100 20 300 10
>    function bar(x) {
>      var a = 1000, d = 400
>      console.log('bar()', a, b, c, d, x)
>    }
>    bar(100)//1000 20 300 400 100
>    bar(200)//1000 20 300 400 200
>  }
>  fn(10)
> ```

### â…¡-ä½œç”¨åŸŸä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡çš„åŒºåˆ«ä¸Žè”ç³»

> 1. åŒºåˆ«1:
>
> - å…¨å±€ä½œç”¨åŸŸä¹‹å¤–ï¼Œæ¯ä¸ªå‡½æ•°éƒ½ä¼šåˆ›å»ºè‡ªå·±çš„ä½œç”¨åŸŸï¼Œ`ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ã€‚è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶`
> - å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çŽ¯å¢ƒæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸç¡®å®šä¹‹åŽ, jsä»£ç é©¬ä¸Šæ‰§è¡Œä¹‹å‰åˆ›å»º
> - å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯åœ¨è°ƒç”¨å‡½æ•°æ—¶, å‡½æ•°ä½“ä»£ç æ‰§è¡Œä¹‹å‰åˆ›å»º
>
> 1. åŒºåˆ«2:
>
> - ä½œç”¨åŸŸæ˜¯é™æ€çš„, åªè¦å‡½æ•°å®šä¹‰å¥½äº†å°±ä¸€ç›´å­˜åœ¨, ä¸”ä¸ä¼šå†å˜åŒ–
> - æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯åŠ¨æ€çš„, è°ƒç”¨å‡½æ•°æ—¶åˆ›å»º, å‡½æ•°è°ƒç”¨ç»“æŸæ—¶å°±ä¼šè‡ªåŠ¨é‡Šæ”¾
>
> 1. è”ç³»:
>
> - æ‰§è¡Œä¸Šä¸‹æ–‡(å¯¹è±¡)æ˜¯ä»Žå±žäºŽæ‰€åœ¨çš„ä½œç”¨åŸŸ
> - å…¨å±€ä¸Šä¸‹æ–‡çŽ¯å¢ƒ==>å…¨å±€ä½œç”¨åŸŸ
> - å‡½æ•°ä¸Šä¸‹æ–‡çŽ¯å¢ƒ==>å¯¹åº”çš„å‡½æ•°ä½¿ç”¨åŸŸ
>
> ![image-20210727141319410](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727141319410.png)

### â…¢-ä½œç”¨åŸŸé“¾

> 1. ç†è§£
>
> - å¤šä¸ªä¸Šä¸‹çº§å…³ç³»çš„ä½œç”¨åŸŸå½¢æˆçš„é“¾, å®ƒçš„æ–¹å‘æ˜¯ä»Žä¸‹å‘ä¸Šçš„(ä»Žå†…åˆ°å¤–)
> - æŸ¥æ‰¾å˜é‡æ—¶å°±æ˜¯æ²¿ç€ä½œç”¨åŸŸé“¾æ¥æŸ¥æ‰¾çš„
>
> 1. æŸ¥æ‰¾ä¸€ä¸ªå˜é‡çš„æŸ¥æ‰¾è§„åˆ™
>
> - åœ¨å½“å‰ä½œç”¨åŸŸä¸‹çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å¯¹åº”çš„å±žæ€§, å¦‚æžœæœ‰ç›´æŽ¥è¿”å›ž, å¦åˆ™è¿›å…¥2
> - åœ¨ä¸Šä¸€çº§ä½œç”¨åŸŸçš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å¯¹åº”çš„å±žæ€§, å¦‚æžœæœ‰ç›´æŽ¥è¿”å›ž, å¦åˆ™è¿›å…¥3
> - å†æ¬¡æ‰§è¡Œ2çš„ç›¸åŒæ“ä½œ, ç›´åˆ°å…¨å±€ä½œç”¨åŸŸ, å¦‚æžœè¿˜æ‰¾ä¸åˆ°å°±æŠ›å‡ºæ‰¾ä¸åˆ°çš„å¼‚å¸¸
>
> ```js
> var a = 1
>  function fn1() {
>    var b = 2
>    function fn2() {
>      var c = 3
>      console.log(c)
>      console.log(b)
>      console.log(a)
>      console.log(d)
>    }
>    fn2()
>  }
>  fn1()
> ```

### â…£-ç›¸å…³é¢è¯•é¢˜

#### â‘  `ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ã€‚è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶`

> ä½œç”¨åŸŸ1:`ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ã€‚è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶`
>
> ```js
>  var x = 10;
>  function fn() { console.log(x); }
>  function show(f) {
>    var x = 20;
>    f();
>  }
>  show(fn); //è¾“å‡º10
> ```
>
> ![image-20210726192714660](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210726192714660.png)

#### â‘¡ å¯¹è±¡å˜é‡ä¸èƒ½äº§ç”Ÿå±€éƒ¨ä½œç”¨åŸŸ

> ```js
> var fn = function () {
>  console.log(fn)
> }
> fn()//ä¼šæ‰“å°function(){}
> 
> var obj = { //å¯¹è±¡å˜é‡ä¸èƒ½äº§ç”Ÿå±€éƒ¨ä½œç”¨åŸŸ,æ‰€ä»¥ä¼šæ‰¾åˆ°å…¨å±€åŽ»,å¯¼è‡´æŠ¥é”™
>  fn2: function () {
>   console.log(fn2)
>   //console.log(this.fn2)
>  }
> }
> obj.fn2()//ä¼šæŠ¥é”™
> ```

## 4ã€é—­åŒ…é¢„å¤‡çŸ¥è¯†ç‚¹æ¢³ç†

> åœ¨è¿›å…¥é—­åŒ…ä¹‹å‰,ä½ è¦ç¡®ä¿ä¸Šé¢çŸ¥è¯†ç‚¹ä½ èƒ½æŽŒæ¡.ä½ ä¸ç¡®å®š ? å™¢å¥½å§,é‚£ä½ å°±è·Ÿç€æˆ‘çœ‹ä¸‹è¿™éƒ¨åˆ†æ¢³ç†(å¦‚æžœæ‡‚å¾—ç›´æŽ¥è·³è¿‡å³å¯)

### â… - ä¸¾ä¸ªæ —å­åˆ†æžæ‰§è¡Œä¸Šä¸‹æ–‡

> åœ¨è®¨è®ºé—­åŒ…ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹ä¸‹æ–¹çš„ä»£ç (å»ºè®®å…ˆåªçœ‹ä»£ç è‡ªå·±å¤´è„‘é£Žæš´å†çœ‹ç¬”è®°ä¸­çš„æè¿°),ä¹Ÿç®—æ˜¯å¯¹ä¸Šé¢çŸ¥è¯†ç‚¹çš„æ¢³ç†å›žé¡¾ï¼š
>
> ```js
> 1: let a = 3
> 2: function addTwo(x) {
> 3:  let ret = x + 2
> 4:   return ret
> 5:  }
> 6: let b = addTwo(a)
> 7: console.log(b)
> ```
>
> ä¸ºäº†ç†è§£ JavaScript å¼•æ“Žæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè®©æˆ‘ä»¬è¯¦ç»†åˆ†æžä¸€ä¸‹ï¼š
>
> 1. åœ¨ç¬¬ 1 è¡Œï¼Œæˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªæ–°å˜é‡ aï¼Œå¹¶å°†èµ‹å€¼ä¸º 3ã€‚
> 2. æŽ¥ä¸‹æ¥å°±å˜å¾—æ£˜æ‰‹äº†ï¼Œç¬¬ 2 è¡Œåˆ°ç¬¬ 5 è¡Œå®žé™…ä¸Šæ˜¯åœ¨ä¸€èµ·çš„ã€‚è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ?
>
> - æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º`addTwo`çš„æ–°å˜é‡,æˆ‘ä»¬ç»™å®ƒåˆ†é…äº†ä»€ä¹ˆ? -->`ä¸€ä¸ªå‡½æ•°å®šä¹‰`ã€‚
> - ä¸¤ä¸ªæ‹¬å·{}ä¹‹é—´çš„ä»»ä½•å†…å®¹éƒ½è¢«åˆ†é…ç»™`addTwo`ï¼Œ`å‡½æ•°å†…éƒ¨çš„ä»£ç æ²¡æœ‰è¢«æ±‚å€¼ï¼Œæ²¡æœ‰è¢«æ‰§è¡Œï¼Œåªæ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ä»¥å¤‡å°†æ¥ä½¿ç”¨`ã€‚
>
> 1. çŽ°åœ¨æˆ‘ä»¬åœ¨ç¬¬ 6 è¡Œã€‚
>
> - å®ƒçœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯è¿™é‡Œæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦æ‹†å¼€åˆ†æžã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žä¸€ä¸ªæ–°å˜é‡ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸º[`b`]ï¼Œ`å˜é‡ä¸€ç»å£°æ˜Žï¼Œå…¶å€¼å³ä¸º undefined`ã€‚
> - æŽ¥ä¸‹æ¥ï¼Œä»ç„¶åœ¨ç¬¬ 6 è¡Œï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªèµ‹å€¼æ“ä½œç¬¦ã€‚æˆ‘ä»¬å‡†å¤‡ç»™å˜é‡`b`èµ‹ä¸€ä¸ªæ–°å€¼ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨ã€‚`å½“æ‚¨çœ‹åˆ°ä¸€ä¸ªå˜é‡åŽé¢è·Ÿç€ä¸€ä¸ªåœ†æ‹¬å·(â€¦)æ—¶ï¼Œè¿™å°±æ˜¯è°ƒç”¨å‡½æ•°çš„ä¿¡å·`ï¼ŒæŽ¥ç€ï¼Œæ¯ä¸ªå‡½æ•°éƒ½è¿”å›žä¸€äº›ä¸œè¥¿(å€¼ã€å¯¹è±¡æˆ– undefined)ï¼Œæ— è®ºä»Žå‡½æ•°è¿”å›žä»€ä¹ˆï¼Œéƒ½å°†èµ‹å€¼ç»™å˜é‡`b`ã€‚
>
> 1. ä½†æ˜¯é¦–å…ˆæˆ‘ä»¬éœ€è¦è°ƒç”¨æ ‡è®°ä¸º`addTwo`çš„å‡½æ•°ã€‚JavaScript å°†åœ¨å…¶å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å†…å­˜ä¸­æŸ¥æ‰¾åä¸º`addTwo`çš„å˜é‡ã€‚å™¢ï¼Œå®ƒæ‰¾åˆ°äº†ä¸€ä¸ªï¼Œå®ƒæ˜¯åœ¨[`æ­¥éª¤ 2(æˆ–ç¬¬ 2 - 5 è¡Œ)ä¸­å®šä¹‰`]çš„ã€‚å˜é‡[`addTwo`]åŒ…å«ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚
>
> - æ³¨æ„:`å˜é‡[a]ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°`ã€‚
> - JavaScript åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å†…å­˜ä¸­æœç´¢å˜é‡`a`ï¼Œæ‰¾åˆ°å®ƒï¼Œå‘çŽ°å®ƒçš„å€¼æ˜¯ 3ï¼Œå¹¶å°†æ•°å­— 3 ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå‡†å¤‡å¥½æ‰§è¡Œå‡½æ•°ã€‚
>
> 1. çŽ°åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡å°†åˆ‡æ¢,åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸º[â€œ`addTwo æ‰§è¡Œä¸Šä¸‹æ–‡`â€ï¼Œ`æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æŽ¨é€åˆ°è°ƒç”¨å †æ ˆä¸Š`ã€‚åœ¨ addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä»€ä¹ˆ?
>
> - ä½ å¯èƒ½ä¼šè¯´ï¼Œâ€œåœ¨ addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªæ–°çš„å˜é‡ retâ€ï¼Œ`è¿™æ˜¯ä¸å¯¹çš„`ã€‚
> - `æ­£ç¡®çš„ç­”æ¡ˆæ˜¯`:æˆ‘ä»¬éœ€è¦å…ˆçœ‹å‡½æ•°çš„å‚æ•°ã€‚`åœ¨ addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žä¸€ä¸ªæ–°çš„å˜é‡[x]`ï¼Œå› ä¸ºå€¼ 3 æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’çš„ï¼Œæ‰€ä»¥å˜é‡ x è¢«èµ‹å€¼ä¸º 3ã€‚
> - ä¸‹ä¸€æ­¥æ‰æ˜¯åœ¨ addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žä¸€ä¸ªæ–°çš„å˜é‡`ret`ã€‚å®ƒçš„å€¼è¢«è®¾ç½®ä¸º undefined(ç¬¬ä¸‰è¡Œ)ã€‚
>
> 1. ä»ç„¶æ˜¯ç¬¬ 3 è¡Œï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸ªç›¸åŠ æ“ä½œã€‚
>
> - é¦–å…ˆæˆ‘ä»¬éœ€è¦`x`çš„å€¼ï¼ŒJavaScript ä¼šå¯»æ‰¾ä¸€ä¸ªå˜é‡`x`ï¼Œå®ƒä¼šé¦–å…ˆåœ¨`addTwo`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå€¼ä¸º 3ã€‚ç¬¬äºŒä¸ªæ“ä½œæ•°æ˜¯æ•°å­— 2ã€‚ä¸¤ä¸ªç›¸åŠ ç»“æžœä¸º 5 å°±è¢«åˆ†é…ç»™å˜é‡`ret`ã€‚
>
> 1. ç¬¬ 4 è¡Œï¼Œæˆ‘ä»¬è¿”å›žå˜é‡`ret`çš„å†…å®¹ï¼Œåœ¨ addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å€¼ä¸º 5ï¼Œè¿”å›žï¼Œå‡½æ•°ç»“æŸã€‚
> 2. ç¬¬ 4 - 5 è¡Œï¼Œå‡½æ•°ç»“æŸã€‚
>
> - `addTwo æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯`ï¼Œå˜é‡`x`å’Œ`ret`è¢«æ¶ˆåŽ»äº†ï¼Œå®ƒä»¬å·²ç»ä¸å­˜åœ¨äº†ã€‚`addTwo æ‰§è¡Œä¸Šä¸‹æ–‡ä»Žè°ƒç”¨å †æ ˆä¸­å¼¹å‡º`ï¼Œè¿”å›žå€¼è¿”å›žç»™è°ƒç”¨ä¸Šä¸‹æ–‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡æ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå› ä¸ºå‡½æ•°`addTwo` æ˜¯ä»Žå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡è°ƒç”¨çš„ã€‚
>
> 1. çŽ°åœ¨æˆ‘ä»¬ç»§ç»­ç¬¬ 4 æ­¥çš„å†…å®¹ï¼Œè¿”å›žå€¼ 5 è¢«åˆ†é…ç»™å˜é‡`b`ï¼Œ`æ­¤æ—¶å®žé™…ä¸Šç¨‹åºä»ç„¶åœ¨ç¬¬ 6 è¡Œ`(ç›—æ¢¦ç©ºé—´æ—¢è§†æ„Ÿ![:dog:](https://assets.gitee.com/assets/emoji/dog-90422f7a15bca6134552482c3115f5d7.png))
> 2. åœ¨ç¬¬ 7 è¡Œï¼Œ`b`çš„å€¼ 5 è¢«æ‰“å°åˆ°æŽ§åˆ¶å°äº†ã€‚
>
> å¯¹äºŽä¸€ä¸ªéžå¸¸ç®€å•çš„ç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ªéžå¸¸å†—é•¿çš„è§£é‡Šï¼Œæˆ‘ä»¬ç”šè‡³è¿˜æ²¡æœ‰æ¶‰åŠé—­åŒ…ã€‚ä½†è‚¯å®šä¼šæ¶‰åŠçš„ï¼Œä¸è¿‡é¦–å…ˆæˆ‘ä»¬å¾—ç»•ä¸€ä¸¤ä¸ªå¼¯ã€‚

### â…¡-ä¸¾ä¸ªæ —å­åˆ†æžè¯æ³•ä½œç”¨åŸŸ

> è¿™é‡Œæƒ³è¯´æ˜Žï¼Œæˆ‘ä»¬åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æœ‰å˜é‡ï¼Œåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æœ‰å˜é‡ã€‚JavaScript çš„ä¸€ä¸ªå¤æ‚ä¹‹å¤„åœ¨äºŽå®ƒå¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æžœåœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ°å˜é‡ï¼Œå®ƒå°†åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾å®ƒï¼Œå¦‚æžœåœ¨å®ƒçš„è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¸€ç›´å¾€ä¸Šä¸€çº§ï¼Œç›´åˆ°å®ƒåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ä¸ºæ­¢ã€‚(å¦‚æžœæœ€åŽæ‰¾ä¸åˆ°ï¼Œå®ƒå°±æ˜¯ undefined)ã€‚
>
> ```js
> 1: let val1 = 2
> 2: function multiplyThis(n) {
> 3:   let ret = n * val1
> 4:    return ret
> 5: }
> 6: let multiplied = multiplyThis(6)
> 7: console.log('example of scope:', multiplied)
> ```
>
> ä¸‹é¢åˆ—å‡ºå‘ä¸ªæ­¥éª¤æ¥è§£é‡Šä¸€ä¸‹ï¼ˆå¦‚æžœä½ å·²ç»ç†Ÿæ‚‰äº†ï¼Œè¯·è·³è¿‡ï¼‰ï¼š
>
> 1. åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žä¸€ä¸ªæ–°çš„å˜é‡`val1`ï¼Œå¹¶å°†å…¶èµ‹å€¼ä¸º 2ã€‚
> 2. è¡Œ 2 - 5ï¼Œå£°æ˜Žä¸€ä¸ªæ–°çš„å˜é‡ `multiplyThis`ï¼Œå¹¶ç»™å®ƒåˆ†é…ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚
> 3. ç¬¬å…­è¡Œï¼Œå£°æ˜Žä¸€ä¸ªåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ `multiplied` æ–°å˜é‡ã€‚
> 4. ä»Žå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å†…å­˜ä¸­æŸ¥æ‰¾å˜é‡`multiplyThis`ï¼Œå¹¶å°†å…¶ä½œä¸ºå‡½æ•°æ‰§è¡Œï¼Œä¼ é€’æ•°å­— 6 ä½œä¸ºå‚æ•°ã€‚
>
> - æ–°å‡½æ•°è°ƒç”¨(åˆ›å»ºæ–°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ `multiplyThis` å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚
> - åœ¨ `multiplyThis` æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œ`å£°æ˜Žä¸€ä¸ªå˜é‡ n å¹¶å°†å…¶èµ‹å€¼ä¸º 6` -->å£°æ˜ŽåŽæ‰ä¼šè¿›å…¥å‡½æ•°ä½“å†…éƒ¨æ‰§è¡Œ
>
> 1. æ‰§è¡Œå‡½æ•°å›žåˆ°ç¬¬ 3 è¡Œã€‚
>
> - åœ¨`multiplyThis`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œå£°æ˜Žä¸€ä¸ªå˜é‡`ret`ã€‚
>
> - ç»§ç»­ç¬¬ 3 è¡Œã€‚å¯¹ä¸¤ä¸ªæ“ä½œæ•° n å’Œ val1 è¿›è¡Œä¹˜æ³•è¿ç®—.åœ¨
>
>   ```
>   multiplyThis
>   ```
>
>   æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å˜é‡
>
>    
>
>   ```
>   n
>   ```
>
>   ã€‚
>
>   - æˆ‘ä»¬åœ¨æ­¥éª¤ 6 ä¸­å£°æ˜Žäº†å®ƒ,å®ƒçš„å†…å®¹æ˜¯æ•°å­— 6ã€‚åœ¨`multiplyThis`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å˜é‡`val1`ã€‚
>   - `multiplyThis`æ‰§è¡Œä¸Šä¸‹æ–‡æ²¡æœ‰ä¸€ä¸ªæ ‡è®°ä¸º val1 çš„å˜é‡ã€‚`æˆ‘ä»¬å‘è°ƒç”¨ä¸Šä¸‹æ–‡æŸ¥æ‰¾ï¼Œè°ƒç”¨ä¸Šä¸‹æ–‡æ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­`å¯»æ‰¾ [`val1`]ã€‚å“¦ï¼Œæ˜¯çš„ã€åœ¨é‚£å„¿ï¼Œå®ƒåœ¨æ­¥éª¤ 1 ä¸­å®šä¹‰ï¼Œæ•°å€¼æ˜¯ 2ã€‚
>
> - ç»§ç»­ç¬¬ 3 è¡Œã€‚å°†ä¸¤ä¸ªæ“ä½œæ•°ç›¸ä¹˜å¹¶å°†å…¶èµ‹å€¼ç»™`ret`å˜é‡ï¼Œ6 * 2 = 12ï¼Œret çŽ°åœ¨å€¼ä¸º 12ã€‚
>
> 1. è¿”å›ž`ret`å˜é‡ï¼Œé”€æ¯`multiplyThis`æ‰§è¡Œä¸Šä¸‹æ–‡åŠå…¶å˜é‡ `ret` å’Œ `n` ã€‚å˜é‡ `val1` æ²¡æœ‰è¢«é”€æ¯ï¼Œå› ä¸ºå®ƒæ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ã€‚
> 2. å›žåˆ°ç¬¬ 6 è¡Œã€‚åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­ï¼Œæ•°å­— 12 èµ‹å€¼ç»™ `multiplied` çš„å˜é‡ã€‚
> 3. æœ€åŽåœ¨ç¬¬ 7 è¡Œï¼Œæˆ‘ä»¬åœ¨æŽ§åˆ¶å°ä¸­æ‰“å° `multiplied` å˜é‡çš„å€¼
>
> åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®°ä½ä¸€ä¸ªå‡½æ•°å¯ä»¥è®¿é—®åœ¨å®ƒçš„è°ƒç”¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„å˜é‡ï¼Œè¿™ä¸ªå°±æ˜¯**è¯æ³•ä½œç”¨åŸŸï¼ˆLexical scopeï¼‰**ã€‚

### â…¢- è¿”å›žå‡½æ•°çš„å‡½æ•°[`é«˜é˜¶å‡½æ•°`]

> åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œå‡½æ•°`addTwo`è¿”å›žä¸€ä¸ªæ•°å­—ã€‚è¯·è®°ä½ï¼Œå‡½æ•°å¯ä»¥è¿”å›žä»»ä½•ä¸œè¥¿ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªè¿”å›žå‡½æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼Œå› ä¸ºè¿™å¯¹äºŽä¸‹æ–¹ç†è§£é—­åŒ…éžå¸¸é‡è¦ã€‚çœ‹æ —å­ï¼š
>
> ```
> 1: let val = 7
> 2: function createAdder() {
> 3:   function addNumbers(a, b) {
> 4:     let ret = a + b
> 5:     return ret
> 6:   }
> 7:   return addNumbers
> 8: }
> 9: let adder = createAdder()
> 10: let sum = adder(val, 8)
> 11: console.log('example of function returning a function: ', sum)
> ```
>
> è®©æˆ‘ä»¬å›žåˆ°åˆ†æ­¥åˆ†è§£ï¼š
>
> 1. ç¬¬ä¸€è¡Œã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žä¸€ä¸ªå˜é‡`val`å¹¶èµ‹å€¼ä¸º 7ã€‚
> 2. è¡Œ 2 - 8ã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º `createAdder` çš„å˜é‡ï¼Œå¹¶ä¸ºå…¶åˆ†é…äº†ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚
>
> - å†…éƒ¨çš„ç¬¬ 3 è‡³ 7 è¡Œæè¿°äº†ä¸Šè¿°å‡½æ•°å®šä¹‰ï¼Œå’Œä»¥å‰ä¸€æ ·ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æŽ¥è®¨è®ºè¿™ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬åªæ˜¯å°†å‡½æ•°å®šä¹‰å­˜å‚¨åˆ°[`createAdder`]å˜é‡ä¸­ã€‚
>
> 1. ç¬¬ 9 è¡Œã€‚
>
> - æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º `adder` çš„æ–°å˜é‡ï¼Œæš‚æ—¶ï¼Œå€¼ä¸º undefined
> - æˆ‘ä»¬çœ‹åˆ°æ‹¬å·()ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œæˆ–è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒæŸ¥æ‰¾å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å†…å­˜å¹¶æŸ¥æ‰¾åä¸º`createAdder` çš„å˜é‡ï¼Œå®ƒæ˜¯åœ¨æ­¥éª¤ 2 ä¸­åˆ›å»ºçš„ã€‚å¥½å§ï¼Œæˆ‘ä»¬è°ƒç”¨å®ƒã€‚
>
> 1. è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰§è¡Œåˆ°ç¬¬ 2 è¡Œã€‚
>
> - åˆ›å»ºä¸€ä¸ªæ–°çš„`createAdder`æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬å¯ä»¥åœ¨`createAdder`çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºè‡ªæœ‰å˜é‡ã€‚js å¼•æ“Žå°†`createAdder`çš„ä¸Šä¸‹æ–‡æ·»åŠ åˆ°è°ƒç”¨å †æ ˆã€‚è¿™ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œè®©æˆ‘ä»¬`ç›´æŽ¥è·³åˆ°å®ƒçš„ä¸»ä½“éƒ¨åˆ†`.
>
> 1. ç¬¬ 3 - 6 è¡Œ(æ‰§è¡Œåˆ°ä¸»ä½“å‡½æ•°ä¸­)ã€‚
>
> - æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–°çš„å‡½æ•°å£°æ˜Žï¼Œæˆ‘ä»¬åœ¨`createAdder`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºä¸€ä¸ªå˜é‡ addNumbersã€‚è¿™å¾ˆé‡è¦ï¼Œ`addnumber`åªå­˜åœ¨äºŽ`createAdder`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚æˆ‘ä»¬å°†å‡½æ•°å®šä¹‰å­˜å‚¨åœ¨åä¸º `addNumbers` çš„è‡ªæœ‰å˜é‡ä¸­ã€‚
> - åœ¨ç¬¬ 7 è¡Œï¼Œæˆ‘ä»¬è¿”å›žå˜é‡`addNumbers`çš„å†…å®¹ã€‚js å¼•æ“ŽæŸ¥æ‰¾ä¸€ä¸ªåä¸º`addNumbers`çš„å˜é‡å¹¶æ‰¾åˆ°å®ƒï¼Œè¿™æ˜¯ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚å¥½çš„ï¼Œå‡½æ•°å¯ä»¥è¿”å›žä»»ä½•ä¸œè¥¿ï¼ŒåŒ…æ‹¬å‡½æ•°å®šä¹‰ã€‚æˆ‘ä»¬è¿”`addNumbers`çš„å®šä¹‰ã€‚ç¬¬ 4 è¡Œå’Œç¬¬ 5 è¡Œæ‹¬å·ä¹‹é—´çš„å†…å®¹æž„æˆè¯¥å‡½æ•°å®šä¹‰ã€‚
>
> 1. [return addNumbers]æ—¶ï¼Œ`createAdder`æ‰§è¡Œä¸Šä¸‹æ–‡å°†è¢«é”€æ¯ã€‚`addNumbers` å˜é‡ä¸å†å­˜åœ¨ã€‚ä½†`addNumbers`å‡½æ•°å®šä¹‰ä»ç„¶å­˜åœ¨ï¼Œ`å› ä¸ºå®ƒè¿”å›žå¹¶èµ‹å€¼ç»™äº† adder å˜é‡`ã€‚
>
> - `æ­¤å¤„å¾ˆé‡è¦`!!!æ­¤æ—¶çš„[`adder=createAdder()`]å®žé™…ä¸Šå®ƒçš„å€¼æ˜¯[`addNumbers`]çš„å‡½æ•°å®šä¹‰è€Œä¸æ˜¯[`createAdder`]äº†,adderçŽ°åœ¨æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°--è¿™é‡Œæœ‰ç‚¹ç»•,è¦ç¡®å®šç†è§£
>
> 1. ç¬¬ 10 è¡Œã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„å˜é‡ `sum`ï¼Œå…ˆèµ‹å€¼ä¸º undefined;
>
> - æŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚å“ªä¸ªå‡½æ•°?
>   - æ˜¯åä¸º`adder`å˜é‡ä¸­å®šä¹‰çš„å‡½æ•°ã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å®ƒï¼Œæžœç„¶æ‰¾åˆ°äº†å®ƒï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ã€‚
>   - è®©æˆ‘ä»¬æŸ¥æ‰¾è¿™ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æˆ‘ä»¬åœ¨æ­¥éª¤ 1 ä¸­å®šä¹‰çš„å˜é‡`val`ï¼Œå®ƒè¡¨ç¤ºæ•°å­— 7ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°å­— 8ã€‚
> - çŽ°åœ¨æˆ‘ä»¬è¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå‡½æ•°å®šä¹‰æ¦‚è¿°åœ¨ç¬¬ 3-5 è¡Œï¼Œ`å› ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯åŒ¿å`ï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬æš‚ä¸”å«å®ƒ`adder`å§ã€‚è¿™æ—¶åˆ›å»ºä¸€ä¸ª`adder`å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨`adder`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºäº†ä¸¤ä¸ªæ–°å˜é‡ `a` å’Œ `b`ã€‚å®ƒä»¬åˆ†åˆ«è¢«èµ‹å€¼ä¸º 7 å’Œ 8ï¼Œå› ä¸ºè¿™äº›æ˜¯æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚
>
> 1. æ‰§è¡Œå›žåˆ°ç¬¬ 4 è¡Œã€‚
>
> - åœ¨`adder`æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º`ret`çš„æ–°å˜é‡,
> - å°†å˜é‡`a`çš„å†…å®¹å’Œå˜é‡`b`çš„å†…å®¹ç›¸åŠ å¾— 15 å¹¶èµ‹ç»™ ret å˜é‡ã€‚
>
> 1. `ret`å˜é‡ä»Žè¯¥å‡½æ•°è¿”å›žã€‚è¿™ä¸ªåŒ¿åå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯ï¼Œä»Žè°ƒç”¨å †æ ˆä¸­åˆ é™¤ï¼Œå˜é‡`a`ã€`b`å’Œ`ret`ä¸å†å­˜åœ¨ã€‚
> 2. è¿”å›žå€¼è¢«åˆ†é…ç»™æˆ‘ä»¬åœ¨æ­¥éª¤ 9 ä¸­å®šä¹‰çš„`sum`å˜é‡ã€‚
> 3. æˆ‘ä»¬å°†`sum`çš„å€¼æ‰“å°åˆ°æŽ§åˆ¶å°ã€‚
>
> å¦‚é¢„æœŸï¼ŒæŽ§åˆ¶å°å°†æ‰“å° 15ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œç¡®å®žç»åŽ†äº†å¾ˆå¤šå›°éš¾ï¼Œæˆ‘æƒ³åœ¨è¿™é‡Œè¯´æ˜Žå‡ ç‚¹ã€‚é¦–å…ˆï¼Œå‡½æ•°å®šä¹‰å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå‡½æ•°å®šä¹‰åœ¨ç¨‹åºè°ƒç”¨ä¹‹å‰æ˜¯ä¸å¯è§çš„ã€‚å…¶æ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œéƒ½ä¼š(ä¸´æ—¶)åˆ›å»ºä¸€ä¸ªæœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å½“å‡½æ•°å®Œæˆæ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å°†æ¶ˆå¤±ã€‚å‡½æ•°åœ¨é‡åˆ° return æˆ–å³æ‹¬å·}æ—¶æ‰§è¡Œå®Œæˆã€‚

##### `é«˜é˜¶å‡½æ•°æ˜¯ä»€ä¹ˆ?`

> æ‰€è°“é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…æ˜¯è¿”å›žä¸€ä¸ªå‡½æ•°-->å¸¸è§çš„é«˜é˜¶å‡½æ•°æœ‰mapã€reduceã€filterã€sortç­‰
>
> ```
> var ADD =function add(a) {
> return function(b) {
> return a+b
> }
> }
> è°ƒç”¨ï¼šADD(2)(3)å³å¯èŽ·å¾—ç»“æžœ
> ```
>
> 1. map
>
> - ```
>   //
>   mapæŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¸æ”¹å˜åŽŸæ¥çš„æ•°ç»„ï¼Œåªæ˜¯è¿”å›žä¸€ä¸ªå…¨æ–°çš„æ•°ç»„
>   var arr = [1,2,3,4,5]
>   var arr1 = arr.map(item => item = 2)
>   //arr  è¾“å‡º[1,2,3,4,5]
>   //arr1 è¾“å‡º[2,2,2,2,2]
>   ```
>
> 1. reduce
>
> - ```
>   //
>   reduceä¹Ÿæ˜¯è¿”å›žä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ã€‚reduceæŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¦æœ‰ä¸¤ä¸ªå½¢å‚ï¼Œä»£è¡¨æ•°ç»„ä¸­çš„å‰ä¸¤é¡¹ï¼Œreduceä¼šå°†è¿™ä¸ªå‡½æ•°çš„ç»“æžœä¸Žæ•°ç»„ä¸­çš„ç¬¬ä¸‰é¡¹å†æ¬¡ç»„æˆè¿™ä¸ªå‡½æ•°çš„ä¸¤ä¸ªå½¢å‚ä»¥æ­¤ç±»æŽ¨è¿›è¡Œç´¯ç§¯æ“ä½œ
>   var arr = [1,2,3,4,5]
>   var arr2 = arr.reduce((a,b)=> a+b)
>   console.log(arr2) // 15
>   ```
>
> 1. filter
>
> - ```
>   //
>   filterè¿”å›žè¿‡æ»¤åŽçš„æ•°ç»„ã€‚filterä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†ä½œç”¨äºŽæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ ¹æ®è¯¥å‡½æ•°æ¯æ¬¡æ‰§è¡ŒåŽè¿”å›žçš„å¸ƒå°”å€¼æ¥ä¿ç•™ç»“æžœï¼Œå¦‚æžœæ˜¯trueå°±ä¿ç•™ï¼Œå¦‚æžœæ˜¯falseå°±è¿‡æ»¤æŽ‰ï¼ˆè¿™ç‚¹ä¸Žmapè¦åŒºåˆ†ï¼‰
>   var arr = [1,2,3,4,5]
>    var arr3 = arr.filter(item => item % 2 == 0)
>   console.log(arr3)// [2,4]
>   ```

## 5ã€é—­åŒ…

> ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ**lexical environmentï¼Œè¯æ³•çŽ¯å¢ƒ**ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯**é—­åŒ…**ï¼ˆ**closure**ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚
>
> æœ¬æ¥é—­åŒ…éƒ¨åˆ†æ˜¯çœ‹`å°šç¡…è°·`çš„æ•™å­¦è§†é¢‘,å½“æ—¶é‚£ä½è€å¸ˆåœ¨æ­¤éƒ¨åˆ†è®²è§£çš„è®©æˆ‘è§‰å¾—å¹¶æ²¡ç‰¹åˆ«æ¸…æ™°(åœ¨åˆšå¼€å§‹æ—¶æ²¡è®²åˆ°é‡ç‚¹,å¯¼è‡´éš¾ä»¥ç†è§£,ä½†æ˜¯åœ¨åŽé¢æœ‰æåˆ°å°±æ‡‚äº†),æ‰€ä»¥æˆ‘è‡ªå·±çœ‹å®ŒåŽå†åŽ»ç¿»é˜…è®¸å¤šå…³äºŽé—­åŒ…çš„èµ„æ–™è¿›è¡Œè‡ªå­¦,éšåŽå°†å…¶æ¢³ç†æ•´åˆå¹¶åŠ ä»¥è‡ªå·±æ„Ÿæ‚Ÿè®°å½•äºŽæ­¤

### â… -å¼•å‡ºé—­åŒ…æ¦‚å¿µ

#### â‘  é”™è¯¯åœºæ™¯

> éœ€æ±‚: `ç‚¹å‡»æŸä¸ªæŒ‰é’®, æç¤º"ç‚¹å‡»çš„æ˜¯ç¬¬nä¸ªæŒ‰é’®"`
>
> ```html
> <button>æµ‹è¯•1</button>
> <button>æµ‹è¯•2</button>
> <button>æµ‹è¯•3</button>
> <!--
> éœ€æ±‚: ç‚¹å‡»æŸä¸ªæŒ‰é’®, æç¤º"ç‚¹å‡»çš„æ˜¯ç¬¬nä¸ªæŒ‰é’®"
> -->
> <script type="text/javascript">
>  var btns = document.getElementsByTagName('button')
>  //æ³¨æ„[btns]ä¸æ˜¯ä¸€ä¸ªæ•°ç»„,å®ƒæ˜¯ä¸€ä¸ªä¼ªæ•°ç»„
>  //æ¯æ¬¡èŽ·å–[btns.length]å…¶å®žéƒ½æ˜¯éœ€è¦è¿›è¡Œè®¡ç®—çš„(å› ä¸ºå®ƒæ˜¯ä¼ªæ•°ç»„)
>  //æ‰€ä»¥ä¸ºäº†æ€§èƒ½æ›´å¥½,åœ¨æ­¤å¤„èµ‹å€¼,å°±åªéœ€è¦è®¡ç®—ä¸€æ¬¡
>  for (var i = 0,length=btns.length; i < length; i++) {
>    var btn = btns[i]
>    btn.onclick = function () {  //éåŽ†åŠ ç›‘å¬
>      alert('ç¬¬'+(i+1)+'ä¸ª')     //ç»“æžœ å…¨æ˜¯[4]
>    }
>  }
> </script>    
> ```
>
> æ­¤å¤„é”™è¯¯æ˜¯,ç›´æŽ¥ä¿®æ”¹å¹¶ä½¿ç”¨å…¨å±€å˜é‡[`i`],å¯¼è‡´forå¾ªçŽ¯ç»“æŸåŽ,æ‰€æœ‰ç‚¹å‡»æŒ‰é’®ç»‘å®šçš„å¼¹çª—å€¼éƒ½æ˜¯[`i+1`]
>
> éšåŽè°ƒç”¨æ—¶,éƒ½ä¼šæ‰¾åˆ°[`i`]è¿™ä¸ªå˜é‡,ä½†æ˜¯æ­¤æ—¶i==3,æ‰€ä»¥æ‰€æœ‰ç»“æžœéƒ½æ˜¯4
>
> ![image-20210727143351376](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727143351376.png)

#### â‘¡ å°†å˜é‡æŒ‚è½½åˆ°è‡ªèº«æ¥è§£å†³

> è§£å†³æ–¹å¼:å°†btnæ‰€å¯¹åº”çš„ä¸‹æ ‡ä¿å­˜åœ¨btnä¸Š
>
> ```html
> <button>æµ‹è¯•1</button>
> <button>æµ‹è¯•2</button>
> <button>æµ‹è¯•3</button>
> <!--
> éœ€æ±‚: ç‚¹å‡»æŸä¸ªæŒ‰é’®, æç¤º"ç‚¹å‡»çš„æ˜¯ç¬¬nä¸ªæŒ‰é’®"
> -->
> <script type="text/javascript">
> var btns = document.getElementsByTagName('button')
>  for(var i=0,length=btns.length;i<length;i++) {
>    var btn = btns[i]
>    btn.index = i    //å­˜åˆ°è‡ªèº«
>    btn.onclick = function () {
>      alert('ç¬¬'+(this.index+1)+'ä¸ª') //ç»“æžœæ­£ç¡®
>    }
>  }
> </script>    
> ```
>
> å°†å…¶æ”¾åœ¨è‡ªå·±çš„èº«ä¸Š,éœ€è¦æ—¶è‡ªå·±æ‰¾è‡ªå·±æ‹¿,è¿™æ ·å°±èƒ½è§£å†³
>
> ![image-20210727143824641](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727143824641.png)

#### â‘¢ åˆ©ç”¨é—­åŒ…

> åˆ©ç”¨é—­åŒ…çŸ¥è¯†ç‚¹è§£å†³,å¼•å‡ºä¸‹æ–¹çŸ¥è¯†ç‚¹,ä¸æ‡‚çš„å¯ä»¥å¸¦ç€ç–‘é—®ç»§ç»­å¾€ä¸‹çœ‹
>
> ```html
> <body>
> <button>æµ‹è¯•1</button>
> <button>æµ‹è¯•2</button>
> <button>æµ‹è¯•3</button>
> 
> <script type="text/javascript">
>  //åˆ©ç”¨é—­åŒ…
>  for (var i = 0,length=btns.length; i < length; i++) {
>     //æ­¤å¤„çš„jæ˜¯å±€éƒ¨çš„,å®ƒå°†ä¼ å…¥çš„[i]å­˜å…¥å±€éƒ¨çš„[j]ä¸­,è¿™æ ·å°±èƒ½å®žçŽ°æ•ˆæžœ 
>    (function (j) {
>      var btn = btns[j]
>      btn.onclick = function () {
>        alert('ç¬¬'+(j+1)+'ä¸ª')
>      }
>    })(i)
>  }
> </script>  
> </body>
> ```
>
> ![image-20210727143824641](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727143824641.png)

### â…¡-ä¸¾ä¸ªé—­åŒ…æ —å­åˆ†æžç†è§£

> æŒ‰ç…§ä¸Šæ–¹ [`4`]ä»£ç ä¸¾ä¾‹åˆ†æžæµç¨‹çš„æ–¹å¼ æ¥å°è¯•ç†è§£`é—­åŒ…`æ¦‚å¿µ
>
> æå‰ç»™å‡ºä¸€ä¸ªé—­åŒ…æ —å­è¿›è¡Œåˆ†æž,å…ˆçœ‹çœ‹å‘ç”Ÿä»€ä¹ˆ,å†åŽ»çœ‹å®ƒçš„æ¦‚å¿µè¿›è¡Œå°è¯,ç›¸ä¿¡æˆ‘,ä½ ä¼šæœ‰ç§æ‹¨å¼€è¿·é›¾çš„æ„Ÿå—

#### â‘  æŒ‰ç…§æ­£å¸¸é€»è¾‘ç†è§£

> å…ˆè¯´,æ­¤éƒ¨åˆ†ä¸æ˜¯æŒ‰ç…§é—­åŒ…æœºåˆ¶è¿›è¡Œç†è§£,æ‰€ä»¥ä¸­é€”å‘è§‰ä¸å¯¹(`è‚¯å®šæœ‰åœ°æ–¹ä¸å¯¹åŠ²`)è¯·å‹¿é’»ç‰›è§’å°–,ä¸»è¦ç”¨ä½œåŽæ–¹å¯¹ç…§
>
> ```js
> 1: function createCounter() {
> 2:   let counter = 0
> 3:   const myFunction = function() {
> 4:     counter = counter + 1
> 5:     return counter
> 6:   }
> 7:   return myFunction
> 8: }
> 9: const increment = createCounter()
> 10: const c1 = increment()
> 11: const c2 = increment()
> 12: const c3 = increment()
> 13: console.log('example increment', c1, c2, c3)
> ```
>
> çŽ°åœ¨ï¼Œæˆ‘ä»¬å·²ç»ä»Žå‰å‡ ä¸ªç¤ºä¾‹ä¸­æŽŒæ¡äº†å®ƒçš„è¯€çªï¼Œè®©æˆ‘ä»¬æŒ‰ç…§é¢„æœŸçš„æ–¹å¼å¿«é€Ÿæ‰§è¡Œå®ƒï¼š (`é”™è¯¯çš„æµç¨‹ç†è§£,æ•…æ„æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘æµç¨‹èµ°,åšå°è¯`)
>
> 1. è¡Œ 1 - 8ã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡`createCounter`ï¼Œå¹¶èµ‹å€¼äº†ä¸€ä¸ªçš„å‡½æ•°å®šä¹‰ã€‚
> 2. ç¬¬ 9 è¡Œã€‚
>
> - æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º`increment`çš„æ–°å˜é‡ã€‚
> - æˆ‘ä»¬éœ€è¦è°ƒç”¨`createCounter`å‡½æ•°å¹¶å°†å…¶è¿”å›žå€¼èµ‹ç»™`increment`å˜é‡ã€‚
>
> 1. è¿”å›žæ‰§è¡Œ è¡Œ 1 - 8ã€‚è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºæ–°çš„æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚
>
> - ç¬¬ 2 è¡Œã€‚åœ¨æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œå£°æ˜Žä¸€ä¸ªåä¸º`counter`çš„æ–°å˜é‡å¹¶èµ‹å€¼ä¸º 0;
> - è¡Œ 3 - 6ã€‚å£°æ˜Žä¸€ä¸ªåä¸º`myFunction`çš„æ–°å˜é‡ï¼Œå˜é‡åœ¨æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Ž,å˜é‡çš„å†…å®¹æ˜¯ä¸ºç¬¬ 4 è¡Œå’Œç¬¬ 5 è¡Œæ‰€å®šä¹‰ã€‚
> - ç¬¬ 7 è¡Œã€‚è¿”å›ž`myFunction`å˜é‡çš„å†…å®¹ï¼Œåˆ é™¤æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å˜é‡`myFunction`å’Œ`counter`ä¸å†å­˜åœ¨ã€‚æ­¤æ—¶æŽ§åˆ¶æƒå›žåˆ°äº†è°ƒç”¨ä¸Šä¸‹æ–‡ã€‚
>
> 1. å†æ¬¡å›žåˆ° ç¬¬ 9 è¡Œ
>
> - åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡(å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡)ä¸­ï¼Œ`createCounter`è¿”å›žçš„å€¼èµ‹ç»™äº†`increment`ï¼Œå˜é‡`increment`çŽ°åœ¨åŒ…å«ä¸€ä¸ªå‡½æ•°å®šä¹‰å†…å®¹ä¸º`createCounter`è¿”å›žçš„å‡½æ•°ã€‚
> - å®ƒä¸å†æ ‡è®°ä¸º`myFunction`ï¼Œä½†å®ƒçš„å®šä¹‰æ˜¯ç›¸åŒçš„ã€‚åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼Œå®ƒæ˜¯çš„æ ‡è®°ä¸º `labeledincrement`ã€‚
>
> 1. ç¬¬ 10 è¡Œã€‚å£°æ˜Žä¸€ä¸ªæ–°å˜é‡(c1)ã€‚
>
> - ç»§ç»­ç¬¬ 10 è¡Œã€‚æŸ¥æ‰¾`increment`å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°å¹¶è°ƒç”¨å®ƒã€‚å®ƒåŒ…å«å‰é¢è¿”å›žçš„å‡½æ•°å®šä¹‰ï¼Œå¦‚ç¬¬ 4-5 è¡Œæ‰€å®šä¹‰çš„ã€‚
> - åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ²¡æœ‰å‚æ•°ã€‚å¼€å§‹æ‰§è¡Œå‡½æ•°ã€‚
>
> 1. å›žåˆ° ç¬¬ 4 è¡Œã€‚
>
> - counter=counter + 1ã€‚åœ¨æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾`counter`å˜é‡ã€‚
> - æˆ‘ä»¬åªæ˜¯åˆ›å»ºäº†é‚£ä¸ªä¸Šä¸‹æ–‡ï¼Œä»Žæ¥æ²¡æœ‰å£°æ˜Žä»»ä½•å±€éƒ¨å˜é‡ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚è¿™é‡Œä¹Ÿæ²¡æœ‰`counter`å˜é‡ã€‚
> - Javascript ä¼šå°†å…¶è®¡ç®—ä¸º counter = undefined + 1ï¼Œå£°æ˜Žä¸€ä¸ªæ ‡è®°ä¸º`counter`çš„æ–°å±€éƒ¨å˜é‡ï¼Œå¹¶å°†å…¶èµ‹å€¼ä¸º number 1ï¼Œ`å› ä¸º undefined è¢«å½“ä½œå€¼ä¸º 0ã€‚` -->æ­¤å¤„æ˜¯é”™è¯¯çš„å“¦,åˆ«é’»ç‰›è§’å°–,æ­£ç¡®çš„ç†è§£åœ¨ä¸‹æ–¹,æ­¤å¤„æ˜¯åšé”™è¯¯å¯¹æ¯”
>
> 1. ç¬¬ 5 è¡Œã€‚æˆ‘ä»¬å˜é‡`counter`çš„å€¼(1)ï¼Œæˆ‘ä»¬é”€æ¯æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡å’Œ`counter`å˜é‡ã€‚
> 2. å›žåˆ°ç¬¬ 10 è¡Œã€‚è¿”å›žå€¼(1)è¢«èµ‹ç»™ c1ã€‚
> 3. ç¬¬ 11 è¡Œã€‚é‡å¤æ­¥éª¤ 10-14ï¼Œc2 ä¹Ÿè¢«èµ‹å€¼ä¸º 1ã€‚
> 4. ç¬¬ 12 è¡Œã€‚é‡å¤æ­¥éª¤ 10-14ï¼Œc3 ä¹Ÿè¢«èµ‹å€¼ä¸º 1ã€‚
> 5. ç¬¬ 13 è¡Œã€‚æˆ‘ä»¬æ‰“å°å˜é‡ c1 c2 å’Œ c3 çš„å†…å®¹ã€‚
>
> ä½ è‡ªå·±è¯•è¯•ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä½ ä¼šå°†æ³¨æ„åˆ°ï¼Œ`å®ƒå¹¶ä¸åƒä»Žæˆ‘ä¸Šé¢çš„è§£é‡Šä¸­æ‰€æœŸæœ›çš„é‚£æ ·è®°å½• 1,1,1ã€‚è€Œæ˜¯è®°å½• 1,2,3`ã€‚è¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆ?

#### â‘¡æ­£ç¡®çš„ç†è§£

> ä¸çŸ¥æ€Žä¹ˆæ»´ï¼Œ`increment`å‡½æ•°è®°ä½äº†é‚£ä¸ª`cunter`çš„å€¼ã€‚è¿™æ˜¯æ€Žä¹ˆå›žäº‹?
>
> > 1. counteræ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†å—?
> >
> > - å°è¯• console.log(counter)ï¼Œå¾—åˆ°undefinedçš„ç»“æžœ,æ˜¾ç„¶ä¸æ˜¯è¿™æ ·çš„ã€‚
> >
> > 1. ä¹Ÿè®¸ï¼Œå½“ä½ è°ƒç”¨incrementæ—¶ï¼Œå®ƒä¼šä»¥æŸç§æ–¹å¼è¿”å›žå®ƒåˆ›å»ºçš„å‡½æ•°(createCounter)?
> >
> > - è¿™æ€Žä¹ˆå¯èƒ½å‘¢?å˜é‡incrementåŒ…å«å‡½æ•°å®šä¹‰ï¼Œè€Œä¸æ˜¯å‡½æ•°çš„æ¥æºï¼Œæ˜¾ç„¶ä¹Ÿä¸æ˜¯è¿™æ ·çš„ã€‚
> >
> > 1. æ‰€ä»¥ä¸€å®šæœ‰å¦ä¸€ç§æœºåˆ¶ã€‚**é—­åŒ…**ï¼Œæˆ‘ä»¬ç»ˆäºŽæ‰¾åˆ°äº†ï¼Œä¸¢å¤±çš„é‚£å—ã€‚
> >
> > - **-`å®ƒæ˜¯è¿™æ ·å·¥ä½œçš„ï¼Œæ— è®ºä½•æ—¶å£°æ˜Žæ–°å‡½æ•°å¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡ï¼Œéƒ½è¦å­˜å‚¨å‡½æ•°å®šä¹‰å’Œé—­åŒ…ã€‚é—­åŒ…åŒ…å«åœ¨å‡½æ•°åˆ›å»ºæ—¶ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡ï¼Œå®ƒç±»ä¼¼äºŽèƒŒåŒ…ã€‚å‡½æ•°å®šä¹‰é™„å¸¦ä¸€ä¸ªå°èƒŒåŒ…ï¼Œå®ƒçš„åŒ…ä¸­å­˜å‚¨äº†å‡½æ•°å®šä¹‰åˆ›å»ºæ—¶ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜` **
>
> **æ‰€ä»¥æˆ‘ä»¬ä¸Šé¢çš„è§£é‡Šéƒ½æ˜¯é”™çš„ï¼Œè®©æˆ‘ä»¬å†è¯•ä¸€æ¬¡ï¼Œä½†æ˜¯è¿™æ¬¡æ˜¯æ­£ç¡®çš„**
>
> ```js
> 1: function createCounter() {
> 2:   let counter = 0
> 3:   const myFunction = function() {
> 4:     counter = counter + 1
> 5:     return counter
> 6:   }
> 7:   return myFunction
> 8: }
> 9: const increment = createCounter()
> 10: const c1 = increment()
> 11: const c2 = increment()
> 12: const c3 = increment()
> 13: console.log('example increment', c1, c2, c3)
> ```
>
> 1. åŒä¸Šï¼Œç¬¬`1-8`è¡Œã€‚æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡`createCounter`ï¼Œå®ƒå¾—åˆ°äº†æŒ‡å®šçš„å‡½æ•°å®šä¹‰ã€‚
> 2. åŒä¸Šï¼Œç¬¬`9`è¡Œã€‚
>
> - æˆ‘ä»¬åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Žäº†ä¸€ä¸ªåä¸º`increment`çš„æ–°å˜é‡ã€‚
> - æˆ‘ä»¬éœ€è¦è°ƒç”¨`createCounter`å‡½æ•°å¹¶å°†å…¶è¿”å›žå€¼èµ‹ç»™`increment`å˜é‡ã€‚
>
> 1. åŒä¸Šï¼Œç¬¬`1-8`è¡Œã€‚è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºæ–°çš„æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚
>
> - ç¬¬`2`è¡Œã€‚åœ¨æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œå£°æ˜Žä¸€ä¸ªåä¸º`counter`çš„æ–°å˜é‡å¹¶èµ‹å€¼ä¸º `0` ã€‚
> - ç¬¬`3-6`è¡Œã€‚å£°æ˜Žä¸€ä¸ªåä¸º`myFunction`çš„æ–°å˜é‡ï¼Œå˜é‡åœ¨æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜Ž,å˜é‡çš„å†…å®¹æ˜¯å¦ä¸€ä¸ªå‡½æ•°å®šä¹‰ã€‚å¦‚ç¬¬`4`è¡Œå’Œç¬¬`5`è¡Œæ‰€å®šä¹‰ï¼ŒçŽ°åœ¨æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ï¼Œå¹¶å°†å…¶ä½œä¸ºå‡½æ•°å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚é—­åŒ…åŒ…å«ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯å˜é‡`counter`(å€¼ä¸º`0`)ã€‚
> - ç¬¬`7`è¡Œã€‚è¿”å›ž`myFunction`å˜é‡çš„å†…å®¹,åˆ é™¤æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚`myFunction`å’Œ`counter`ä¸å†å­˜åœ¨ã€‚æŽ§åˆ¶æƒäº¤ç»™äº†è°ƒç”¨ä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬è¿”å›žå‡½æ•°å®šä¹‰å’Œå®ƒçš„é—­åŒ…ï¼Œé—­åŒ…ä¸­åŒ…å«äº†åˆ›å»ºå®ƒæ—¶åœ¨ä½œç”¨åŸŸå†…çš„å˜é‡ã€‚
>
> 1. å›žåˆ°ç¬¬`9`è¡Œã€‚
>
> - åœ¨è°ƒç”¨ä¸Šä¸‹æ–‡(å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡)ä¸­ï¼Œ`createCounter`è¿”å›žçš„å€¼è¢«æŒ‡å®šä¸º`increment`
> - å˜é‡`increment`çŽ°åœ¨åŒ…å«ä¸€ä¸ªå‡½æ•°å®šä¹‰(å’Œé—­åŒ…),ç”±createCounterè¿”å›žçš„å‡½æ•°å®šä¹‰,å®ƒä¸å†æ ‡è®°ä¸º`myFunction`ï¼Œä½†å®ƒçš„å®šä¹‰æ˜¯ç›¸åŒçš„,åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼Œç§°ä¸º`increment`ã€‚
>
> 1. ç¬¬`10`è¡Œã€‚å£°æ˜Žä¸€ä¸ªæ–°å˜é‡`c1`ã€‚
>
> - ç»§ç»­ç¬¬`10`è¡Œã€‚æŸ¥æ‰¾å˜é‡`increment`ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å®ƒã€‚å®ƒåŒ…å«å‰é¢è¿”å›žçš„å‡½æ•°å®šä¹‰,å¦‚ç¬¬`4-5`è¡Œæ‰€å®šä¹‰çš„ã€‚(`å®ƒè¿˜æœ‰ä¸€ä¸ªå¸¦æœ‰å˜é‡çš„é—­åŒ…`)ã€‚
> - åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ²¡æœ‰å‚æ•°ï¼Œå¼€å§‹æ‰§è¡Œå‡½æ•°ã€‚
>
> 1. ç¬¬`4`è¡Œã€‚[`counter = counter + 1`]ï¼Œå¯»æ‰¾å˜é‡ [`counter`]ï¼Œ`åœ¨æŸ¥æ‰¾æœ¬åœ°æˆ–å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹é—­åŒ…`ï¼Œçž§ï¼Œé—­åŒ…åŒ…å«ä¸€ä¸ªåä¸º[`counter`]çš„å˜é‡ï¼Œå…¶å€¼ä¸º`0`ã€‚åœ¨ç¬¬`4`è¡Œè¡¨è¾¾å¼ä¹‹åŽï¼Œå®ƒçš„å€¼è¢«è®¾ç½®ä¸º`1`ã€‚å®ƒå†æ¬¡è¢«å‚¨å­˜åœ¨é—­åŒ…é‡Œï¼Œé—­åŒ…çŽ°åœ¨åŒ…å«å€¼ä¸º`1`çš„å˜é‡ [`counter`]ã€‚
> 2. ç¬¬`5`è¡Œã€‚æˆ‘ä»¬è¿”å›ž`counterçš„å€¼`ï¼Œé”€æ¯æœ¬åœ°æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚
> 3. å›žåˆ°ç¬¬`10`è¡Œã€‚è¿”å›žå€¼`1`è¢«èµ‹ç»™å˜é‡`c1`ã€‚
> 4. ç¬¬`11`è¡Œã€‚æˆ‘ä»¬é‡å¤æ­¥éª¤`10-14`ã€‚è¿™ä¸€æ¬¡ï¼Œåœ¨é—­åŒ…ä¸­æ­¤æ—¶å˜é‡`counter`çš„å€¼æ˜¯1ã€‚å®ƒåœ¨ç¬¬`12`è¡Œè®¾ç½®çš„ï¼Œå®ƒçš„å€¼è¢«é€’å¢žå¹¶ä»¥`2`çš„å½¢å¼å­˜å‚¨åœ¨é€’å¢žå‡½æ•°çš„é—­åŒ…ä¸­,`c2`è¢«èµ‹å€¼ä¸º`2`ã€‚
> 5. ç¬¬`12`è¡Œã€‚é‡å¤æ­¥éª¤`10-14`è¡Œ,`c3`è¢«èµ‹å€¼ä¸º3ã€‚
> 6. ç¬¬13è¡Œã€‚æˆ‘ä»¬æ‰“å°å˜é‡`c1 c2`å’Œ`c3`çš„å€¼ã€‚
>
> ** `ä½ æ­¤æ—¶å¯èƒ½ä¼šé—®ï¼Œæ˜¯å¦æœ‰ä»»ä½•å‡½æ•°å…·æœ‰é—­åŒ…ï¼Œç”šè‡³æ˜¯åœ¨å…¨å±€èŒƒå›´å†…åˆ›å»ºçš„å‡½æ•°?` **
>
> > ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚åœ¨å…¨å±€ä½œç”¨åŸŸä¸­åˆ›å»ºçš„å‡½æ•°åˆ›å»ºé—­åŒ…ï¼Œä½†æ˜¯ç”±äºŽè¿™äº›å‡½æ•°æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­åˆ›å»ºçš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è®¿é—®å…¨å±€ä½œç”¨åŸŸä¸­çš„æ‰€æœ‰å˜é‡ï¼Œé—­åŒ…çš„æ¦‚å¿µå¹¶ä¸é‡è¦ã€‚
>
> > ä½†å½“å‡½æ•°è¿”å›žå‡½æ•°æ—¶ï¼Œé—­åŒ…çš„æ¦‚å¿µå°±å˜å¾—æ›´åŠ é‡è¦äº†ã€‚è¿”å›žçš„å‡½æ•°å¯ä»¥è®¿é—®ä¸å±žäºŽå…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œä½†å®ƒä»¬ä»…å­˜åœ¨äºŽå…¶é—­åŒ…ä¸­ã€‚

### â…¢-å¸¸è§çš„é—­åŒ…

#### â‘  å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›žå€¼

> ```js
> // 1. å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›žå€¼
>  function fn1() {
>    var a = 2
>    function fn2() {
>      a++
>      console.log(a)
>    }
>    return fn2
>  }
>  var f = fn1()
>  f() // 3
>  f() // 4
> ```

#### â‘¡ å°†å‡½æ•°ä½œä¸ºå®žå‚ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨

> ```js
> // 2. å°†å‡½æ•°ä½œä¸ºå®žå‚ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨
>  function showDelay(msg, time) {
>    setTimeout(function () {
>      alert(msg)
>    }, time)
>  }
>  showDelay('atguigu', 2000)
> ```

#### â‘¢ é«˜é˜¶å‡½æ•°ä¸ŽæŸ¯é‡ŒåŒ–

> æœ‰æ—¶å€™é—­åŒ…åœ¨ä½ ç”šè‡³æ²¡æœ‰æ³¨æ„åˆ°å®ƒçš„æ—¶å€™å°±ä¼šå‡ºçŽ°ï¼Œä½ å¯èƒ½å·²ç»çœ‹åˆ°äº†æˆ‘ä»¬ç§°ä¸ºéƒ¨åˆ†åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹
>
> å½“ç„¶å¦‚æžœä½ è¿˜ä¸ç†è§£çš„è¯å¯ä»¥,å¯ä»¥å®Œæ•´çš„å¤šçœ‹å‡ æ¬¡æœ¬ç¬”è®°é—­åŒ…çŸ¥è¯†ç‚¹éƒ¨åˆ†,æˆ–è€…ç»“åˆä¸Šæ–¹[ `â…¡-ä¸¾ä¸ªé—­åŒ…æ —å­åˆ†æžç†è§£` ](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#â…¡-ä¸¾ä¸ªé—­åŒ…æ —å­åˆ†æžç†è§£)è¿›è¡Œç†è§£

##### 1ã€ä»Ž ES6 é«˜é˜¶ç®­å¤´å‡½æ•°ç†è§£å‡½æ•°æŸ¯é‡ŒåŒ–(`è¿ç”¨åˆ°é—­åŒ…`)

> 1. é¦–å…ˆçœ‹åˆ°äº†è¿™æ ·çš„ä¸€ä¸ªä¾‹å­ï¼š
>
> ```
> let add = a => b => a + b
> ```
>
> 1. ä»¥ä¸Šæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç›¸åŠ å‡½æ•°ï¼ŒæŠŠå®ƒè½¬åŒ–æˆ ES5 çš„å†™æ³•å¦‚ä¸‹
>
> ```
> function add(a) {
>     return function(b) {
>         return a + b
>     }
> }
> var add3 = add(3) //add3è¡¨ç¤ºä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„å˜é‡ å¯ä»¥å½“æˆå‡½æ•°è°ƒç”¨åæ¥ç”¨
> add3(4) === 3 + 4 //true
> ```
>
> 1. å†ç®€åŒ–ä¸€ä¸‹ï¼Œå¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š
>
> ```
> let add = function(a) {
>   var param = a;
>   var innerFun = function(b) {
>       return param + b;
>   }
>   return innerFun;
> }
> ```
>
> 1. è™½ç„¶å¥½åƒæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œä½†æ˜¯å¾ˆæ˜¾ç„¶ä¸Šè¿°ä½¿ç”¨äº†[`é—­åŒ…`]ï¼Œè€Œä¸”è¯¥å‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å…¶å®žï¼Œè¿™å°±æ˜¯`é«˜é˜¶å‡½æ•°çš„å®šä¹‰ï¼šä»¥å‡½æ•°ä¸ºå‚æ•°æˆ–è€…è¿”å›žå€¼æ˜¯å‡½æ•°çš„å‡½æ•°ã€‚`
>
> ![image-20210415160945789](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210415160945789.png)

##### 2ã€æŸ¯é‡ŒåŒ–

> 1. å›¾ä¾‹:
>
> ![image-20210415161137977](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210415161137977.png)
>
> 1. å…³é”®å°±æ˜¯`ç†è§£æŸ¯é‡ŒåŒ–`ï¼Œå…¶å®žå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒæŸ¯é‡ŒåŒ–åŽï¼Œ`å°†ç¬¬ä¸€ä¸ªå‚æ•°å˜é‡å­˜åœ¨å‡½æ•°é‡Œé¢äº†(é—­åŒ…)`ï¼Œç„¶åŽæœ¬æ¥éœ€è¦nä¸ªå‚æ•°çš„å‡½æ•°å¯ä»¥å˜æˆåªéœ€è¦å‰©ä¸‹çš„ï¼ˆn - 1ä¸ªï¼‰å‚æ•°å°±å¯ä»¥è°ƒç”¨ï¼Œæ¯”å¦‚
>
> ```js
> let add = x => y => x + y
> let add2 = add(2)
> -*----------------------------------
> æœ¬æ¥å®Œæˆ add è¿™ä¸ªæ“ä½œï¼Œåº”è¯¥æ˜¯è¿™æ ·è°ƒç”¨
> let add = (x, y) => x + y
> add(2,3)
> ----------------------------------
> 1. è€ŒçŽ°åœ¨ add2 å‡½æ•°å®ŒæˆåŒæ ·æ“ä½œåªéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œè¿™åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­å¹¿æ³›åº”ç”¨ã€‚
> let add = x => y => x + y
> let add2 = add(2)
> 2.è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼Œå°±æ˜¯ add2 å‡½æ•° ç­‰ä»·äºŽ æœ‰äº† x è¿™ä¸ªé—­åŒ…å˜é‡çš„ y => x + y å‡½æ•°,å¹¶ä¸”æ­¤æ—¶ x = 2ï¼Œæ‰€ä»¥æ­¤æ—¶è°ƒç”¨
> add2(3) === 2 + 3
> ```

##### 4ã€æ€»ç»“

> 1. å¦‚æžœæ˜¯`a => b => c => {xxx}`è¿™ç§å¤šæ¬¡æŸ¯é‡ŒåŒ–çš„,å¦‚ä½•ç†è§£?
>
> ç†è§£:å‰`n - 1`æ¬¡è°ƒç”¨ï¼Œå…¶å®žæ˜¯æå‰å°†å‚æ•°ä¼ é€’è¿›åŽ»ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨æœ€å†…å±‚å‡½æ•°ä½“ï¼Œæœ€åŽä¸€æ¬¡è°ƒç”¨æ‰ä¼šè°ƒç”¨æœ€å†…å±‚å‡½æ•°ä½“ï¼Œå¹¶è¿”å›žæœ€å†…å±‚å‡½æ•°ä½“çš„è¿”å›žå€¼
>
> 1. ç»“åˆä¸Šæ–‡å¯çŸ¥ï¼Œè¿™é‡Œçš„å¤šä¸ªè¿žç»­ç®­å¤´ï¼ˆæ— è®ºä¿©ä¸ªç®­å¤´å‡½æ•°ä¸‰ä¸ªåŠä»¥ä¸Šï¼‰å‡½æ•°è¿žåœ¨ä¸€èµ· å°±æ˜¯åœ¨æŸ¯é‡ŒåŒ–ã€‚æ‰€ä»¥è¿žç»­ç®­å¤´å‡½æ•°å°±æ˜¯å¤šæ¬¡æŸ¯é‡ŒåŒ–å‡½æ•°çš„ es6 å†™æ³•ã€‚
> 2. `è°ƒç”¨ç‰¹ç‚¹`:let test = a => b => c => {xxx}
>
> æ¯”å¦‚å¯¹äºŽä¸Šé¢çš„ `test` å‡½æ•°ï¼Œå®ƒæœ‰ 3 ä¸ªç®­å¤´ï¼Œ è¿™ä¸ªå‡½æ•°è¦è¢«è°ƒç”¨ 3 æ¬¡ `test(a)(b)(c)`ï¼Œå‰ä¸¤æ¬¡è°ƒç”¨åªæ˜¯åœ¨ä¼ é€’å‚æ•°ï¼Œåªæœ‰æœ€åŽä¾æ¬¡è°ƒç”¨æ‰ä¼šè¿”å›ž `{xxx}` ä»£ç æ®µçš„è¿”å›žå€¼ï¼Œå¹¶ä¸”åœ¨ `{xxx}` ä»£ç æ®µä¸­å¯ä»¥è°ƒç”¨ a,b,c

### â…£-é—­åŒ…çš„ä½œç”¨

> 1. ä½¿ç”¨å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®ŒåŽ, ä»ç„¶å­˜æ´»åœ¨å†…å­˜ä¸­(å»¶é•¿äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ)
> 2. è®©å‡½æ•°å¤–éƒ¨å¯ä»¥æ“ä½œ(è¯»å†™)åˆ°å‡½æ•°å†…éƒ¨çš„æ•°æ®(å˜é‡/å‡½æ•°)
>
> é—®é¢˜:
>
> 1. å‡½æ•°æ‰§è¡Œå®ŒåŽ, å‡½æ•°å†…éƒ¨å£°æ˜Žçš„å±€éƒ¨å˜é‡æ˜¯å¦è¿˜å­˜åœ¨?
>    - ä¸€èˆ¬æ˜¯ä¸å­˜åœ¨, å­˜åœ¨äºŽé—­ä¸­çš„å˜é‡æ‰å¯èƒ½å­˜åœ¨
> 2. åœ¨å‡½æ•°å¤–éƒ¨èƒ½ç›´æŽ¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡å—?
>    - ä¸èƒ½, ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡é—­åŒ…è®©å¤–éƒ¨æ“ä½œå®ƒ

### â…¤-é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸ

> 1. äº§ç”Ÿ: åœ¨åµŒå¥—å†…éƒ¨å‡½æ•°å®šä¹‰æ‰§è¡Œå®Œæ—¶å°±äº§ç”Ÿäº†(ä¸æ˜¯åœ¨è°ƒç”¨)
> 2. æ­»äº¡: åœ¨åµŒå¥—çš„å†…éƒ¨å‡½æ•°æˆä¸ºåžƒåœ¾å¯¹è±¡æ—¶
>
> - å³æ²¡æœ‰äººæŒ‡å‘å®ƒæ—¶æ­»äº¡,é€šå¸¸ç½®ä¸º[`null`],å½“ç„¶æŒ‡å‘å…¶ä»–ä¹Ÿè¡Œ,ä½†ä¸å®‰å…¨(å®¹æ˜“æ±¡æŸ“å˜é‡)
>
> ```js
> //é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸ
> function fn1() {
>    //æ­¤æ—¶é—­åŒ…å°±å·²ç»äº§ç”Ÿäº†(å‡½æ•°æå‡,å®žé™…ä¸Š[fn2]æå‡åˆ°äº†ç¬¬ä¸€è¡Œ, å†…éƒ¨å‡½æ•°å¯¹è±¡å·²ç»åˆ›å»ºäº†)
>    var a = 2
>    function fn2 () { //å¦‚æžœæ—¶[let fn2=function(){}],é‚£ä¹ˆåœ¨è¿™è¡Œæ‰ä¼šäº§ç”Ÿé—­åŒ…
>      a++
>      console.log(a)
>    }
>    return fn2
>  }
>  var f = fn1()
>  f() // 3
>  f() // 4
>  f = null //é—­åŒ…æ­»äº¡(åŒ…å«é—­åŒ…çš„å‡½æ•°å¯¹è±¡æˆä¸ºåžƒåœ¾å¯¹è±¡ï¼Œæ²¡æœ‰äººå¼•ç”¨fn2äº†)
> ```

### â…¥-é—­åŒ…çš„åº”ç”¨

> é—­åŒ…çš„åº”ç”¨ : å®šä¹‰JSæ¨¡å—
>
> - å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„jsæ–‡ä»¶
> - å°†æ‰€æœ‰çš„æ•°æ®å’ŒåŠŸèƒ½éƒ½å°è£…åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨(ç§æœ‰çš„)
> - åªå‘å¤–æš´éœ²ä¸€ä¸ªåŒ…å«nä¸ªæ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°
> - æ¨¡å—çš„ä½¿ç”¨è€…, åªéœ€è¦é€šè¿‡æ¨¡å—æš´éœ²çš„å¯¹è±¡è°ƒç”¨æ–¹æ³•æ¥å®žçŽ°å¯¹åº”çš„åŠŸèƒ½
>
> 1. æ¨¡å—å®šä¹‰:
>
> - ```js
>   //myModule.js
>   function myModule() {
>     //ç§æœ‰æ•°æ®
>     var msg = 'My atguigu'
>     //æ“ä½œæ•°æ®çš„å‡½æ•°
>     function doSomething() {
>       console.log('doSomething() '+msg.toUpperCase())
>     }
>     function doOtherthing () {
>       console.log('doOtherthing() '+msg.toLowerCase())
>     }
>                                                             
>     //å‘å¤–æš´éœ²å¯¹è±¡(ç»™å¤–éƒ¨ä½¿ç”¨çš„æ–¹æ³•)
>     return {
>       doSomething: doSomething,
>       doOtherthing: doOtherthing
>     }
>   }
>                                                             
>   -----------------------------------------------------------------
>   // myModule2.js   
>   (function () {
>     //ç§æœ‰æ•°æ®
>     var msg = 'My atguigu'
>     //æ“ä½œæ•°æ®çš„å‡½æ•°
>     function doSomething() {
>       console.log('doSomething() '+msg.toUpperCase())
>     }
>     function doOtherthing () {
>       console.log('doOtherthing() '+msg.toLowerCase())
>     }
>                                                             
>     //å‘å¤–æš´éœ²å¯¹è±¡(ç»™å¤–éƒ¨ä½¿ç”¨çš„æ–¹æ³•)
>     window.myModule2 = {
>       doSomething: doSomething,
>       doOtherthing: doOtherthing
>     }
>   })()    
>                                                                 
>   ```
>
> 1. æ¨¡å—è°ƒç”¨
>
> - ```html
>   //è°ƒç”¨ç¤ºä¾‹
>   ------------  æ¨¡å—è°ƒç”¨1 --------------------------------------------
>   <script type="text/javascript" src="myModule.js"></script>
>   <script type="text/javascript">
>     var module = myModule()
>     module.doSomething()
>     module.doOtherthing()
>   </script>
>   ------------  æ¨¡å—è°ƒç”¨2 --------------------------------------------
>   <script type="text/javascript" src="myModule2.js"></script>
>   <script type="text/javascript">
>     myModule2.doSomething()
>     myModule2.doOtherthing()
>   </script>
>   ```

### â…¦-é—­åŒ…çš„ç¼ºç‚¹åŠè§£å†³

> 1. ç¼ºç‚¹:
>
> - å‡½æ•°æ‰§è¡Œå®ŒåŽ, å‡½æ•°å†…çš„å±€éƒ¨å˜é‡æ²¡æœ‰é‡Šæ”¾, å ç”¨å†…å­˜æ—¶é—´ä¼šå˜é•¿
> - å®¹æ˜“é€ æˆå†…å­˜æ³„éœ²
>
> 1. è§£å†³:
>
> - èƒ½ä¸ç”¨é—­åŒ…å°±ä¸ç”¨
>
> - åŠæ—¶é‡Šæ”¾
>
> - ```js
>   function fn1() {
>     var arr = new Array(100000)
>     function fn2() {
>       console.log(arr.length)
>     }
>     return fn2
>   }
>   var f = fn1()
>   f()
>   f = null //è®©å†…éƒ¨å‡½æ•°æˆä¸ºåžƒåœ¾å¯¹è±¡-->å›žæ”¶é—­åŒ…
>   ```
>
> æˆ‘è¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹å¼,è°ƒç”¨æ—¶ç›´æŽ¥`f()()`ç›´æŽ¥è¿è¡Œè°ƒç”¨å³å¯-->åŒ¿åå‡½æ•°,ç”¨å®Œè‡ªåŠ¨å°±é”€æ¯äº†
>
> ![image-20210727191229838](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727191229838.png)

### â…§-å†…å­˜æº¢å‡ºä¸Žå†…å­˜æ³„éœ²

> 1. å†…å­˜æº¢å‡º
>
> - ä¸€ç§ç¨‹åºè¿è¡Œå‡ºçŽ°çš„é”™è¯¯
> - å½“ç¨‹åºè¿è¡Œéœ€è¦çš„å†…å­˜è¶…è¿‡äº†å‰©ä½™çš„å†…å­˜æ—¶, å°±å‡ºæŠ›å‡ºå†…å­˜æº¢å‡ºçš„é”™è¯¯
>
> 1. å†…å­˜æ³„éœ²
>
> - å ç”¨çš„å†…å­˜æ²¡æœ‰åŠæ—¶é‡Šæ”¾
> - `å†…å­˜æ³„éœ²ç§¯ç´¯å¤šäº†å°±å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º`
> - å¸¸è§çš„å†…å­˜æ³„éœ²:
>   - æ„å¤–çš„å…¨å±€å˜é‡
>   - æ²¡æœ‰åŠæ—¶æ¸…ç†çš„è®¡æ—¶å™¨æˆ–å›žè°ƒå‡½æ•°
>   - é—­åŒ…
>
> ```html
> <script type="text/javascript">
>  // 1. å†…å­˜æº¢å‡º
>  var obj = {}
>  for (var i = 0; i < 10000; i++) {
>    obj[i] = new Array(10000000)
>    console.log('-----')
>  }
> 
>  // 2. å†…å­˜æ³„éœ²
>    // æ„å¤–çš„å…¨å±€å˜é‡
>  function fn() {
>    a = new Array(10000000)  //ä¸ä½¿ç”¨var let conståŽ»æ‰¿æŽ¥
>    console.log(a)
>  }
>  fn()
> 
>   // æ²¡æœ‰åŠæ—¶æ¸…ç†çš„è®¡æ—¶å™¨æˆ–å›žè°ƒå‡½æ•°
>  var intervalId = setInterval(function () { //å¯åŠ¨å¾ªçŽ¯å®šæ—¶å™¨åŽä¸æ¸…ç†
>    console.log('----')
>  }, 1000)
> 
>  // clearInterval(intervalId)
> 
>    // é—­åŒ…
>  function fn1() {
>    var a = 4
>    function fn2() {
>      console.log(++a)
>    }
>    return fn2
>  }
>  var f = fn1()
>  f()
>  // f = null
> 
> </script>
> ```
>
> ä¸ä½¿ç”¨let const varç­‰åŽ»å£°æ˜Ž,å®žé™…ä¸Šæ˜¯æŒ‚è½½åˆ°[`window`]ä¸Šçš„,æ‰€ä»¥å¯¼è‡´å†…å­˜æ³„éœ²![image-20210727193110329](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210727193110329.png)

### â…¨-ç›¸å…³é¢è¯•é¢˜1

> ```js
> //ä»£ç ç‰‡æ®µä¸€  -->æ²¡æœ‰äº§ç”Ÿé—­åŒ…:å› ä¸ºå†…éƒ¨å‡½æ•°æ²¡æœ‰è°ƒç”¨å¤–éƒ¨å˜é‡
> var name = "The Window";
> var object = {
>  	name : "My Object",
>  	getNameFunc : function(){
>    		return function(){
>      			return this.name;
>    		};
>  	}
> };
> alert(object.getNameFunc()());  //?  the window
> //å‡½æ•°ä½“çš„thisæ˜¯window
> 
> //ä»£ç ç‰‡æ®µäºŒ
> var name2 = "The Window";
> var object2 = {
>  	name2 : "My Object",
>  	getNameFunc : function(){
>  		//æ­¤å¤„çš„thisæŒ‡å‘æ˜¯[getNameFunc],ä»–æ˜¯å¯¹è±¡ä¸­çš„å±žæ€§,æ‰€ä»¥thisæŒ‡å‘å°±æ˜¯object
>    		var that = this;
>    		return function(){
>      			//æ­¤å¤„ç”¨çš„æ˜¯ä¿å­˜çš„  that
>      			return that.name2;
>    		};
>  	}
> };
> alert(object2.getNameFunc()()); //?  my object
> ```
>
> 1. ä»£ç ç‰‡æ®µä¸€:
>
> - å‡½æ•°ä½“çš„`this`æŒ‡å‘æ˜¯[`window`]
> - æ²¡æœ‰äº§ç”Ÿé—­åŒ…:å› ä¸ºå†…éƒ¨å‡½æ•°æ²¡æœ‰è°ƒç”¨å¤–éƒ¨å˜é‡
>
> 1. ä»£ç ç‰‡æ®µäºŒä¸ºä½•æŒ‡å‘æ˜¯å¯¹è±¡?
>
> - thisæŒ‡å‘æ˜¯è°ƒç”¨å®ƒçš„[`getNameFunc`],ä»–æ˜¯å¯¹è±¡ä¸­çš„å±žæ€§,æ‰€ä»¥thisæŒ‡å‘å°±æ˜¯object
> - äº§ç”Ÿäº†é—­åŒ…

### â…©-ç›¸å…³é¢è¯•é¢˜2

> ```js
> function fun(n,o) {
>  console.log(o)
>  return {
>    fun:function(m){
>      return fun(m,n)
>    }
>  }
> }
> var a = fun(0) //undefined
> a.fun(1)  //0
> a.fun(2)  //0	
> a.fun(3)  //0
> 
> var b = fun(0).fun(1).fun(2).fun(3) //undefined 0 1 2
> 
> var c = fun(0).fun(1) //undefined  0
> c.fun(2)//1 -->ç»è¿‡ä¸Šæ–¹å®šä¹‰åŽ nå›ºå®šä¸º1
> c.fun(3)//1 -->æ­¤å¤„æ˜¯é™·é˜±!!!  ä¸€ç›´æ²¡æœ‰æ”¹åˆ°n,æ‰€ä»¥ä¸€ç›´æ˜¯1
> ```

# ä¸‰ã€é¢å‘å¯¹è±¡é«˜çº§

> æ­¤éƒ¨åˆ†è¦æ±‚ä½ å¯¹å‰æ–¹[å‡½æ•°é«˜çº§éƒ¨åˆ†çš„1ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#1ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾)æ¯”è¾ƒç†Ÿæ‚‰,å¦‚æžœæŽŒæ¡ä¸å¤Ÿå¥½ç†è§£ä¼šç›¸å¯¹å›°éš¾

## 1ã€å¯¹è±¡åˆ›å»ºæ¨¡å¼

### â… -Objectæž„é€ å‡½æ•°æ¨¡å¼

> æ–¹å¼ä¸€: Objectæž„é€ å‡½æ•°æ¨¡å¼
>
> - å¥—è·¯: å…ˆåˆ›å»ºç©ºObjectå¯¹è±¡, å†åŠ¨æ€æ·»åŠ å±žæ€§/æ–¹æ³•
> - é€‚ç”¨åœºæ™¯: èµ·å§‹æ—¶ä¸ç¡®å®šå¯¹è±¡å†…éƒ¨æ•°æ®
> - é—®é¢˜: è¯­å¥å¤ªå¤š
>
> ```js
> /*ä¸€ä¸ªäºº: name:"Tom", age: 12*/
> // å…ˆåˆ›å»ºç©ºObjectå¯¹è±¡
>  var p = new Object()
>  p = {} //æ­¤æ—¶å†…éƒ¨æ•°æ®æ˜¯ä¸ç¡®å®šçš„
>  // å†åŠ¨æ€æ·»åŠ å±žæ€§/æ–¹æ³•
>  p.name = 'Tom'
>  p.age = 12
>  p.setName = function (name) {
>    this.name = name
>  }
> 
>  //æµ‹è¯•
>  console.log(p.name, p.age)
>  p.setName('Bob')
>  console.log(p.name, p.age)
> ```

### â…¡-å¯¹è±¡å­—é¢é‡æ¨¡å¼

> æ–¹å¼äºŒ: å¯¹è±¡å­—é¢é‡æ¨¡å¼
>
> - å¥—è·¯: ä½¿ç”¨{}åˆ›å»ºå¯¹è±¡, åŒæ—¶æŒ‡å®šå±žæ€§/æ–¹æ³•
> - é€‚ç”¨åœºæ™¯: èµ·å§‹æ—¶å¯¹è±¡å†…éƒ¨æ•°æ®æ˜¯ç¡®å®šçš„
> - é—®é¢˜: å¦‚æžœåˆ›å»ºå¤šä¸ªå¯¹è±¡, æœ‰é‡å¤ä»£ç 
>
> ```js
> //å¯¹è±¡å­—é¢é‡æ¨¡å¼
> var p = {
>    name: 'Tom',
>    age: 12,
>    setName: function (name) {
>      this.name = name
>    }
>  }
>  //æµ‹è¯•
>  console.log(p.name, p.age)
>  p.setName('JACK')
>  console.log(p.name, p.age)
> 
>  var p2 = {  //å¦‚æžœåˆ›å»ºå¤šä¸ªå¯¹è±¡ä»£ç å¾ˆé‡å¤
>    name: 'Bob',
>    age: 13,
>    setName: function (name) {
>      this.name = name
>    }
>  }
> ```

### â…¢-å·¥åŽ‚æ¨¡å¼

> æ–¹å¼ä¸‰: å·¥åŽ‚æ¨¡å¼
>
> - å¥—è·¯: é€šè¿‡å·¥åŽ‚å‡½æ•°åŠ¨æ€åˆ›å»ºå¯¹è±¡å¹¶è¿”å›ž
> - é€‚ç”¨åœºæ™¯: éœ€è¦åˆ›å»ºå¤šä¸ªå¯¹è±¡
> - é—®é¢˜: `å¯¹è±¡æ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„ç±»åž‹`, éƒ½æ˜¯Objectç±»åž‹
>
> ```
> //è¿”å›žä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°===>å·¥åŽ‚å‡½æ•°
> function createPerson(name, age) { 
>  var obj = {
>    name: name,
>    age: age,
>    setName: function (name) {
>      this.name = name
>    }
>  }
>  return obj
> }
> 
> // åˆ›å»º2ä¸ªäºº
> var p1 = createPerson('Tom', 12)
> var p2 = createPerson('Bob', 13)
> 
> // p1/p2æ˜¯Objectç±»åž‹
> 
> function createStudent(name, price) {
>  var obj = {
>    name: name,
>    price: price
>  }
>  return obj
> }
> var s = createStudent('å¼ ä¸‰', 12000)
> // sä¹Ÿæ˜¯Object
> ```

### â…£-è‡ªå®šä¹‰æž„é€ å‡½æ•°æ¨¡å¼

> æ–¹å¼å››: è‡ªå®šä¹‰æž„é€ å‡½æ•°æ¨¡å¼
>
> - å¥—è·¯: è‡ªå®šä¹‰æž„é€ å‡½æ•°, é€šè¿‡newåˆ›å»ºå¯¹è±¡
> - é€‚ç”¨åœºæ™¯: éœ€è¦åˆ›å»ºå¤šä¸ª`ç±»åž‹ç¡®å®š`çš„å¯¹è±¡,ä¸Žä¸Šæ–¹å·¥åŽ‚æ¨¡å¼æœ‰æ‰€å¯¹æ¯”
> - é—®é¢˜: æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ç›¸åŒçš„æ•°æ®, æµªè´¹å†…å­˜
>
> ```
> //å®šä¹‰ç±»åž‹
> function Person(name, age) {
>  this.name = name
>  this.age = age
>  this.setName = function (name) {
>    this.name = name
>  }
> }
> var p1 = new Person('Tom', 12)
> p1.setName('Jack')
> console.log(p1.name, p1.age)
> console.log(p1 instanceof Person)
> 
> function Student (name, price) {
>  this.name = name
>  this.price = price
> }
> var s = new Student('Bob', 13000)
> console.log(s instanceof Student)
> 
> var p2 = new Person('JACK', 23)
> console.log(p1, p2)
> ```

### â…¤-æž„é€ å‡½æ•°+åŽŸåž‹çš„ç»„åˆæ¨¡å¼

> æ–¹å¼å…­: æž„é€ å‡½æ•°+åŽŸåž‹çš„ç»„åˆæ¨¡å¼-->`æœ€å¥½ç”¨è¿™ä¸ªå†™æ³•`
>
> - å¥—è·¯: è‡ªå®šä¹‰æž„é€ å‡½æ•°, å±žæ€§åœ¨å‡½æ•°ä¸­åˆå§‹åŒ–, æ–¹æ³•æ·»åŠ åˆ°åŽŸåž‹ä¸Š
> - é€‚ç”¨åœºæ™¯: éœ€è¦`åˆ›å»ºå¤šä¸ªç±»åž‹ç¡®å®š`çš„å¯¹è±¡
> - æ”¾åœ¨åŽŸåž‹ä¸Šå¯ä»¥èŠ‚çœç©ºé—´(åªéœ€è¦åŠ è½½ä¸€éæ–¹æ³•)
>
> ```js
> //åœ¨æž„é€ å‡½æ•°ä¸­åªåˆå§‹åŒ–ä¸€èˆ¬å‡½æ•°
> function Person(name, age) { 
>  this.name = name
>  this.age = age
> }
> Person.prototype.setName = function (name) {
>  this.name = name
> }
> 
> var p1 = new Person('Tom', 23)
> var p2 = new Person('Jack', 24)
> console.log(p1, p2)
> ```

## 2ã€ç»§æ‰¿æ¨¡å¼

### â… -åŽŸåž‹é“¾ç»§æ‰¿

> æ–¹å¼1: åŽŸåž‹é“¾ç»§æ‰¿
>
> ```js
>  1. å¥—è·¯
>     - å®šä¹‰çˆ¶ç±»åž‹æž„é€ å‡½æ•°
>     - ç»™çˆ¶ç±»åž‹çš„åŽŸåž‹æ·»åŠ æ–¹æ³•
>     - å®šä¹‰å­ç±»åž‹çš„æž„é€ å‡½æ•°
>     - åˆ›å»ºçˆ¶ç±»åž‹çš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»åž‹çš„åŽŸåž‹
>     - `å°†å­ç±»åž‹åŽŸåž‹çš„æž„é€ å±žæ€§è®¾ç½®ä¸ºå­ç±»åž‹`-->æ­¤å¤„æœ‰ç–‘æƒ‘çš„å¯ä»¥çœ‹æœ¬ç¬”è®°[å‡½æ•°é«˜çº§éƒ¨åˆ†çš„1ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾](#1ã€åŽŸåž‹ä¸ŽåŽŸåž‹é“¾)
>     - ç»™å­ç±»åž‹åŽŸåž‹æ·»åŠ æ–¹æ³•
>     - åˆ›å»ºå­ç±»åž‹çš„å¯¹è±¡: å¯ä»¥è°ƒç”¨çˆ¶ç±»åž‹çš„æ–¹æ³•
>  2. å…³é”®
>     - `å­ç±»åž‹çš„åŽŸåž‹ä¸ºçˆ¶ç±»åž‹çš„ä¸€ä¸ªå®žä¾‹å¯¹è±¡`
> //çˆ¶ç±»åž‹
> function Supper() {
> this.supProp = 'çˆ¶äº²çš„åŽŸåž‹é“¾'
> }
> //ç»™çˆ¶ç±»åž‹çš„åŽŸåž‹ä¸Šå¢žåŠ ä¸€ä¸ª[showSupperProp]æ–¹æ³•,æ‰“å°è‡ªèº«subProp
> Supper.prototype.showSupperProp = function () {
> console.log(this.supProp)
> }
> 
> //å­ç±»åž‹
> function Sub() {
> this.subProp = 'å„¿å­çš„åŽŸåž‹é“¾'
> }
> 
> // å­ç±»åž‹çš„åŽŸåž‹ä¸ºçˆ¶ç±»åž‹çš„ä¸€ä¸ªå®žä¾‹å¯¹è±¡
> Sub.prototype = new Supper()
> // è®©å­ç±»åž‹çš„åŽŸåž‹çš„constructoræŒ‡å‘å­ç±»åž‹
> // å¦‚æžœä¸åŠ ,å…¶æž„é€ å‡½æ•°æ‰¾çš„[`new Supper()`]æ—¶ä»Žé¡¶å±‚Objectç»§æ‰¿æ¥çš„æž„é€ å‡½æ•°,æŒ‡å‘[`Supper()`]
> Sub.prototype.constructor = Sub
> //ç»™å­ç±»åž‹çš„åŽŸåž‹ä¸Šå¢žåŠ ä¸€ä¸ª[showSubProp]æ–¹æ³•,æ‰“å°è‡ªèº«subProp
> Sub.prototype.showSubProp = function () {
> console.log(this.subProp)
> }
> 
> var sub = new Sub()
> 
> sub.showSupperProp() //çˆ¶äº²çš„åŽŸåž‹é“¾
> sub.showSubProp() //å„¿å­çš„åŽŸåž‹é“¾
> console.log(sub)  
> /**
> Sub {subProp: "å„¿å­çš„åŽŸåž‹é“¾"}
> subProp: "å„¿å­çš„åŽŸåž‹é“¾"
> __proto__: Supper
> constructor: Æ’ Sub()
> showSubProp: Æ’ ()
> supProp: "çˆ¶äº²çš„åŽŸåž‹é“¾"
> __proto__: Object
> */
> ```

#### â‘  ç¤ºä¾‹å›¾

> `æ³¨æ„`:æ­¤å›¾ä¸­æ²¡æœ‰ä½“çŽ°[`constructoræž„é€ å‡½æ•° `],ä¼šåœ¨ä¸‹æ–¹æž„é€ å‡½æ•°è¡¥å……å¤„æŒ‡å‡º
>
> ![image-20210728101320606](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210728101320606.png)

#### â‘¡ æž„é€ å‡½æ•°è¡¥å……

> å¯¹äºŽä»£ç ä¸­[`Sub.prototype.constructor = Sub`]æ˜¯å¦æœ‰ç–‘æƒ‘?
>
> å¦‚æžœä¸åŠ ,å…¶æž„é€ å‡½æ•°æ‰¾çš„[`new Supper()`]æ˜¯ä»Žé¡¶å±‚Objectç»§æ‰¿æ¥çš„æž„é€ å‡½æ•°,æŒ‡å‘[`Supper()`],è™½ç„¶å¦‚æžœä½ ä¸åŠ è¿™å¥è¯,å¤§ä½“ä¸Šä½¿ç”¨æ˜¯ä¸å—å½±å“çš„,ä½†æ˜¯ä½ æœ‰ä¸€ä¸ªå±žæ€§æŒ‡å‘æ˜¯é”™è¯¯çš„,å¦‚æžœåœ¨å¤§åž‹é¡¹ç›®ä¸­ä¸‡ä¸€ä¸‡ä¸€å“ªé‡Œå†è°ƒç”¨åˆ°äº†å‘¢?
>
> 1. è¿™é‡Œå¯ä»¥è¡¥å……ä¸€ä¸‹constructor çš„æ¦‚å¿µï¼š
>
> - `constructor æˆ‘ä»¬ç§°ä¸ºæž„é€ å‡½æ•°ï¼Œå› ä¸ºå®ƒæŒ‡å›žæž„é€ å‡½æ•°æœ¬èº«`
> - å…¶ä½œç”¨æ˜¯è®©æŸä¸ªæž„é€ å‡½æ•°äº§ç”Ÿçš„ æ‰€æœ‰å®žä¾‹å¯¹è±¡ï¼ˆæ¯”å¦‚fï¼‰ èƒ½å¤Ÿæ‰¾åˆ°ä»–çš„æž„é€ å‡½æ•°ï¼ˆæ¯”å¦‚Funï¼‰ï¼Œç”¨æ³•å°±æ˜¯f.constructor
>
> 1. æ­¤æ—¶å®žä¾‹å¯¹è±¡é‡Œæ²¡æœ‰constructor è¿™ä¸ªå±žæ€§ï¼ŒäºŽæ˜¯æ²¿ç€åŽŸåž‹é“¾å¾€ä¸Šæ‰¾åˆ°Fun.prototype é‡Œçš„constructorï¼Œå¹¶æŒ‡å‘Fun å‡½æ•°æœ¬èº«
>
> - constructoræœ¬å°±å­˜åœ¨äºŽåŽŸåž‹ä¸­,æŒ‡å‘æž„é€ å‡½æ•°,æˆä¸ºå­å¯¹è±¡åŽï¼Œå¦‚æžœè¯¥åŽŸåž‹é“¾ä¸­çš„constructoråœ¨è‡ªèº«æ²¡æœ‰è€Œæ˜¯åœ¨çˆ¶åŽŸåž‹ä¸­æ‰¾åˆ°,æ‰€ä»¥æŒ‡å‘çˆ¶ç±»çš„æž„é€ å‡½æ•°
>
> 1. ç”±äºŽè¿™é‡Œçš„ç»§æ‰¿æ˜¯ç›´æŽ¥æ”¹äº†æž„é€ å‡½æ•°çš„prototype çš„æŒ‡å‘ï¼Œæ‰€ä»¥åœ¨ subçš„åŽŸåž‹é“¾ä¸­ï¼ŒSub.prototype æ²¡æœ‰constructor å±žæ€§ï¼Œåè€Œæ˜¯çœ‹åˆ°äº†ä¸€ä¸ªsuper å®žä¾‹
> 2. è¿™å°±è®©sub å®žä¾‹çš„constructor æ— æ³•ä½¿ç”¨äº†ã€‚ä¸ºäº†ä»–è¿˜èƒ½ç”¨ï¼Œå°±åœ¨é‚£ä¸ªsuper å®žä¾‹ä¸­æ‰‹åŠ¨åŠ äº†ä¸€ä¸ªconstructor å±žæ€§ï¼Œä¸”æŒ‡å‘Sub å‡½æ•°çœ‹åˆ°äº†ä¸€ä¸ªsuper å®žä¾‹

### â…¡-å€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿(å‡çš„)

> æ–¹å¼2: å€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿(å‡çš„)
>
> 1. å¥—è·¯:
>    - å®šä¹‰çˆ¶ç±»åž‹æž„é€ å‡½æ•°
>    - å®šä¹‰å­ç±»åž‹æž„é€ å‡½æ•°
>    - åœ¨å­ç±»åž‹æž„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»åž‹æž„é€ 
> 2. å…³é”®:
>    - `åœ¨å­ç±»åž‹æž„é€ å‡½æ•°ä¸­é€šç”¨call()è°ƒç”¨çˆ¶ç±»åž‹æž„é€ å‡½æ•°`
> 3. ä½œç”¨:
>
> - èƒ½å€Ÿç”¨çˆ¶ç±»ä¸­çš„æž„é€ æ–¹æ³•,ä½†æ˜¯ä¸çµæ´»
>
> ```js
> function Person(name, age) {
>  this.name = name
>  this.age = age
> }
> function Student(name, age, price) {
>   //æ­¤å¤„åˆ©ç”¨call(),å°† [Student]çš„thisä¼ é€’ç»™Personæž„é€ å‡½æ•°
>  Person.call(this, name, age)  // ç›¸å½“äºŽ: this.Person(name, age)
>  /*this.name = name
>  this.age = age*/
>  this.price = price
> }
> 
> var s = new Student('Tom', 20, 14000)
> console.log(s.name, s.age, s.price)
> ```
>
> [`Person`]ä¸­çš„thisæ˜¯åŠ¨æ€å˜åŒ–çš„,åœ¨[`Student`]ä¸­åˆ©ç”¨[`Person.call(this, name, age)`]æ”¹å˜äº†å…¶thisæŒ‡å‘,æ‰€ä»¥å¯ä»¥å®žçŽ°æ­¤æ•ˆæžœ

### â…¢-ç»„åˆç»§æ‰¿

> æ–¹å¼3: åŽŸåž‹é“¾+å€Ÿç”¨æž„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿
>
> 1. åˆ©ç”¨åŽŸåž‹é“¾å®žçŽ°å¯¹çˆ¶ç±»åž‹å¯¹è±¡çš„æ–¹æ³•ç»§æ‰¿
> 2. åˆ©ç”¨super()å€Ÿç”¨çˆ¶ç±»åž‹æž„å»ºå‡½æ•°åˆå§‹åŒ–ç›¸åŒå±žæ€§
>
> ```
> function Person(name, age) {
>  this.name = name
>  this.age = age
> }
> Person.prototype.setName = function (name) {
>  this.name = name
> }
> 
> function Student(name, age, price) {
>  Person.call(this, name, age)  // ä¸ºäº†å¾—åˆ°å±žæ€§
>  this.price = price
> }
> Student.prototype = new Person() // ä¸ºäº†èƒ½çœ‹åˆ°çˆ¶ç±»åž‹çš„æ–¹æ³•
> Student.prototype.constructor = Student //ä¿®æ­£constructorå±žæ€§
> Student.prototype.setPrice = function (price) {
>  this.price = price
> }
> 
> var s = new Student('Tom', 24, 15000)
> s.setName('Bob')
> s.setPrice(16000)
> console.log(s.name, s.age, s.price)
> ```

# ä¸‰ã€çº¿ç¨‹æœºåˆ¶ä¸Žäº‹ä»¶æœºåˆ¶

## 1ã€è¿›ç¨‹ä¸Žçº¿ç¨‹

> ![image-20210728115630974](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210728115630974.png)

### â… - è¿›ç¨‹

> 1. ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œ,å®ƒ`å æœ‰ä¸€ç‰‡ç‹¬æœ‰çš„å†…å­˜ç©ºé—´`
> 2. å¯ä»¥é€šè¿‡windowsä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹è¿›ç¨‹
>
> - å¯ä»¥çœ‹å‡ºæ¯ä¸ªç¨‹åºçš„å†…å­˜ç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„
> - ![image-20210728115541255](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210728115541255.png)

### â…¡-çº¿ç¨‹

> æ¦‚å¿µ:
>
> - æ˜¯è¿›ç¨‹å†…çš„ä¸€ä¸ªç‹¬ç«‹æ‰§è¡Œå•å…ƒ
> - æ˜¯ç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªå®Œæ•´æµç¨‹
> - æ˜¯CPUçš„æœ€å°çš„è°ƒåº¦å•å…ƒ

### â…¢-è¿›ç¨‹ä¸Žçº¿ç¨‹

> 1. åº”ç”¨ç¨‹åºå¿…é¡»è¿è¡Œåœ¨æŸä¸ªè¿›ç¨‹çš„æŸä¸ªçº¿ç¨‹ä¸Š
> 2. ä¸€ä¸ªè¿›ç¨‹ä¸­è‡³å°‘æœ‰ä¸€ä¸ªè¿è¡Œçš„çº¿ç¨‹:ä¸»çº¿ç¨‹ -->è¿›ç¨‹å¯åŠ¨åŽè‡ªåŠ¨åˆ›å»º
> 3. ä¸€ä¸ªè¿›ç¨‹ä¸­ä¹Ÿå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹:æ­¤æ—¶æˆ‘ä»¬ä¼šè¯´è¿™ä¸ªç¨‹åºæ˜¯å¤šçº¿ç¨‹è¿è¡Œçš„
> 4. å¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸èƒ½ç›´æŽ¥å…±äº«çš„ -->å†…å­˜ç›¸äº’ç‹¬ç«‹(éš”ç¦»)
> 5. `çº¿ç¨‹æ± (thread pool)`:ä¿å­˜å¤šä¸ªçº¿ç¨‹å¯¹è±¡çš„å®¹å™¨,å®žçŽ°çº¿ç¨‹å¯¹è±¡çš„åå¤åˆ©ç”¨

### â…£-å¼•å‡ºçš„é—®é¢˜

#### â‘  ä½•ä¸ºå¤šè¿›ç¨‹ä¸Žå¤šçº¿ç¨‹?

> å¤šè¿›ç¨‹è¿è¡Œ: ä¸€åº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶å¯åŠ¨å¤šä¸ªå®žä¾‹è¿è¡Œ
>
> å¤šçº¿ç¨‹: åœ¨ä¸€ä¸ªè¿›ç¨‹å†…, åŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹è¿è¡Œ

#### â‘¡æ¯”è¾ƒå•çº¿ç¨‹ä¸Žå¤šçº¿ç¨‹?

> å¤šçº¿ç¨‹:
>
> - ä¼˜ç‚¹:èƒ½æœ‰æ•ˆæå‡CPUçš„åˆ©ç”¨çŽ‡
> - ç¼ºç‚¹
> - åˆ›å»ºå¤šçº¿ç¨‹å¼€é”€
> - çº¿ç¨‹é—´åˆ‡æ¢å¼€é”€
> - æ­»é”ä¸ŽçŠ¶æ€åŒæ­¥é—®é¢˜
>
> å•çº¿ç¨‹:
>
> - ä¼˜ç‚¹:é¡ºåºç¼–ç¨‹ç®€å•æ˜“æ‡‚
> - ç¼ºç‚¹:æ•ˆçŽ‡ä½Ž

#### â‘¢ JSæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹?

> ```
> JSæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ , ä½†ä½¿ç”¨H5ä¸­çš„ Web Workerså¯ä»¥å¤šçº¿ç¨‹è¿è¡Œ
> ```
>
> - åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹åŽ»æ“ä½œDOMç•Œé¢
> - å…·ä½“åŽŸå› å¯çœ‹ä¸‹æ–¹[3ã€JSæ˜¯å•çº¿ç¨‹çš„](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#3ã€JSæ˜¯å•çº¿ç¨‹çš„)éƒ¨åˆ†ç»™å‡ºçš„è¯¦è§£

#### â‘£ æµè§ˆå™¨è¿è¡Œæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹?

> éƒ½æ˜¯å¤šçº¿ç¨‹è¿è¡Œçš„

#### â‘¤ æµè§ˆå™¨è¿è¡Œæ˜¯å•è¿›ç¨‹è¿˜æ˜¯å¤šè¿›ç¨‹?

> æœ‰çš„æ˜¯å•è¿›ç¨‹:
>
> - firefox
> - è€ç‰ˆIE
>
> æœ‰çš„æ˜¯å¤šè¿›ç¨‹:
>
> - chrome
> - æ–°ç‰ˆIE
>
> å¦‚ä½•æŸ¥çœ‹æµè§ˆå™¨æ˜¯å¦æ˜¯å¤šè¿›ç¨‹è¿è¡Œçš„å‘¢? ä»»åŠ¡ç®¡ç†å™¨-->è¿›ç¨‹

## 2ã€æµè§ˆå™¨å†…æ ¸

> æ”¯æ’‘æµè§ˆå™¨è¿è¡Œçš„æœ€æ ¸å¿ƒçš„ç¨‹åº

### â… -ä¸åŒæµè§ˆå™¨çš„å†…æ ¸

> - Chrome, Safari : webkit
> - firefox : Gecko
> - IE : Trident
> - 360,æœç‹—ç­‰å›½å†…æµè§ˆå™¨: Trident + webkit

### â…¡-å†…æ ¸ç”±ä»€ä¹ˆæ¨¡å—ç»„æˆ?

> ä¸»çº¿ç¨‹
>
> 1. jså¼•æ“Žæ¨¡å— : è´Ÿè´£jsç¨‹åºçš„ç¼–è¯‘ä¸Žè¿è¡Œ
> 2. html,cssæ–‡æ¡£è§£æžæ¨¡å— : è´Ÿè´£é¡µé¢æ–‡æœ¬çš„è§£æž(æ‹†è§£)
> 3. dom/cssæ¨¡å— : è´Ÿè´£dom/cssåœ¨å†…å­˜ä¸­çš„ç›¸å…³å¤„ç†
> 4. å¸ƒå±€å’Œæ¸²æŸ“æ¨¡å— : è´Ÿè´£é¡µé¢çš„å¸ƒå±€å’Œæ•ˆæžœçš„ç»˜åˆ¶
> 5. å¸ƒå±€å’Œæ¸²æŸ“æ¨¡å— : è´Ÿè´£é¡µé¢çš„å¸ƒå±€å’Œæ•ˆæžœçš„ç»˜åˆ¶
>
> åˆ†çº¿ç¨‹
>
> - å®šæ—¶å™¨æ¨¡å— : è´Ÿè´£å®šæ—¶å™¨çš„ç®¡ç†
> - ç½‘ç»œè¯·æ±‚æ¨¡å— : è´Ÿè´£æœåŠ¡å™¨è¯·æ±‚(å¸¸è§„/Ajax)
> - äº‹ä»¶å“åº”æ¨¡å— : è´Ÿè´£äº‹ä»¶çš„ç®¡ç†
>
> å›¾ä¾‹
>
> ![image-20210728141032723](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210728141032723.png)

## 3ã€å®šæ—¶å™¨å¼•å‘çš„æ€è€ƒ

> ```
> <body>
> <button id="btn">å¯åŠ¨å®šæ—¶å™¨</button>
> <script type="text/javascript">
>  document.getElementById('btn').onclick = function () {
>    var start = Date.now()
>    console.log('å¯åŠ¨å®šæ—¶å™¨å‰...')
>    setTimeout(function () {
>      console.log('å®šæ—¶å™¨æ‰§è¡Œäº†', Date.now()-start) //å®šæ—¶å™¨å¹¶ä¸èƒ½ä¿è¯çœŸæ­£å®šæ—¶æ‰§è¡Œ,ä¸€èˆ¬ä¼šå»¶è¿Ÿä¸€ä¸ç‚¹
>    }, 200)
>    console.log('å¯åŠ¨å®šæ—¶å™¨åŽ...')
>    // åšä¸€ä¸ªé•¿æ—¶é—´çš„å·¥ä½œ
>    for (var i = 0; i < 1000000000; i++) { //ä¼šé€ æˆå®šæ—¶å™¨å»¶é•¿å¾ˆé•¿æ—¶é—´
>        ...
>    }
>  }
> </script>
> </body>
> ```

### â… -å®šæ—¶å™¨çœŸæ˜¯å®šæ—¶æ‰§è¡Œçš„å—?

> - å®šæ—¶å™¨å¹¶ä¸èƒ½ä¿è¯çœŸæ­£å®šæ—¶æ‰§è¡Œ
> - ä¸€èˆ¬ä¼šå»¶è¿Ÿä¸€ä¸ç‚¹(å¯ä»¥æŽ¥å—), ä¹Ÿæœ‰å¯èƒ½å»¶è¿Ÿå¾ˆé•¿æ—¶é—´(ä¸èƒ½æŽ¥å—)

### â…¡-å®šæ—¶å™¨å›žè°ƒå‡½æ•°æ˜¯åœ¨åˆ†çº¿ç¨‹æ‰§è¡Œçš„å—?

> åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„, JSæ˜¯å•çº¿ç¨‹çš„

### â…¢-å®šæ—¶å™¨æ˜¯å¦‚ä½•å®žçŽ°çš„?

> `äº‹ä»¶å¾ªçŽ¯æ¨¡åž‹`,åœ¨ä¸‹æ–¹ç»™å‡ºè¯¦è§£

## 3ã€JSæ˜¯å•çº¿ç¨‹çš„

### â… -å¦‚ä½•è¯æ˜ŽJSæ‰§è¡Œæ˜¯å•çº¿ç¨‹çš„

> - `setTimeout()çš„å›žè°ƒå‡½æ•°æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„`
> - å®šæ—¶å™¨å›žè°ƒå‡½æ•°åªæœ‰åœ¨è¿è¡Œæ ˆä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®ŒåŽæ‰æœ‰å¯èƒ½æ‰§è¡Œ
>
> ```
> // å¦‚ä½•è¯æ˜ŽJSæ‰§è¡Œæ˜¯å•çº¿ç¨‹çš„
> setTimeout(function () { //4. åœ¨å°†[timeout 1111]å¼¹çª—å…³é—­åŽ,å†ç­‰ä¸€ç§’ æ‰§è¡Œæ­¤å¤„
>    console.log('timeout 2222')
>    alert('22222222')
>  }, 2000)
>  setTimeout(function () { //3. è¿‡äº†ä¸€ç§’åŽ æ‰“å° timeout 1111å¹¶å¼¹çª—,æ­¤å¤„å¦‚æžœä¸å°†å¼¹çª—å…³é—­,ä¸ä¼šç»§ç»­æ‰§è¡Œä¸Šæ–¹222
>    console.log('timeout 1111')
>    alert('1111111')
>  }, 1000)
>  setTimeout(function () { //2. ç„¶åŽæ‰“å°timeout() 00000
>    console.log('timeout() 00000')
>  }, 0)
>  function fn() { //1. fn()
>    console.log('fn()')
>  }
>  fn()
> //----------------------
>  console.log('alert()ä¹‹å‰')
>  alert('------') //æš‚åœå½“å‰ä¸»çº¿ç¨‹çš„æ‰§è¡Œ, åŒæ—¶æš‚åœè®¡æ—¶, ç‚¹å‡»ç¡®å®šåŽ, æ¢å¤ç¨‹åºæ‰§è¡Œå’Œè®¡æ—¶
>  console.log('alert()ä¹‹åŽ')
> ```
>
> æµç¨‹ç»“æžœ:
>
> 1. å…ˆæ‰“å°äº†[`fn()`],ç„¶åŽé©¬ä¸Šå°±æ‰“å°äº†[`timeout() 00000`]
> 2. è¿‡äº†ä¸€ç§’åŽ æ‰“å° timeout 1111å¹¶å¼¹çª—,æ­¤å¤„å¦‚æžœä¸å°†å¼¹çª—å…³é—­,ä¸ä¼šç»§ç»­æ‰§è¡Œä¸Šæ–¹222
> 3. åœ¨å°†[timeout 1111]å¼¹çª—å…³é—­åŽ,`å†ç­‰ä¸€ç§’` æ‰§è¡Œæ­¤å¤„
>
> - é—®:ä¸ºä½•æ˜Žæ˜Žå†™çš„æ˜¯2ç§’,å´å…³é—­ä¸Šä¸€ä¸ªå¼¹çª—å†è¿‡ä¸€ç§’å°±æ‰§è¡Œ?
> - è§£:å¹¶ä¸æ˜¯å…³é—­åŽå†è®¡ç®—çš„,è€Œæ˜¯ä¸€èµ·è®¡ç®—çš„,alertåªæ˜¯æš‚åœäº†ä¸»çº¿ç¨‹æ‰§è¡Œ

### â…¡-JSå¼•æ“Žæ‰§è¡Œä»£ç çš„åŸºæœ¬æµç¨‹ä¸Žä»£ç åˆ†ç±»

> ä»£ç åˆ†ç±»:
>
> - åˆå§‹åŒ–ä»£ç 
> - å›žè°ƒä»£ç 
>
> jså¼•æ“Žæ‰§è¡Œä»£ç çš„åŸºæœ¬æµç¨‹
>
> 1. å…ˆæ‰§è¡Œåˆå§‹åŒ–ä»£ç : åŒ…å«ä¸€äº›ç‰¹åˆ«çš„ä»£ç  å›žè°ƒå‡½æ•°(å¼‚æ­¥æ‰§è¡Œ)
>
> - è®¾ç½®å®šæ—¶å™¨
> - ç»‘å®šäº‹ä»¶ç›‘å¬
> - å‘é€ajaxè¯·æ±‚
>
> 1. åŽé¢åœ¨æŸä¸ªæ—¶åˆ»æ‰ä¼šæ‰§è¡Œå›žè°ƒä»£ç 

### â…¢-ä¸ºä»€ä¹ˆjsè¦ç”¨å•çº¿ç¨‹æ¨¡å¼, è€Œä¸ç”¨å¤šçº¿ç¨‹æ¨¡å¼?

> 1. JavaScriptçš„å•çº¿ç¨‹ï¼Œä¸Žå®ƒçš„ç”¨é€”æœ‰å…³ã€‚
> 2. ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸Žç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚
> 3. è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜
>    - ä¸¾ä¸ªæ —å­:å¦‚æžœæˆ‘ä»¬è¦å®žçŽ°æ›´æ–°é¡µé¢ä¸Šä¸€ä¸ªdomèŠ‚ç‚¹ç„¶åŽåˆ é™¤,ç”¨å•çº¿ç¨‹æ˜¯æ²¡é—®é¢˜çš„
>    - ä½†æ˜¯å¦‚æžœå¤šçº¿ç¨‹,å½“æˆ‘åˆ é™¤çº¿ç¨‹å…ˆåˆ é™¤äº†domèŠ‚ç‚¹,æ›´æ–°çº¿ç¨‹è¦åŽ»æ›´æ–°çš„æ—¶å€™å°±ä¼šå‡ºé”™

## 4ã€äº‹ä»¶å¾ªçŽ¯æ¨¡åž‹(Event Loop)æœºåˆ¶

### â… -æ¦‚å¿µå¼•å‡º

> æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ`javascriptä»Žè¯žç”Ÿä¹‹æ—¥èµ·å°±æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„éžé˜»å¡žçš„è„šæœ¬è¯­è¨€`ã€‚è¿™æ˜¯ç”±å…¶æœ€åˆçš„ç”¨é€”æ¥å†³å®šçš„ï¼š`ä¸Žæµè§ˆå™¨äº¤äº’`ã€‚
>
> å•çº¿ç¨‹æ„å‘³ç€ï¼Œjavascriptä»£ç åœ¨æ‰§è¡Œçš„ä»»ä½•æ—¶å€™ï¼Œéƒ½åªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰çš„ä»»åŠ¡ã€‚
>
> `éžé˜»å¡ž`:
>
> > è€Œéžé˜»å¡žåˆ™æ˜¯å½“ä»£ç éœ€è¦è¿›è¡Œä¸€é¡¹å¼‚æ­¥ä»»åŠ¡ï¼ˆæ— æ³•ç«‹åˆ»è¿”å›žç»“æžœï¼Œéœ€è¦èŠ±ä¸€å®šæ—¶é—´æ‰èƒ½è¿”å›žçš„ä»»åŠ¡ï¼Œå¦‚I/Oäº‹ä»¶ï¼‰çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šæŒ‚èµ·ï¼ˆpendingï¼‰è¿™ä¸ªä»»åŠ¡ï¼Œç„¶åŽåœ¨å¼‚æ­¥ä»»åŠ¡è¿”å›žç»“æžœçš„æ—¶å€™å†æ ¹æ®ä¸€å®šè§„åˆ™åŽ»æ‰§è¡Œç›¸åº”çš„å›žè°ƒã€‚
>
> `å•çº¿ç¨‹æ˜¯å¿…è¦çš„`:
>
> > ä¹Ÿæ˜¯javascriptè¿™é—¨è¯­è¨€çš„åŸºçŸ³ï¼ŒåŽŸå› ä¹‹ä¸€åœ¨å…¶æœ€åˆä¹Ÿæ˜¯æœ€ä¸»è¦çš„æ‰§è¡ŒçŽ¯å¢ƒâ€”â€”æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå„ç§å„æ ·çš„domæ“ä½œã€‚è¯•æƒ³ä¸€ä¸‹ å¦‚æžœjavascriptæ˜¯å¤šçº¿ç¨‹çš„ï¼Œé‚£ä¹ˆå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹domè¿›è¡Œä¸€é¡¹æ“ä½œï¼Œä¾‹å¦‚ä¸€ä¸ªå‘å…¶æ·»åŠ äº‹ä»¶ï¼Œè€Œå¦ä¸€ä¸ªåˆ é™¤äº†è¿™ä¸ªdomï¼Œæ­¤æ—¶è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿå› æ­¤ï¼Œä¸ºäº†ä¿è¯ä¸ä¼š å‘ç”Ÿç±»ä¼¼äºŽè¿™ä¸ªä¾‹å­ä¸­çš„æƒ…æ™¯ï¼Œjavascripté€‰æ‹©åªç”¨ä¸€ä¸ªä¸»çº¿ç¨‹æ¥æ‰§è¡Œä»£ç ï¼Œè¿™æ ·å°±ä¿è¯äº†ç¨‹åºæ‰§è¡Œçš„ä¸€è‡´æ€§ã€‚
>
> å½“ç„¶ï¼ŒçŽ°å¦‚ä»Šäººä»¬ä¹Ÿæ„è¯†åˆ°ï¼Œå•çº¿ç¨‹åœ¨ä¿è¯äº†æ‰§è¡Œé¡ºåºçš„åŒæ—¶ä¹Ÿé™åˆ¶äº†javascriptçš„æ•ˆçŽ‡ï¼Œå› æ­¤å¼€å‘å‡ºäº†`web workers`æŠ€æœ¯ã€‚è¿™é¡¹æŠ€æœ¯å·ç§°å¯ä»¥è®©javaScriptæˆä¸ºä¸€é—¨å¤šçº¿ç¨‹è¯­è¨€ã€‚
>
> > ç„¶è€Œï¼Œä½¿ç”¨web workersæŠ€æœ¯å¼€çš„å¤šçº¿ç¨‹æœ‰ç€è¯¸å¤šé™åˆ¶ï¼Œä¾‹å¦‚ï¼š`æ‰€æœ‰æ–°çº¿ç¨‹éƒ½å—ä¸»çº¿ç¨‹çš„å®Œå…¨æŽ§åˆ¶ï¼Œä¸èƒ½ç‹¬ç«‹æ‰§è¡Œ`ã€‚è¿™æ„å‘³ç€è¿™äº›â€œçº¿ç¨‹â€ å®žé™…ä¸Šåº”å±žäºŽä¸»çº¿ç¨‹çš„å­çº¿ç¨‹ã€‚å¦å¤–ï¼Œè¿™äº›å­çº¿ç¨‹å¹¶æ²¡æœ‰æ‰§è¡ŒI/Oæ“ä½œçš„æƒé™ï¼Œåªèƒ½ä¸ºä¸»çº¿ç¨‹åˆ†æ‹…ä¸€äº›è¯¸å¦‚è®¡ç®—ç­‰ä»»åŠ¡ã€‚æ‰€ä»¥ä¸¥æ ¼æ¥è®²è¿™äº›çº¿ç¨‹å¹¶æ²¡æœ‰å®Œæ•´çš„åŠŸèƒ½ï¼Œä¹Ÿå› æ­¤è¿™é¡¹æŠ€æœ¯å¹¶éžæ”¹å˜äº†javascriptè¯­è¨€çš„å•çº¿ç¨‹æœ¬è´¨ã€‚
>
> å¯ä»¥é¢„è§ï¼Œæœªæ¥çš„javascriptä¹Ÿä¼šä¸€ç›´æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ã€‚
>
> è¯è¯´å›žæ¥ï¼Œå‰é¢æåˆ°javascriptçš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯â€œ`éžé˜»å¡ž`â€ï¼Œé‚£ä¹ˆjavascriptå¼•æ“Žåˆ°åº•æ˜¯å¦‚ä½•å®žçŽ°çš„è¿™ä¸€ç‚¹å‘¢ï¼Ÿ
>
> > ç­”æ¡ˆå°±æ˜¯â€”â€”event loopï¼ˆäº‹ä»¶å¾ªçŽ¯ï¼‰ã€‚
>
> **æ³¨ï¼š`è™½ç„¶nodejsä¸­çš„ä¹Ÿå­˜åœ¨ä¸Žä¼ ç»Ÿæµè§ˆå™¨çŽ¯å¢ƒä¸‹çš„ç›¸ä¼¼çš„äº‹ä»¶å¾ªçŽ¯ã€‚ç„¶è€Œä¸¤è€…é—´å´æœ‰ç€è¯¸å¤šä¸åŒï¼Œæ•…æŠŠä¸¤è€…åˆ†å¼€ï¼Œå•ç‹¬è§£é‡Š`ã€‚**

### â…¡-æµè§ˆå™¨çŽ¯å¢ƒä¸‹JSå¼•æ“Žçš„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶

#### â‘  æ‰§è¡Œæ ˆæ¦‚å¿µ

> æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆè¯¦æƒ…å¯ä»¥çœ‹ä¸Šæ–¹ç¬”è®° -->[å‡½æ•°é«˜çº§çš„2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#2ã€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ),æ­¤å¤„ç»§ç»­è¿›è¡Œä¸€æ¬¡æ¦‚è¿°åŠ æ·±ç†è§£
>
> å½“javascriptä»£ç æ‰§è¡Œçš„æ—¶å€™ä¼šå°†ä¸åŒçš„å˜é‡å­˜äºŽå†…å­˜ä¸­çš„ä¸åŒä½ç½®ï¼š`å †ï¼ˆheapï¼‰`å’Œ`æ ˆï¼ˆstackï¼‰`ä¸­æ¥åŠ ä»¥åŒºåˆ†ã€‚å…¶ä¸­ï¼Œå †é‡Œå­˜æ”¾ç€ä¸€äº›å¯¹è±¡ã€‚è€Œæ ˆä¸­åˆ™å­˜æ”¾ç€ä¸€äº›åŸºç¡€ç±»åž‹å˜é‡ä»¥åŠå¯¹è±¡çš„æŒ‡é’ˆã€‚ `ä½†æ˜¯æˆ‘ä»¬è¿™é‡Œè¯´çš„æ‰§è¡Œæ ˆå’Œä¸Šé¢è¿™ä¸ªæ ˆçš„æ„ä¹‰å´æœ‰äº›ä¸åŒ`ã€‚
>
> `æ‰§è¡Œæ ˆ`:
>
> > å½“æˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œjsä¼šç”Ÿæˆä¸€ä¸ªä¸Žè¿™ä¸ªæ–¹æ³•å¯¹åº”çš„æ‰§è¡ŒçŽ¯å¢ƒï¼ˆcontextï¼‰ï¼Œåˆå«`æ‰§è¡Œä¸Šä¸‹æ–‡`ã€‚è¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒä¸­å­˜åœ¨ç€è¿™ä¸ªæ–¹æ³•çš„ç§æœ‰ä½œç”¨åŸŸã€ä¸Šå±‚ä½œç”¨åŸŸçš„æŒ‡å‘ã€æ–¹æ³•çš„å‚æ•°ï¼Œè¿™ä¸ªä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡ä»¥åŠè¿™ä¸ªä½œç”¨åŸŸçš„thiså¯¹è±¡ã€‚ è€Œå½“ä¸€ç³»åˆ—æ–¹æ³•è¢«ä¾æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼ŒäºŽæ˜¯è¿™äº›æ–¹æ³•è¢«æŽ’é˜Ÿåœ¨ä¸€ä¸ªå•ç‹¬çš„åœ°æ–¹ã€‚è¿™ä¸ªåœ°æ–¹è¢«ç§°ä¸ºæ‰§è¡Œæ ˆã€‚
>
> å½“ä¸€ä¸ªè„šæœ¬ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œjså¼•æ“Žä¼šè§£æžè¿™æ®µä»£ç ï¼Œå¹¶å°†å…¶ä¸­çš„åŒæ­¥ä»£ç æŒ‰ç…§æ‰§è¡Œé¡ºåºåŠ å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åŽä»Žå¤´å¼€å§‹æ‰§è¡Œã€‚å¦‚æžœå½“å‰æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆjsä¼šå‘æ‰§è¡Œæ ˆä¸­æ·»åŠ è¿™ä¸ªæ–¹æ³•çš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œç„¶åŽè¿›å…¥è¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒç»§ç»­æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚`å½“è¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒä¸­çš„ä»£ç  æ‰§è¡Œå®Œæ¯•å¹¶è¿”å›žç»“æžœåŽï¼Œjsä¼šé€€å‡ºè¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒå¹¶æŠŠè¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒé”€æ¯ï¼Œå›žåˆ°ä¸Šä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡ŒçŽ¯å¢ƒ`ã€‚è¿™ä¸ªè¿‡ç¨‹åå¤è¿›è¡Œï¼Œç›´åˆ°æ‰§è¡Œæ ˆä¸­çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚
>
> æ­¤å¤„ç»§ç»­æ‹¿å‡ºæ ˆå›¾åŠ æ·±ç†è§£:![img](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/%E6%89%A7%E8%A1%8C%E6%A0%88%E4%B8%8E%E4%BA%8B%E4%BB%B6%E9%98%9F%E5%88%97.gif)
>
> ä»Žå›¾ç‰‡å¯çŸ¥ï¼Œä¸€ä¸ªæ–¹æ³•æ‰§è¡Œä¼šå‘æ‰§è¡Œæ ˆä¸­åŠ å…¥è¿™ä¸ªæ–¹æ³•çš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œåœ¨è¿™ä¸ªæ‰§è¡ŒçŽ¯å¢ƒä¸­è¿˜å¯ä»¥è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œç”šè‡³æ˜¯è‡ªå·±ï¼Œå…¶ç»“æžœä¸è¿‡æ˜¯åœ¨æ‰§è¡Œæ ˆä¸­å†æ·»åŠ ä¸€ä¸ªæ‰§è¡ŒçŽ¯å¢ƒã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥æ˜¯æ— é™è¿›è¡Œä¸‹åŽ»çš„ï¼Œ`é™¤éžå‘ç”Ÿäº†æ ˆæº¢å‡ºï¼Œå³è¶…è¿‡äº†æ‰€èƒ½ä½¿ç”¨å†…å­˜çš„æœ€å¤§å€¼`ã€‚
>
> ä»¥ä¸Šçš„è¿‡ç¨‹è¯´çš„éƒ½æ˜¯åŒæ­¥ä»£ç çš„æ‰§è¡Œã€‚é‚£ä¹ˆå½“ä¸€ä¸ªå¼‚æ­¥ä»£ç ï¼ˆå¦‚å‘é€ajaxè¯·æ±‚æ•°æ®ï¼‰æ‰§è¡ŒåŽä¼šå¦‚ä½•å‘¢ï¼Ÿ
>
> > åˆšåˆšè¯´è¿‡jsçš„å¦ä¸€å¤§ç‰¹ç‚¹æ˜¯éžé˜»å¡žï¼Œå®žçŽ°è¿™ä¸€ç‚¹çš„å…³é”®åœ¨äºŽä¸‹é¢è¦è¯´çš„è¿™é¡¹æœºåˆ¶â€”â€”`äº‹ä»¶é˜Ÿåˆ—ï¼ˆTask Queueï¼‰`ã€‚

#### â‘¡ äº‹ä»¶é˜Ÿåˆ—ï¼ˆTask Queueï¼‰

> JSå¼•æ“Žé‡åˆ°ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶åŽå¹¶ä¸ä¼šä¸€ç›´ç­‰å¾…å…¶è¿”å›žç»“æžœï¼Œè€Œæ˜¯ä¼šå°†è¿™ä¸ªäº‹ä»¶æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œæ‰§è¡Œæ ˆä¸­çš„å…¶ä»–ä»»åŠ¡,å½“ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶è¿”å›žç»“æžœåŽï¼Œjsä¼šå°†è¿™ä¸ªäº‹ä»¶åŠ å…¥ä¸Žå½“å‰æ‰§è¡Œæ ˆä¸åŒçš„å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º`äº‹ä»¶é˜Ÿåˆ—`ã€‚
>
> > è¢«æ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ä¸ä¼šç«‹åˆ»æ‰§è¡Œå…¶å›žè°ƒï¼Œè€Œæ˜¯`ç­‰å¾…å½“å‰æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œ ä¸»çº¿ç¨‹å¤„äºŽé—²ç½®çŠ¶æ€æ—¶ï¼Œä¸»çº¿ç¨‹ä¼šåŽ»æŸ¥æ‰¾äº‹ä»¶é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡`ã€‚å¦‚æžœæœ‰ï¼Œé‚£ä¹ˆä¸»çº¿ç¨‹ä¼šä»Žä¸­å–å‡ºæŽ’åœ¨ç¬¬ä¸€ä½çš„äº‹ä»¶ï¼Œå¹¶æŠŠè¿™ä¸ªäº‹ä»¶å¯¹åº”çš„å›žè°ƒæ”¾å…¥æ‰§è¡Œæ ˆä¸­ï¼Œç„¶åŽæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç ...ï¼Œå¦‚æ­¤åå¤ï¼Œ`è¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªæ— é™çš„å¾ªçŽ¯ã€‚è¿™å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºâ€œäº‹ä»¶å¾ªçŽ¯ï¼ˆEvent Loopï¼‰â€çš„åŽŸå› ã€‚`
>
> è¿™é‡Œè¿˜æœ‰ä¸€å¼ å›¾æ¥å±•ç¤ºè¿™ä¸ªè¿‡ç¨‹:![image-20210729163242840](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210729163242840.png)
>
> å›¾ä¸­çš„stackè¡¨ç¤ºæˆ‘ä»¬æ‰€è¯´çš„æ‰§è¡Œæ ˆï¼Œweb apisåˆ™æ˜¯ä»£è¡¨ä¸€äº›å¼‚æ­¥äº‹ä»¶ï¼Œè€Œcallback queueå³äº‹ä»¶é˜Ÿåˆ—ã€‚
>
> ä»¥ä¸Šçš„äº‹ä»¶å¾ªçŽ¯è¿‡ç¨‹æ˜¯ä¸€ä¸ªå®è§‚çš„è¡¨è¿°ï¼Œå®žé™…ä¸Šå› ä¸ºå¼‚æ­¥ä»»åŠ¡ä¹‹é—´å¹¶ä¸ç›¸åŒï¼Œå› æ­¤ä»–ä»¬çš„æ‰§è¡Œä¼˜å…ˆçº§ä¹Ÿæœ‰åŒºåˆ«ã€‚`ä¸åŒçš„å¼‚æ­¥ä»»åŠ¡è¢«åˆ†ä¸ºä¸¤ç±»ï¼šå¾®ä»»åŠ¡ï¼ˆmicro taskï¼‰å’Œå®ä»»åŠ¡ï¼ˆmacro taskï¼‰`,æ­¤éƒ¨åˆ†çœ‹ä¸‹æ–¹è¯¦è§£

### â…¢-å®ä»»åŠ¡(**macro task**)ä¸Žå¾®ä»»åŠ¡(**micro task**)

> å®ä»»åŠ¡ä¸Žå¾®ä»»åŠ¡äº¦å±žäºŽ[â…¡-æµè§ˆå™¨çŽ¯å¢ƒä¸‹JSå¼•æ“Žçš„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶](https://gitee.com/hongjilin/hongs-study-notes/tree/master/ç¼–ç¨‹_å‰ç«¯å¼€å‘å­¦ä¹ ç¬”è®°/HTML+CSS+JSåŸºç¡€ç¬”è®°/JavaScriptç¬”è®°#â…¡-æµè§ˆå™¨çŽ¯å¢ƒä¸‹JSå¼•æ“Žçš„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶)å†…çŸ¥è¯†ç‚¹,ä½†æœ¬äººè§‰å¾—æ¯”è¾ƒé‡è¦,å°†å…¶æé«˜è‡³å…¶çŸ¥è¯†ç‚¹

#### â‘  å®ä»»åŠ¡é˜Ÿåˆ—ä¸Žå¾®ä»»åŠ¡é˜Ÿåˆ—è§£é‡Š

> é¡¾åæ€ä¹‰,å®ä»»åŠ¡æ”¾è‡³å®ä»»åŠ¡é˜Ÿåˆ—(`ç®€ç§°å®é˜Ÿåˆ—`)ä¸­ã€å¾®ä»»åŠ¡æ”¾è‡³å¾®ä»»åŠ¡é˜Ÿåˆ—(`ç®€ç§°å¾®é˜Ÿåˆ—`)ä¸­
>
> 1. JSä¸­ç”¨æ¥å­˜å‚¨å¾…æ‰§è¡Œå›žè°ƒå‡½æ•°çš„é˜Ÿåˆ—åŒ…å«2ä¸ªä¸åŒç‰¹å®šçš„åˆ—é˜Ÿ
>
> - `å®é˜Ÿåˆ—`:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å®ä»»åŠ¡(å›žè°ƒ),æ¯”å¦‚:`å®šæ—¶å™¨`å›žè°ƒ/ajaxå›žè°ƒ/domäº‹ä»¶å›žè°ƒ
> - `å¾®é˜Ÿåˆ—`:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å¾®ä»»åŠ¡(å›žè°ƒ),æ¯”å¦‚:`Promise`çš„å›žè°ƒ/muntationå›žè°ƒ
>
> 1. JSæ‰§è¡Œæ—¶ä¼šåŒºåˆ«è¿™2ä¸ªé˜Ÿåˆ—:
>    - JSæ‰§è¡Œå¼•æ“Žé¦–å…ˆå¿…é¡»æ‰§è¡Œæ‰€æœ‰çš„`åˆå§‹åŒ–åŒæ­¥ä»»åŠ¡`ä»£ç 
>    - æ¯æ¬¡å‡†å¤‡å–å‡ºç¬¬ä¸€ä¸ª`å®ä»»åŠ¡æ‰§è¡Œå‰`,éƒ½è¦å°†æ‰€æœ‰çš„`å¾®ä»»åŠ¡`ä¸€ä¸ªä¸€ä¸ªå–å‡ºæ¥æ‰§è¡Œ
>
> å‰é¢æˆ‘ä»¬ä»‹ç»è¿‡ï¼Œåœ¨ä¸€ä¸ªäº‹ä»¶å¾ªçŽ¯ä¸­ï¼Œå¼‚æ­¥äº‹ä»¶è¿”å›žç»“æžœåŽä¼šè¢«æ”¾åˆ°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ç„¶è€Œï¼Œæ ¹æ®è¿™ä¸ªå¼‚æ­¥äº‹ä»¶çš„ç±»åž‹ï¼Œè¿™ä¸ªäº‹ä»¶å®žé™…ä¸Šä¼šè¢«å¯¹åº”çš„å®ä»»åŠ¡é˜Ÿåˆ—æˆ–è€…å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­åŽ»ã€‚å¹¶ä¸”åœ¨å½“å‰æ‰§è¡Œæ ˆä¸ºç©ºçš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼š æŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦æœ‰äº‹ä»¶å­˜åœ¨ã€‚å¦‚æžœä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå†åŽ»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶å¹¶æŠŠå¯¹åº”çš„å›žåˆ°åŠ å…¥å½“å‰æ‰§è¡Œæ ˆï¼›å¦‚æžœå­˜åœ¨ï¼Œåˆ™ä¼šä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—ä¸­äº‹ä»¶å¯¹åº”çš„å›žè°ƒï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œç„¶åŽåŽ»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„ä¸€ä¸ªäº‹ä»¶ï¼ŒæŠŠå¯¹åº”çš„å›žè°ƒåŠ å…¥å½“å‰æ‰§è¡Œæ ˆ...å¦‚æ­¤åå¤ï¼Œè¿›å…¥å¾ªçŽ¯ã€‚
>
> æˆ‘ä»¬åªéœ€è®°ä½:** `å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæ¯•æ—¶ä¼šç«‹åˆ»å…ˆå¤„ç†æ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶ï¼Œç„¶åŽå†åŽ»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ã€‚åŒä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¸­ï¼Œå¾®ä»»åŠ¡æ°¸è¿œåœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œ` **

#### â‘¡ åŽŸç†å›¾

> ![Promiseç³»ç»Ÿå­¦ä¹ _å®ä»»åŠ¡å¾®ä»»åŠ¡åŽŸç†å›¾](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/Promise%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0_%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%BE%AE%E4%BB%BB%E5%8A%A1%E5%8E%9F%E7%90%86%E5%9B%BE.png)

#### â‘¢ ç”±ä»£ç é€†å‘ç†è§£å®ä»»åŠ¡ä¸Žå¾®ä»»åŠ¡

> ä»£ç ç¤ºä¾‹
>
> ```
> setTimeout(() => { 
>       console.log('timeout callback1ï¼ˆï¼‰')//ç«‹å³æ”¾å…¥å®é˜Ÿåˆ—
>       Promise.resolve(3).then(
>         value => { 
>           console.log('Promise onResolved3()', value)//å½“è¿™ä¸ªå®ä»»åŠ¡æ‰§è¡ŒåŽ ç«‹é©¬æ”¾å…¥å¾®é˜Ÿåˆ—,æ‰€ä»¥è¿™ä¸ªå¾®ä»»åŠ¡æ‰§è¡Œå®ŒåŽä¸‹ä¸ªå®ä»»åŠ¡æ‰èƒ½æ‰§è¡Œ 
>         }
>       )
>     }, 0)
> 
>     setTimeout(() => { 
>       console.log('timeout callback2ï¼ˆï¼‰') //ç«‹å³æ”¾å…¥å®é˜Ÿåˆ—,
>     }, 0)
> 
>     Promise.resolve(1).then(
>       value => { 
>         console.log('Promise onResolved1()', value)//ç«‹å³æ”¾å…¥å¾®é˜Ÿåˆ—
>         setTimeout(() => {
>           console.log('timeout callback3ï¼ˆï¼‰', value) //ç«‹å³æ”¾å…¥å®ä»»åŠ¡
>         }, 0)
>       }
>     )
> 
>     Promise.resolve(2).then(
>       value => { 
>         console.log('Promise onResolved2()', value)//ç«‹å³æ”¾å…¥å¾®é˜Ÿåˆ—
>       }
>     )
> console.log('åŒæ­¥ä»£ç ') //åŒæ­¥ä»£ç ç«‹å³æ‰§è¡Œ
> ```
>
> ç»“æžœ
>
> ```
>  'åŒæ­¥ä»£ç ',
>   'Promise onResolved1()',
>   'Promise onResolved2()',
>   'timeout callback1ï¼ˆï¼‰',
>   'Promise onResolved3()',
>   'timeout callback2ï¼ˆï¼‰',
>   'timeout callback3ï¼ˆï¼‰'
> ```

### â…£-**nodeçŽ¯å¢ƒä¸‹çš„äº‹ä»¶å¾ªçŽ¯æœºåˆ¶**

> ```
> ä¸å­¦nodeçš„å°ä¼™ä¼´å°±è·³è¿‡æ­¤éƒ¨åˆ†ç›´æŽ¥åŽ»ä¸‹ä¸€èŠ‚Web Workersç¬”è®°å§
> ```

#### â‘  **ä¸Žæµè§ˆå™¨çŽ¯å¢ƒæœ‰ä½•ä¸åŒ?**

> åœ¨nodeä¸­ï¼Œäº‹ä»¶å¾ªçŽ¯è¡¨çŽ°å‡ºçš„çŠ¶æ€ä¸Žæµè§ˆå™¨ä¸­å¤§è‡´ç›¸åŒã€‚ä¸åŒçš„æ˜¯nodeä¸­æœ‰ä¸€å¥—è‡ªå·±çš„æ¨¡åž‹ã€‚nodeä¸­äº‹ä»¶å¾ªçŽ¯çš„å®žçŽ°æ˜¯ä¾é çš„libuvå¼•æ“Žã€‚æˆ‘ä»¬çŸ¥é“nodeé€‰æ‹©chrome v8å¼•æ“Žä½œä¸ºjsè§£é‡Šå™¨ï¼Œv8å¼•æ“Žå°†jsä»£ç åˆ†æžåŽåŽ»è°ƒç”¨å¯¹åº”çš„node apiï¼Œè€Œè¿™äº›apiæœ€åŽåˆ™ç”±libuvå¼•æ“Žé©±åŠ¨ï¼Œæ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡ï¼Œå¹¶æŠŠä¸åŒçš„äº‹ä»¶æ”¾åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¸­ç­‰å¾…ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ `å› æ­¤å®žé™…ä¸Šnodeä¸­çš„äº‹ä»¶å¾ªçŽ¯å­˜åœ¨äºŽlibuvå¼•æ“Žä¸­`ã€‚

#### â‘¡ **äº‹ä»¶å¾ªçŽ¯æ¨¡åž‹**

> ä¸‹é¢æ˜¯ä¸€ä¸ªlibuvå¼•æ“Žä¸­çš„äº‹ä»¶å¾ªçŽ¯çš„æ¨¡åž‹:
>
> ```
> //libuvå¼•æ“Žä¸­çš„äº‹ä»¶å¾ªçŽ¯çš„æ¨¡åž‹
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”Œâ”€>â”‚        timers         â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚  â”‚     I/O callbacks     â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚  â”‚     idle, prepare     â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   incoming:   â”‚
> â”‚  â”‚         poll          â”‚<â”€â”€connectionsâ”€â”€â”€     â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> â”‚  â”‚        check          â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â””â”€â”€â”¤    close callbacks    â”‚
>   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ```
>
> *æ³¨ï¼šæ¨¡åž‹ä¸­çš„æ¯ä¸€ä¸ªæ–¹å—ä»£è¡¨äº‹ä»¶å¾ªçŽ¯çš„ä¸€ä¸ªé˜¶æ®µ*
>
> è¿™ä¸ªæ¨¡åž‹æ˜¯nodeå®˜ç½‘ä¸Šçš„ä¸€ç¯‡æ–‡ç« ä¸­ç»™å‡ºçš„ï¼Œæˆ‘ä¸‹é¢çš„è§£é‡Šä¹Ÿéƒ½æ¥æºäºŽè¿™ç¯‡æ–‡ç« ã€‚æˆ‘ä¼šåœ¨æ–‡æœ«æŠŠæ–‡ç« åœ°å€è´´å‡ºæ¥ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥äº²è‡ªä¸Žçœ‹çœ‹åŽŸæ–‡ã€‚

#### â‘¢ **äº‹ä»¶å¾ªçŽ¯å„é˜¶æ®µè¯¦è§£**

> ä»Žä¸Šé¢è¿™ä¸ªæ¨¡åž‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´åˆ†æžå‡ºnodeä¸­çš„äº‹ä»¶å¾ªçŽ¯çš„é¡ºåºï¼š
>
> > å¤–éƒ¨è¾“å…¥æ•°æ®-->è½®è¯¢é˜¶æ®µ(poll)-->æ£€æŸ¥é˜¶æ®µ(check)-->å…³é—­äº‹ä»¶å›žè°ƒé˜¶æ®µ(close callback)-->å®šæ—¶å™¨æ£€æµ‹é˜¶æ®µ(timer)-->I/Oäº‹ä»¶å›žè°ƒé˜¶æ®µ(I/O callbacks)-->é—²ç½®é˜¶æ®µ(idle, prepare)-->è½®è¯¢é˜¶æ®µ...
>
> è¿™äº›é˜¶æ®µå¤§è‡´çš„åŠŸèƒ½å¦‚ä¸‹ï¼š
>
> - timers(å®šæ—¶å™¨æ£€æµ‹é˜¶æ®µ): è¿™ä¸ªé˜¶æ®µæ‰§è¡Œå®šæ—¶å™¨é˜Ÿåˆ—ä¸­çš„å›žè°ƒå¦‚ `setTimeout()` å’Œ `setInterval()`ã€‚
> - I/O callbacks(I/Oäº‹ä»¶å›žè°ƒé˜¶æ®µ): è¿™ä¸ªé˜¶æ®µæ‰§è¡Œå‡ ä¹Žæ‰€æœ‰çš„å›žè°ƒã€‚ä½†æ˜¯ä¸åŒ…æ‹¬closeäº‹ä»¶ï¼Œå®šæ—¶å™¨å’Œ`setImmediate()`çš„å›žè°ƒã€‚
> - idle, prepare: è¿™ä¸ªé˜¶æ®µä»…åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œå¯ä»¥ä¸å¿…ç†ä¼šã€‚
> - poll(è½®è¯¢é˜¶æ®µ): ç­‰å¾…æ–°çš„I/Oäº‹ä»¶ï¼Œnodeåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹ä¼šé˜»å¡žåœ¨è¿™é‡Œã€‚
> - check(æ£€æŸ¥é˜¶æ®µ): `setImmediate()`çš„å›žè°ƒä¼šåœ¨è¿™ä¸ªé˜¶æ®µæ‰§è¡Œã€‚
> - close callbacks(å…³é—­äº‹ä»¶å›žè°ƒé˜¶æ®µ): ä¾‹å¦‚`socket.on('close', ...)`è¿™ç§closeäº‹ä»¶çš„å›žè°ƒã€‚
>
> ä¸‹é¢æˆ‘ä»¬æ¥æŒ‰ç…§ä»£ç ç¬¬ä¸€æ¬¡è¿›å…¥libuvå¼•æ“ŽåŽçš„é¡ºåºæ¥è¯¦ç»†è§£è¯´è¿™äº›é˜¶æ®µï¼š

##### **poll(è½®è¯¢é˜¶æ®µ)**

> å½“ä¸ªv8å¼•æ“Žå°†jsä»£ç è§£æžåŽä¼ å…¥libuvå¼•æ“ŽåŽï¼Œå¾ªçŽ¯é¦–å…ˆè¿›å…¥pollé˜¶æ®µã€‚pollé˜¶æ®µçš„æ‰§è¡Œé€»è¾‘å¦‚ä¸‹ï¼š å…ˆæŸ¥çœ‹poll queueä¸­æ˜¯å¦æœ‰äº‹ä»¶ï¼Œæœ‰ä»»åŠ¡å°±æŒ‰å…ˆè¿›å…ˆå‡ºçš„é¡ºåºä¾æ¬¡æ‰§è¡Œå›žè°ƒã€‚ å½“queueä¸ºç©ºæ—¶ï¼Œä¼šæ£€æŸ¥æ˜¯å¦æœ‰setImmediate()çš„callbackï¼Œå¦‚æžœæœ‰å°±è¿›å…¥checké˜¶æ®µæ‰§è¡Œè¿™äº›callbackã€‚ä½†åŒæ—¶ä¹Ÿä¼šæ£€æŸ¥æ˜¯å¦æœ‰åˆ°æœŸçš„timerï¼Œå¦‚æžœæœ‰ï¼Œå°±æŠŠè¿™äº›åˆ°æœŸçš„timerçš„callbackæŒ‰ç…§è°ƒç”¨é¡ºåºæ”¾åˆ°timer queueä¸­ï¼Œä¹‹åŽå¾ªçŽ¯ä¼šè¿›å…¥timeré˜¶æ®µæ‰§è¡Œqueueä¸­çš„ callbackã€‚ è¿™ä¸¤è€…çš„é¡ºåºæ˜¯ä¸å›ºå®šçš„ï¼Œæ”¶åˆ°ä»£ç è¿è¡Œçš„çŽ¯å¢ƒçš„å½±å“ã€‚å¦‚æžœä¸¤è€…çš„queueéƒ½æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆloopä¼šåœ¨pollé˜¶æ®µåœç•™ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªi/oäº‹ä»¶è¿”å›žï¼Œå¾ªçŽ¯ä¼šè¿›å…¥i/o callbacké˜¶æ®µå¹¶ç«‹å³æ‰§è¡Œè¿™ä¸ªäº‹ä»¶çš„callbackã€‚
>
> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œpollé˜¶æ®µåœ¨æ‰§è¡Œpoll queueä¸­çš„å›žè°ƒæ—¶å®žé™…ä¸Šä¸ä¼šæ— é™çš„æ‰§è¡Œä¸‹åŽ»ã€‚`æœ‰ä¸¤ç§æƒ…å†µpollé˜¶æ®µä¼šç»ˆæ­¢æ‰§è¡Œpoll queueä¸­çš„ä¸‹ä¸€ä¸ªå›žè°ƒï¼š1.æ‰€æœ‰å›žè°ƒæ‰§è¡Œå®Œæ¯•ã€‚2.æ‰§è¡Œæ•°è¶…è¿‡äº†nodeçš„é™åˆ¶ã€‚`

##### check(æ£€æŸ¥é˜¶æ®µ)

> checké˜¶æ®µä¸“é—¨ç”¨æ¥æ‰§è¡Œ`setImmediate()`æ–¹æ³•çš„å›žè°ƒï¼Œå½“pollé˜¶æ®µè¿›å…¥ç©ºé—²çŠ¶æ€ï¼Œå¹¶ä¸”setImmediate queueä¸­æœ‰callbackæ—¶ï¼Œäº‹ä»¶å¾ªçŽ¯è¿›å…¥è¿™ä¸ªé˜¶æ®µã€‚

##### close callbacks(å…³é—­äº‹ä»¶å›žè°ƒé˜¶æ®µ)

> å½“ä¸€ä¸ªsocketè¿žæŽ¥æˆ–è€…ä¸€ä¸ªhandleè¢«çªç„¶å…³é—­æ—¶ï¼ˆä¾‹å¦‚è°ƒç”¨äº†`socket.destroy()`æ–¹æ³•ï¼‰ï¼Œcloseäº‹ä»¶ä¼šè¢«å‘é€åˆ°è¿™ä¸ªé˜¶æ®µæ‰§è¡Œå›žè°ƒã€‚å¦åˆ™äº‹ä»¶ä¼šç”¨`process.nextTickï¼ˆï¼‰`æ–¹æ³•å‘é€å‡ºåŽ»ã€‚

##### timers(å®šæ—¶å™¨æ£€æµ‹é˜¶æ®µ)

> è¿™ä¸ªé˜¶æ®µä»¥å…ˆè¿›å…ˆå‡ºçš„æ–¹å¼æ‰§è¡Œæ‰€æœ‰åˆ°æœŸçš„timeråŠ å…¥timeré˜Ÿåˆ—é‡Œçš„callbackï¼Œä¸€ä¸ªtimer callbackæŒ‡å¾—æ˜¯ä¸€ä¸ªé€šè¿‡setTimeoutæˆ–è€…setIntervalå‡½æ•°è®¾ç½®çš„å›žè°ƒå‡½æ•°ã€‚

##### I/O callbacks(I/Oäº‹ä»¶å›žè°ƒé˜¶æ®µ)

> å¦‚ä¸Šæ–‡æ‰€è¨€ï¼Œè¿™ä¸ªé˜¶æ®µä¸»è¦æ‰§è¡Œå¤§éƒ¨åˆ†I/Oäº‹ä»¶çš„å›žè°ƒï¼ŒåŒ…æ‹¬ä¸€äº›ä¸ºæ“ä½œç³»ç»Ÿæ‰§è¡Œçš„å›žè°ƒã€‚ä¾‹å¦‚ä¸€ä¸ªTCPè¿žæŽ¥ç”Ÿé”™è¯¯æ—¶ï¼Œç³»ç»Ÿéœ€è¦æ‰§è¡Œå›žè°ƒæ¥èŽ·å¾—è¿™ä¸ªé”™è¯¯çš„æŠ¥å‘Šã€‚

#### â‘£ **process.nextTick,setTimeoutä¸ŽsetImmediateçš„åŒºåˆ«ä¸Žä½¿ç”¨åœºæ™¯**

> åœ¨nodeä¸­æœ‰ä¸‰ä¸ªå¸¸ç”¨çš„ç”¨æ¥æŽ¨è¿Ÿä»»åŠ¡æ‰§è¡Œçš„æ–¹æ³•ï¼šprocess.nextTick,setTimeoutï¼ˆsetIntervalä¸Žä¹‹ç›¸åŒï¼‰ä¸ŽsetImmediate

è¿™ä¸‰è€…é—´å­˜åœ¨ç€ä¸€äº›éžå¸¸ä¸åŒçš„åŒºåˆ«ï¼š

##### **process.nextTick()**

> å°½ç®¡æ²¡æœ‰æåŠï¼Œä½†æ˜¯å®žé™…ä¸Šnodeä¸­å­˜åœ¨ç€ä¸€ä¸ªç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œå³nextTick queueã€‚è¿™ä¸ªé˜Ÿåˆ—ä¸­çš„å›žè°ƒæ‰§è¡Œè™½ç„¶æ²¡æœ‰è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªé˜¶æ®µï¼Œå½“æ—¶è¿™äº›äº‹ä»¶å´ä¼šåœ¨æ¯ä¸€ä¸ªé˜¶æ®µæ‰§è¡Œå®Œæ¯•å‡†å¤‡è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µæ—¶ä¼˜å…ˆæ‰§è¡Œã€‚å½“äº‹ä»¶å¾ªçŽ¯å‡†å¤‡è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µä¹‹å‰ï¼Œä¼šå…ˆæ£€æŸ¥nextTick queueä¸­æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œå¦‚æžœæœ‰ï¼Œé‚£ä¹ˆä¼šå…ˆæ¸…ç©ºè¿™ä¸ªé˜Ÿåˆ—ã€‚ä¸Žæ‰§è¡Œpoll queueä¸­çš„ä»»åŠ¡ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ“ä½œåœ¨é˜Ÿåˆ—æ¸…ç©ºå‰æ˜¯ä¸ä¼šåœæ­¢çš„ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œé”™è¯¯çš„ä½¿ç”¨`process.nextTick()`æ–¹æ³•ä¼šå¯¼è‡´nodeè¿›å…¥ä¸€ä¸ªæ­»å¾ªçŽ¯ã€‚ã€‚ç›´åˆ°å†…å­˜æ³„æ¼ã€‚
>
> ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿä¸‹é¢æœ‰ä¸€ä¸ªä¾‹å­ï¼š
>
> ```
> const server = net.createServer(() => {}).listen(8080);
> server.on('listening', () => {});
> ```
>
> è¿™ä¸ªä¾‹å­ä¸­å½“ï¼Œå½“listenæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œé™¤éžç«¯å£è¢«å ç”¨ï¼Œå¦åˆ™ä¼šç«‹åˆ»ç»‘å®šåœ¨å¯¹åº”çš„ç«¯å£ä¸Šã€‚è¿™æ„å‘³ç€æ­¤æ—¶è¿™ä¸ªç«¯å£å¯ä»¥ç«‹åˆ»è§¦å‘listeningäº‹ä»¶å¹¶æ‰§è¡Œå…¶å›žè°ƒã€‚ç„¶è€Œï¼Œè¿™æ—¶å€™`on('listening)`è¿˜æ²¡æœ‰å°†callbackè®¾ç½®å¥½ï¼Œè‡ªç„¶æ²¡æœ‰callbackå¯ä»¥æ‰§è¡Œã€‚ä¸ºäº†é¿å…å‡ºçŽ°è¿™ç§æƒ…å†µï¼Œnodeä¼šåœ¨listenäº‹ä»¶ä¸­ä½¿ç”¨`process.nextTick()`æ–¹æ³•ï¼Œç¡®ä¿äº‹ä»¶åœ¨å›žè°ƒå‡½æ•°ç»‘å®šåŽè¢«è§¦å‘ã€‚

##### **setTimeout()å’ŒsetImmediate()**

> åœ¨ä¸‰ä¸ªæ–¹æ³•ä¸­ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æœ€å®¹æ˜“è¢«å¼„æ··ã€‚å®žé™…ä¸Šï¼ŒæŸäº›æƒ…å†µä¸‹è¿™ä¸¤ä¸ªæ–¹æ³•çš„è¡¨çŽ°ä¹Ÿéžå¸¸ç›¸ä¼¼ã€‚ç„¶è€Œå®žé™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„æ„ä¹‰å´å¤§ä¸ºä¸åŒã€‚
>
> `setTimeout()`æ–¹æ³•æ˜¯å®šä¹‰ä¸€ä¸ªå›žè°ƒï¼Œå¹¶ä¸”å¸Œæœ›è¿™ä¸ªå›žè°ƒåœ¨æˆ‘ä»¬æ‰€æŒ‡å®šçš„æ—¶é—´é—´éš”åŽç¬¬ä¸€æ—¶é—´åŽ»æ‰§è¡Œã€‚æ³¨æ„è¿™ä¸ªâ€œç¬¬ä¸€æ—¶é—´æ‰§è¡Œâ€ï¼Œè¿™æ„å‘³ç€ï¼Œå—åˆ°æ“ä½œç³»ç»Ÿå’Œå½“å‰æ‰§è¡Œä»»åŠ¡çš„è¯¸å¤šå½±å“ï¼Œè¯¥å›žè°ƒå¹¶ä¸ä¼šåœ¨æˆ‘ä»¬é¢„æœŸçš„æ—¶é—´é—´éš”åŽç²¾å‡†çš„æ‰§è¡Œã€‚æ‰§è¡Œçš„æ—¶é—´å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿå’Œè¯¯å·®ï¼Œè¿™æ˜¯ä¸å¯é¿å…çš„ã€‚nodeä¼šåœ¨å¯ä»¥æ‰§è¡Œtimerå›žè°ƒçš„ç¬¬ä¸€æ—¶é—´åŽ»æ‰§è¡Œä½ æ‰€è®¾å®šçš„ä»»åŠ¡ã€‚
>
> `setImmediate()`æ–¹æ³•ä»Žæ„ä¹‰ä¸Šå°†æ˜¯ç«‹åˆ»æ‰§è¡Œçš„æ„æ€ï¼Œä½†æ˜¯å®žé™…ä¸Šå®ƒå´æ˜¯åœ¨ä¸€ä¸ªå›ºå®šçš„é˜¶æ®µæ‰ä¼šæ‰§è¡Œå›žè°ƒï¼Œå³pollé˜¶æ®µä¹‹åŽã€‚æœ‰è¶£çš„æ˜¯ï¼Œè¿™ä¸ªåå­—çš„æ„ä¹‰å’Œä¹‹å‰æåˆ°è¿‡çš„`process.nextTick()`æ–¹æ³•æ‰æ˜¯æœ€åŒ¹é…çš„ã€‚nodeçš„å¼€å‘è€…ä»¬ä¹Ÿæ¸…æ¥šè¿™ä¸¤ä¸ªæ–¹æ³•çš„å‘½åä¸Šå­˜åœ¨ä¸€å®šçš„æ··æ·†ï¼Œä»–ä»¬è¡¨ç¤ºä¸ä¼šæŠŠè¿™ä¸¤ä¸ªæ–¹æ³•çš„åå­—è°ƒæ¢è¿‡æ¥---å› ä¸ºæœ‰å¤§é‡çš„nodeç¨‹åºä½¿ç”¨ç€è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè°ƒæ¢å‘½åæ‰€å¸¦æ¥çš„å¥½å¤„ä¸Žå®ƒçš„å½±å“ç›¸æ¯”ä¸å€¼ä¸€æã€‚
>
> `setTimeout()`å’Œä¸è®¾ç½®æ—¶é—´é—´éš”çš„`setImmediate()`è¡¨çŽ°ä¸ŠåŠå…¶ç›¸ä¼¼ã€‚çŒœçŒœä¸‹é¢è¿™æ®µä»£ç çš„ç»“æžœæ˜¯ä»€ä¹ˆï¼Ÿ
>
> ```
> setTimeout(() => {
>    console.log('timeout');
> }, 0);
> 
> setImmediate(() => {
>    console.log('immediate');
> });
> ```
>
> å®žé™…ä¸Šï¼Œç­”æ¡ˆæ˜¯ä¸ä¸€å®šã€‚æ²¡é”™ï¼Œå°±è¿žnodeçš„å¼€å‘è€…éƒ½æ— æ³•å‡†ç¡®çš„åˆ¤æ–­è¿™ä¸¤è€…çš„é¡ºåºè°å‰è°åŽã€‚è¿™å–å†³äºŽè¿™æ®µä»£ç çš„è¿è¡ŒçŽ¯å¢ƒã€‚è¿è¡ŒçŽ¯å¢ƒä¸­çš„å„ç§å¤æ‚çš„æƒ…å†µä¼šå¯¼è‡´åœ¨åŒæ­¥é˜Ÿåˆ—é‡Œä¸¤ä¸ªæ–¹æ³•çš„é¡ºåºéšæœºå†³å®šã€‚ä½†æ˜¯ï¼Œåœ¨ä¸€ç§æƒ…å†µä¸‹å¯ä»¥å‡†ç¡®åˆ¤æ–­ä¸¤ä¸ªæ–¹æ³•å›žè°ƒçš„æ‰§è¡Œé¡ºåºï¼Œé‚£å°±æ˜¯åœ¨ä¸€ä¸ªI/Oäº‹ä»¶çš„å›žè°ƒä¸­ã€‚ä¸‹é¢è¿™æ®µä»£ç çš„é¡ºåºæ°¸è¿œæ˜¯å›ºå®šçš„ï¼š
>
> ```
> const fs = require('fs');
> 
> fs.readFile(__filename, () => {
>    setTimeout(() => {
>        console.log('timeout');
>    }, 0);
>    setImmediate(() => {
>        console.log('immediate');
>    });
> });
> ```
>
> ç­”æ¡ˆæ°¸è¿œæ˜¯ï¼š
>
> ```
> immediate
> timeout
> ```
>
> å› ä¸ºåœ¨I/Oäº‹ä»¶çš„å›žè°ƒä¸­ï¼ŒsetImmediateæ–¹æ³•çš„å›žè°ƒæ°¸è¿œåœ¨timerçš„å›žè°ƒå‰æ‰§è¡Œã€‚

## 5ã€Web Workers

> æƒ³äº†è§£æ›´å¤šå¯ä»¥ç‚¹å‡»é“¾æŽ¥æŸ¥çœ‹æ›´å¤š,æ­¤å¤„åªæ˜¯å¤§è‡´äº†è§£å­¦ä¹  -->[Web Workers](https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWeb_Workers_API%2FUsing_web_workers)
>
> 1. H5è§„èŒƒæä¾›äº†jsåˆ†çº¿ç¨‹çš„å®žçŽ°, å–åä¸º: Web Workers
> 2. ç›¸å…³API
>
> - Worker: æž„é€ å‡½æ•°, åŠ è½½åˆ†çº¿ç¨‹æ‰§è¡Œçš„jsæ–‡ä»¶
> - Worker.prototype.onmessage: ç”¨äºŽæŽ¥æ”¶å¦ä¸€ä¸ªçº¿ç¨‹çš„å›žè°ƒå‡½æ•°
> - Worker.prototype.postMessage: å‘å¦ä¸€ä¸ªçº¿ç¨‹å‘é€æ¶ˆæ¯
>
> 1. ä¸è¶³
>
> - workerå†…ä»£ç ä¸èƒ½æ“ä½œDOM(æ›´æ–°UI)
> - ä¸èƒ½è·¨åŸŸåŠ è½½JS
> - ä¸æ˜¯æ¯ä¸ªæµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªæ–°ç‰¹æ€§

### â… -æŠ›ç –å¼•çŽ‰,å¼•å‡ºç”¨å¤„

> è¿˜æ˜¯æ‹¿æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—æ¥åšä¾‹å­,è¿™ä¸œè¥¿æ•ˆçŽ‡ä½Ž,å¯ä»¥æ‹¿æ¥æ¨¡æ‹Ÿ
>
> ```
> <body>
> <input type="text" placeholder="æ•°å€¼" id="number">
> <button id="btn">è®¡ç®—</button>
> <script type="text/javascript">
>  // 1 1 2 3 5 8    f(n) = f(n-1) + f(n-2)
>  function fibonacci(n) {
>    return n<=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //é€’å½’è°ƒç”¨
>  }
>  // console.log(fibonacci(7))
>  var input = document.getElementById('number')
>  document.getElementById('btn').onclick = function () {
>    var number = input.value
>    var result = fibonacci(number)
>    alert(result)
>  }
> </script>
> ```
>
> å½“æˆ‘è¿è¡Œæ­¤è¡Œä»£ç ,ä¼ å…¥è®¡ç®—æ•°å€¼ä¸º50å·¦å³(æœ‰çš„ç”šè‡³æ›´ä½Ž),æ•´ä¸ªé¡µé¢å°±ä¼šå¡ä½å¥½ä¹…çš„æ—¶é—´ä¸èƒ½æ“ä½œ(è®¡ç®—ç»“æŸåŽæ‰ä¼šå¼¹çª—,ä½†æ˜¯æœªå¼¹çª—çš„è¿™æ®µæ—¶é—´ç”¨æˆ·å¹¶ä¸èƒ½è¿›è¡Œæ“ä½œ),è¿™æ—¶å€™å°±ä¼šå‘çŽ°å•çº¿ç¨‹çš„å¼Šç«¯äº†

### â…¡-å°è¯•ä½¿ç”¨

> 1. H5è§„èŒƒæä¾›äº†jsåˆ†çº¿ç¨‹çš„å®žçŽ°, å–åä¸º: Web Workers
> 2. ç›¸å…³API
>
> - Worker: æž„é€ å‡½æ•°, åŠ è½½åˆ†çº¿ç¨‹æ‰§è¡Œçš„jsæ–‡ä»¶
> - Worker.prototype.onmessage: ç”¨äºŽæŽ¥æ”¶å¦ä¸€ä¸ªçº¿ç¨‹çš„å›žè°ƒå‡½æ•°
> - Worker.prototype.postMessage: å‘å¦ä¸€ä¸ªçº¿ç¨‹å‘é€æ¶ˆæ¯
>
> 1. ä¸è¶³
>
> - workerå†…ä»£ç ä¸èƒ½æ“ä½œDOM(æ›´æ–°UI)
> - ä¸èƒ½è·¨åŸŸåŠ è½½JS
> - ä¸æ˜¯æ¯ä¸ªæµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªæ–°ç‰¹æ€§

#### â‘  ä¸»çº¿ç¨‹

> 1. åˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡
> 2. ç»‘å®š[ä¸»çº¿ç¨‹æŽ¥æ”¶åˆ†çº¿ç¨‹è¿”å›žçš„æ•°æ®]æ–¹æ³•
> 3. ä¸»çº¿ç¨‹å‘åˆ†çº¿ç¨‹å‘é€æ•°æ®,ç„¶åŽç­‰å¾…æŽ¥å—æ•°æ®
> 4. æŽ¥æ”¶åˆ°åˆ†çº¿ç¨‹å›žé¦ˆçš„æ•°æ®,å°†æ•°æ®è¿›è¡Œå¤„ç†(å¦‚å¼¹çª—)
>
> ```
> <body>
> <input type="text" placeholder="æ•°å€¼" id="number">
> <button id="btn">è®¡ç®—</button>
> <script type="text/javascript">
>  var input = document.getElementById('number')
>  document.getElementById('btn').onclick = function () {
>    var number = input.value
> 
>    //åˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡
>    var worker = new Worker('worker.js')
>    // ç»‘å®šæŽ¥æ”¶æ¶ˆæ¯çš„ç›‘å¬
>    worker.onmessage = function (event) { //æ­¤å¤„å˜æˆå›žè°ƒä»£ç ,ä¼šåœ¨åˆå§‹åŒ–å·¥ä½œå®ŒæˆåŽæ‰ä¼šè¿›è¡Œ
>      console.log('ä¸»çº¿ç¨‹æŽ¥æ”¶åˆ†çº¿ç¨‹è¿”å›žçš„æ•°æ®: '+event.data)
>      alert(event.data)
>    }
> 
>    // å‘åˆ†çº¿ç¨‹å‘é€æ¶ˆæ¯
>    worker.postMessage(number)
>    console.log('ä¸»çº¿ç¨‹å‘åˆ†çº¿ç¨‹å‘é€æ•°æ®: '+number)
>  }
>  // console.log(this) // window
> 
> </script>
> </body>
> ```

#### â‘¡ åˆ†çº¿ç¨‹

> å°†è®¡ç®—æ”¾ç½®åˆ†çº¿ç¨‹ä¸­
>
> `æ³¨æ„`:alert(result) alertæ˜¯windowçš„æ–¹æ³•, åœ¨åˆ†çº¿ç¨‹ä¸èƒ½è°ƒç”¨,`åˆ†çº¿ç¨‹ä¸­çš„å…¨å±€å¯¹è±¡ä¸å†æ˜¯window`, æ‰€ä»¥åœ¨åˆ†çº¿ç¨‹ä¸­ä¸å¯èƒ½æ›´æ–°ç•Œé¢
>
> ```
> //worker.js
> function fibonacci(n) {
>  return n<=2 ? 1 : fibonacci(n-1) + fibonacci(n-2)  //é€’å½’è°ƒç”¨
> }
> 
> console.log(this)
> this.onmessage = function (event) {
>  var number = event.data
>  console.log('åˆ†çº¿ç¨‹æŽ¥æ”¶åˆ°ä¸»çº¿ç¨‹å‘é€çš„æ•°æ®: '+number)
>  //è®¡ç®—
>  var result = fibonacci(number)
>  postMessage(result)
>  console.log('åˆ†çº¿ç¨‹å‘ä¸»çº¿ç¨‹è¿”å›žæ•°æ®: '+result)
>  // alert(result)  alertæ˜¯windowçš„æ–¹æ³•, åœ¨åˆ†çº¿ç¨‹ä¸èƒ½è°ƒç”¨
>  // åˆ†çº¿ç¨‹ä¸­çš„å…¨å±€å¯¹è±¡ä¸å†æ˜¯window, æ‰€ä»¥åœ¨åˆ†çº¿ç¨‹ä¸­ä¸å¯èƒ½æ›´æ–°ç•Œé¢
> }
> ```

### â…¢-æµç¨‹åŽŸç†å›¾

> ![image-20210729173545339](https://gitee.com/hongjilin/hongs-study-notes/raw/master/%E7%BC%96%E7%A8%8B_%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HTML+CSS+JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/JavaScript%E7%AC%94%E8%AE%B0/A_JavaScript%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/image-20210729173545339.png)
